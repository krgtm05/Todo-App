"use strict";(self.webpackChunkTodoApp=self.webpackChunkTodoApp||[]).push([[179],{2011:(vt,Se,P)=>{P.d(Se,{Dh:()=>fe,GT:()=>re,cc:()=>Oe,hO:()=>We,on:()=>G,pX:()=>ie,xv:()=>he});var l=P(4650),K=P(9260),R=P(2122);vt=P.hmd(vt);const oe=["ngOnDestroy"],ie=(Re,xe,je,Ae={})=>new Proxy(Re,{get:(_e,Pe)=>je.runOutsideAngular(()=>{var $e;if(Re[Pe])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(Pe,Re[Pe]),Re[Pe];if(oe.indexOf(Pe)>-1)return()=>{};const Ve=xe.toPromise().then(U=>{const Ee=U&&U[Pe];return"function"==typeof Ee?Ee.bind(U):Ee&&Ee.then?Ee.then(Ge=>je.run(()=>Ge)):je.run(()=>Ee)});return new Proxy(()=>{},{get:(U,Ee)=>Ve[Ee],apply:(U,Ee,Ge)=>Ve.then(Ye=>{var Et;const ut=Ye&&Ye(...Ge);return!(null===(Et=Ae?.spy)||void 0===Et)&&Et.apply&&Ae.spy.apply(Pe,Ge,ut),ut})})})}),re=(Re,xe)=>{xe.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Ae=>{Object.defineProperty(Re.prototype,Ae,Object.getOwnPropertyDescriptor(je.prototype||je,Ae))})})};class ve{constructor(xe){return xe}}const fe=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function G(Re,xe,je){const _e="object"==typeof je&&je||{};_e.name=_e.name||"string"==typeof je&&je||"[DEFAULT]";const $e=K.Z.apps.filter(Ve=>Ve&&Ve.name===_e.name)[0]||xe.runOutsideAngular(()=>K.Z.initializeApp(Re,_e));try{JSON.stringify(Re)!==JSON.stringify($e.options)&&$("error",`${$e.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve($e)}const $=(Re,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Re](...xe)},q={provide:ve,useFactory:G,deps:[fe,l.R0b,[new l.FiY,he]]};let We=(()=>{class Re{constructor(je){K.Z.registerVersion("angularfire",R.q4.full,"core"),K.Z.registerVersion("angularfire",R.q4.full,"app-compat"),K.Z.registerVersion("angular",l.q4F.full,je.toString())}static initializeApp(je,Ae){return{ngModule:Re,providers:[{provide:fe,useValue:je},{provide:he,useValue:Ae}]}}}return Re.\u0275fac=function(je){return new(je||Re)(l.LFG(l.Lbi))},Re.\u0275mod=l.oAB({type:Re}),Re.\u0275inj=l.cJS({providers:[q]}),Re})();function Oe(Re,xe,je,Ae,_e){const[,Pe,$e]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Re)||[];if(Pe)return function Ze(Re,xe){try{return Re.toString()===xe.toString()}catch{return Re===xe}}(_e,$e)||(pe("error",`${xe} was already initialized on the ${je} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:_e,was:$e})),Pe;{const Ve=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Re,Ve,_e]),Ve}}const yt=!!vt.hot,pe=(Re,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Re](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(vt,Se,P)=>{P.d(Se,{q4:()=>qu,iC:()=>ys,HU:()=>In,vb:()=>Ku,JM:()=>qr});var l=P(4650),K=P(259),R=P(5861),oe=P(9681),ie=P(2090),re=P(4859),ve=P(1877),fe=P(8766);const he="@firebase/installations",G="0.6.3",q=`w:${G}`,We="FIS_v2",xe=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Ae({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function _e(I){return{token:I.token,requestStatus:2,expiresIn:Ye(I.expiresIn),creationTime:Date.now()}}function Pe(I,C){return $e.apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(I,C){const L=(yield C.json()).error;return xe.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ve({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function U(I,{refreshToken:C}){const M=Ve(I);return M.append("Authorization",function Et(I){return`${We} ${I}`}(C)),M}function Ee(I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,R.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function Ye(I){return Number(I.replace("s","000"))}function ut(I,C){return ue.apply(this,arguments)}function ue(){return(ue=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const L=Ae(I),Z=Ve(I),ne=C.getImmediate({optional:!0});if(ne){const Dt=yield ne.getHeartbeatsHeader();Dt&&Z.append("x-firebase-client",Dt)}const Ke={method:"POST",headers:Z,body:JSON.stringify({fid:M,authVersion:We,appId:I.appId,sdkVersion:q})},Tt=yield Ee(()=>fetch(L,Ke));if(Tt.ok){const Dt=yield Tt.json();return{fid:Dt.fid||M,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:_e(Dt.authToken)}}throw yield Pe("Create Installation",Tt)})).apply(this,arguments)}function ge(I){return new Promise(C=>{setTimeout(C,I)})}const ke=/^[cdef][\w-]{21}$/;function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function it(I){return function De(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ke.test(M)?M:""}catch{return""}}function Je(I){return`${I.appName}!${I.appId}`}const hn=new Map;function Mt(I,C){const M=Je(I);Bt(M,C),function Nn(I,C){const M=function Dn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=I=>{Bt(I.data.key,I.data.fid)}),Pn}();M&&M.postMessage({key:I,fid:C}),function Mn(){0===hn.size&&Pn&&(Pn.close(),Pn=null)}()}(M,C)}function Bt(I,C){const M=hn.get(I);if(M)for(const L of M)L(C)}let Pn=null;const Jr="firebase-installations-store";let J=null;function Y(){return J||(J=(0,fe.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Jr)}})),J}function se(I,C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,R.Z)(function*(I,C){const M=Je(I),Z=(yield Y()).transaction(Jr,"readwrite"),ne=Z.objectStore(Jr),Fe=yield ne.get(M);return yield ne.put(C,M),yield Z.done,(!Fe||Fe.fid!==C.fid)&&Mt(I,C.fid),C})).apply(this,arguments)}function me(I){return st.apply(this,arguments)}function st(){return(st=(0,R.Z)(function*(I){const C=Je(I),L=(yield Y()).transaction(Jr,"readwrite");yield L.objectStore(Jr).delete(C),yield L.done})).apply(this,arguments)}function gn(I,C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(I,C){const M=Je(I),Z=(yield Y()).transaction(Jr,"readwrite"),ne=Z.objectStore(Jr),Fe=yield ne.get(M),Ke=C(Fe);return void 0===Ke?yield ne.delete(M):yield ne.put(Ke,M),yield Z.done,Ke&&(!Fe||Fe.fid!==Ke.fid)&&Mt(I,Ke.fid),Ke})).apply(this,arguments)}function $t(I){return En.apply(this,arguments)}function En(){return(En=(0,R.Z)(function*(I){let C;const M=yield gn(I.appConfig,L=>{const Z=Ot(L),ne=It(I,Z);return C=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}})).apply(this,arguments)}function Ot(I){return qn(I||{fid:ze(),registrationStatus:0})}function It(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(xe.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function Nt(I,C){return Xr.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:on(I)}:{installationEntry:C}}function Xr(){return(Xr=(0,R.Z)(function*(I,C){try{const M=yield ut(I,C);return se(I.appConfig,M)}catch(M){throw je(M)&&409===M.customData.serverCode?yield me(I.appConfig):yield se(I.appConfig,{fid:C.fid,registrationStatus:0}),M}})).apply(this,arguments)}function on(I){return vn.apply(this,arguments)}function vn(){return(vn=(0,R.Z)(function*(I){let C=yield fn(I.appConfig);for(;1===C.registrationStatus;)yield ge(100),C=yield fn(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield $t(I);return L||M}return C})).apply(this,arguments)}function fn(I){return gn(I,C=>{if(!C)throw xe.create("installation-not-found");return qn(C)})}function qn(I){return function eo(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function pn(I,C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const L=an(I,M),Z=U(I,M),ne=C.getImmediate({optional:!0});if(ne){const Dt=yield ne.getHeartbeatsHeader();Dt&&Z.append("x-firebase-client",Dt)}const Ke={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:q,appId:I.appId}})},Tt=yield Ee(()=>fetch(L,Ke));if(Tt.ok)return _e(yield Tt.json());throw yield Pe("Generate Auth Token",Tt)})).apply(this,arguments)}function an(I,{fid:C}){return`${Ae(I)}/${C}/authTokens:generate`}function $r(I){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,R.Z)(function*(I,C=!1){let M;const L=yield gn(I.appConfig,ne=>{if(!zt(ne))throw xe.create("not-registered");const Fe=ne.authToken;if(!C&&j(Fe))return ne;if(1===Fe.requestStatus)return M=Qe(I,C),ne;{if(!navigator.onLine)throw xe.create("app-offline");const Ke=W(ne);return M=Lt(I,Ke),Ke}});return M?yield M:L.authToken})).apply(this,arguments)}function Qe(I,C){return Me.apply(this,arguments)}function Me(){return(Me=(0,R.Z)(function*(I,C){let M=yield ft(I.appConfig);for(;1===M.authToken.requestStatus;)yield ge(100),M=yield ft(I.appConfig);const L=M.authToken;return 0===L.requestStatus?$r(I,C):L})).apply(this,arguments)}function ft(I){return gn(I,C=>{if(!zt(C))throw xe.create("not-registered");return function we(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Lt(I,C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,R.Z)(function*(I,C){try{const M=yield pn(I,C),L=Object.assign(Object.assign({},C),{authToken:M});return yield se(I.appConfig,L),M}catch(M){if(!je(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield se(I.appConfig,L)}else yield me(I.appConfig);throw M}})).apply(this,arguments)}function zt(I){return void 0!==I&&2===I.registrationStatus}function j(I){return 2===I.requestStatus&&!function V(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function W(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function bt(){return(bt=(0,R.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:L}=yield $t(C);return L?L.catch(console.error):$r(C).catch(console.error),M.fid})).apply(this,arguments)}function en(){return(en=(0,R.Z)(function*(I,C=!1){const M=I;return yield Un(M),(yield $r(M,C)).token})).apply(this,arguments)}function Un(I){return xt.apply(this,arguments)}function xt(){return(xt=(0,R.Z)(function*(I){const{registrationPromise:C}=yield $t(I);C&&(yield C)})).apply(this,arguments)}function bu(I){return xe.create("missing-app-config-values",{valueName:I})}const ql="installations",jn=I=>{const C=I.getProvider("app").getImmediate(),M=function Ea(I){if(!I||!I.options)throw bu("App Configuration");if(!I.name)throw bu("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw bu(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},yd=I=>{const C=I.getProvider("app").getImmediate(),M=(0,oe._getProvider)(C,ql).getImmediate();return{getId:()=>function te(I){return bt.apply(this,arguments)}(M),getToken:Z=>function Wt(I){return en.apply(this,arguments)}(M,Z)}};(function Zl(){(0,oe._registerComponent)(new re.wA(ql,jn,"PUBLIC")),(0,oe._registerComponent)(new re.wA("installations-internal",yd,"PRIVATE"))})(),(0,oe.registerVersion)(he,G),(0,oe.registerVersion)(he,G,"esm2017");const Ia="@firebase/remote-config",rr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class to{constructor(C,M,L,Z){this.client=C,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Z}.`),Z}fetch(C){var M=this;return(0,R.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(C.cacheMaxAgeMillis,L))return Z;C.eTag=Z&&Z.eTag;const ne=yield M.client.fetch(C),Fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Fe.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Fe),ne})()}}function Ci(I=navigator){return I.languages&&I.languages[0]||I.language}class ds{constructor(C,M,L,Z,ne,Fe){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=ne,this.appId=Fe}fetch(C){var M=this;return(0,R.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Tt={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:Ci()},Dt={method:"POST",headers:Ke,body:JSON.stringify(Tt)},X=fetch(Fe,Dt),Rt=new Promise((dt,Li)=>{C.signal.addEventListener(()=>{const kt=new Error("The operation was aborted.");kt.name="AbortError",Li(kt)})});let Fr;try{yield Promise.race([X,Rt]),Fr=yield X}catch(dt){let Li="fetch-client-network";throw"AbortError"===dt?.name&&(Li="fetch-timeout"),rr.create(Li,{originalErrorMessage:dt?.message})}let Sn=Fr.status;const Xt=Fr.headers.get("ETag")||void 0;let Cc,si;if(200===Fr.status){let dt;try{dt=yield Fr.json()}catch(Li){throw rr.create("fetch-client-parse",{originalErrorMessage:Li?.message})}Cc=dt.entries,si=dt.state}if("INSTANCE_STATE_UNSPECIFIED"===si?Sn=500:"NO_CHANGE"===si?Sn=304:("NO_TEMPLATE"===si||"EMPTY_CONFIG"===si)&&(Cc={}),304!==Sn&&200!==Sn)throw rr.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:Xt,config:Cc}})()}}class es{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,R.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,R.Z)(function*(){yield function dr(I,C){return new Promise((M,L)=>{const Z=Math.max(C-Date.now(),0),ne=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ne),L(rr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const ne=yield Z.client.fetch(C);return yield Z.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function bn(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const Fe={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Fe),Z.attemptFetch(C,Fe)}})()}}class Go{constructor(C,M,L,Z,ne){this.app=C,this._client=M,this._storageCache=L,this._storage=Z,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function no(I,C){const M=I.target.error||void 0;return rr.create(C,{originalErrorMessage:M&&M?.message})}const ti="app_namespace_store";class Pi{constructor(C,M,L,Z=function li(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{C(no(L,"storage-open"))},M.onsuccess=L=>{I(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ti,{keyPath:"compositeKey"})}}catch(M){C(rr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,R.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ne)=>{const Ke=L.transaction([ti],"readonly").objectStore(ti),Tt=M.createCompositeKey(C);try{const Dt=Ke.get(Tt);Dt.onerror=X=>{ne(no(X,"storage-get"))},Dt.onsuccess=X=>{const Rt=X.target.result;Z(Rt?Rt.value:void 0)}}catch(Dt){ne(rr.create("storage-get",{originalErrorMessage:Dt?.message}))}})})()}set(C,M){var L=this;return(0,R.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ne,Fe)=>{const Tt=Z.transaction([ti],"readwrite").objectStore(ti),Dt=L.createCompositeKey(C);try{const X=Tt.put({compositeKey:Dt,value:M});X.onerror=Rt=>{Fe(no(Rt,"storage-set"))},X.onsuccess=()=>{ne()}}catch(X){Fe(rr.create("storage-set",{originalErrorMessage:X?.message}))}})})()}delete(C){var M=this;return(0,R.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ne)=>{const Ke=L.transaction([ti],"readwrite").objectStore(ti),Tt=M.createCompositeKey(C);try{const Dt=Ke.delete(Tt);Dt.onerror=X=>{ne(no(X,"storage-delete"))},Dt.onsuccess=()=>{Z()}}catch(Dt){ne(rr.create("storage-delete",{originalErrorMessage:Dt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Ca{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const M=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),Z=C.storage.getActiveConfig(),ne=yield M;ne&&(C.lastFetchStatus=ne);const Fe=yield L;Fe&&(C.lastSuccessfulFetchTimestampMillis=Fe);const Ke=yield Z;Ke&&(C.activeConfig=Ke)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Sa(){return gf.apply(this,arguments)}function gf(){return(gf=(0,R.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Fi(){(0,oe._registerComponent)(new re.wA("remote-config",function I(C,{instanceIdentifier:M}){const L=C.getProvider("app").getImmediate(),Z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rr.create("registration-window");if(!(0,ie.hl)())throw rr.create("indexed-db-unavailable");const{projectId:ne,apiKey:Fe,appId:Ke}=L.options;if(!ne)throw rr.create("registration-project-id");if(!Fe)throw rr.create("registration-api-key");if(!Ke)throw rr.create("registration-app-id");const Tt=new Pi(Ke,L.name,M=M||"firebase"),Dt=new Ca(Tt),X=new ve.Yd(Ia);X.logLevel=ve.in.ERROR;const Rt=new ds(Z,oe.SDK_VERSION,M,ne,Fe,Ke),Fr=new es(Rt,Tt),Sn=new to(Fr,Tt,Dt,X),Xt=new Go(L,Sn,Dt,Tt,X);return function $n(I){const C=(0,ie.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Xt),Xt},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ia,"0.4.3"),(0,oe.registerVersion)(Ia,"0.4.3","esm2017")}();const Jl="/firebase-messaging-sw.js",hs="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xl="google.c.a.c_id",mf="google.c.a.c_l",wd="google.c.a.ts",Ig="google.c.a.e";var ro=(()=>{return(I=ro||(ro={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ro;var I})();function ts(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tg(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)Z[ne]=L.charCodeAt(ne);return Z}const ec="fcm_token_details_db",ni="fcm_token_object_Store";function nc(I){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ec))return null;let C=null;return(yield(0,fe.X3)(ec,5,{upgrade:(L=(0,R.Z)(function*(Z,ne,Fe,Ke){var Tt;if(ne<2||!Z.objectStoreNames.contains(ni))return;const Dt=Ke.objectStore(ni),X=yield Dt.index("fcmSenderId").get(I);if(yield Dt.clear(),X)if(2===ne){const Rt=X;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;C={token:Rt.fcmToken,createTime:null!==(Tt=Rt.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:ts(Rt.vapidKey)}}}else if(3===ne){const Rt=X;C={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ts(Rt.auth),p256dh:ts(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ts(Rt.vapidKey)}}}else if(4===ne){const Rt=X;C={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:ts(Rt.auth),p256dh:ts(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:ts(Rt.vapidKey)}}}}),function(ne,Fe,Ke,Tt){return L.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ec),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Ed(C)?C:null;var L}),Dd.apply(this,arguments)}function Ed(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const so="firebase-messaging-store";let Du=null;function Wo(){return Du||(Du=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(so)}})),Du}function Eu(I){return qo.apply(this,arguments)}function qo(){return(qo=(0,R.Z)(function*(I){const C=Yo(I),L=yield(yield Wo()).transaction(so).objectStore(so).get(C);if(L)return L;{const Z=yield nc(I.appConfig.senderId);if(Z)return yield oo(I,Z),Z}})).apply(this,arguments)}function oo(I,C){return Na.apply(this,arguments)}function Na(){return(Na=(0,R.Z)(function*(I,C){const M=Yo(I),Z=(yield Wo()).transaction(so,"readwrite");return yield Z.objectStore(so).put(C,M),yield Z.done,C})).apply(this,arguments)}function Id(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,R.Z)(function*(I){const C=Yo(I),L=(yield Wo()).transaction(so,"readwrite");yield L.objectStore(so).delete(C),yield L.done})).apply(this,arguments)}function Yo({appConfig:I}){return I.appId}const Yn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Iu(I,C){return er.apply(this,arguments)}function er(){return(er=(0,R.Z)(function*(I,C){const M=yield uo(I),L=Oa(C),Z={method:"POST",headers:M,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(Ko(I.appConfig),Z)).json()}catch(Fe){throw Yn.create("token-subscribe-failed",{errorInfo:Fe?.toString()})}if(ne.error)throw Yn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Yn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Ma(I,C){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(I,C){const M=yield uo(I),L=Oa(C.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${Ko(I.appConfig)}/${C.token}`,Z)).json()}catch(Fe){throw Yn.create("token-update-failed",{errorInfo:Fe?.toString()})}if(ne.error)throw Yn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Yn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function sr(I,C){return rc.apply(this,arguments)}function rc(){return(rc=(0,R.Z)(function*(I,C){const L={method:"DELETE",headers:yield uo(I)};try{const ne=yield(yield fetch(`${Ko(I.appConfig)}/${C}`,L)).json();if(ne.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Z){throw Yn.create("token-unsubscribe-failed",{errorInfo:Z?.toString()})}})).apply(this,arguments)}function Ko({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function uo(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,R.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Oa({p256dh:I,auth:C,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:C,p256dh:I}};return L!==Ho&&(Z.web.applicationPubKey=L),Z}const Qo=6048e5;function Tu(I){return fs.apply(this,arguments)}function fs(){return(fs=(0,R.Z)(function*(I){const C=yield ic(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:ts(C.getKey("auth")),p256dh:ts(C.getKey("p256dh"))},L=yield Eu(I.firebaseDependencies);if(L){if(Au(L.subscriptionOptions,M))return Date.now()>=L.createTime+Qo?jt(I,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield sr(I.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return Td(I.firebaseDependencies,M)}return Td(I.firebaseDependencies,M)})).apply(this,arguments)}function xa(I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,R.Z)(function*(I){const C=yield Eu(I.firebaseDependencies);C&&(yield sr(I.firebaseDependencies,C.token),yield Id(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function jt(I,C){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,R.Z)(function*(I,C){try{const M=yield Ma(I.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield oo(I.firebaseDependencies,L),M}catch(M){throw yield xa(I),M}})).apply(this,arguments)}function Td(I,C){return Su.apply(this,arguments)}function Su(){return(Su=(0,R.Z)(function*(I,C){const L={token:yield Iu(I,C),createTime:Date.now(),subscriptionOptions:C};return yield oo(I,L),L.token})).apply(this,arguments)}function ic(I,C){return sc.apply(this,arguments)}function sc(){return(sc=(0,R.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tg(C)})})).apply(this,arguments)}function Au(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function _f(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function oc(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const L=C.notification.body;L&&(I.notification.body=L);const Z=C.notification.image;Z&&(I.notification.image=Z);const ne=C.notification.icon;ne&&(I.notification.icon=ne)}(C,I),function be(I,C){C.data&&(I.data=C.data)}(C,I),function ln(I,C){var M,L,Z,ne,Fe;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const Ke=null!==(Z=null===(L=C.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Z?Z:null===(ne=C.notification)||void 0===ne?void 0:ne.click_action;Ke&&(I.fcmOptions.link=Ke);const Tt=null===(Fe=C.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;Tt&&(I.fcmOptions.analyticsLabel=Tt)}(C,I),C}function ac(I){return"object"==typeof I&&!!I&&Xl in I}function Cd(I,C){const M=[];for(let L=0;L<I.length;L++)M.push(I.charAt(L)),L<C.length&&M.push(C.charAt(L));return M.join("")}function ka(I){return Yn.create("missing-app-config-values",{valueName:I})}Cd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nu{constructor(C,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function xr(I){if(!I||!I.options)throw ka("App Configuration Object");if(!I.name)throw ka("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const L of C)if(!M[L])throw ka(L);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function hi(I){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,R.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Jl,{scope:hs}),I.swRegistration.update().catch(()=>{})}catch(C){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Ou(I,C){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,R.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield hi(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function uc(I,C){return xu.apply(this,arguments)}function xu(){return(xu=(0,R.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Ho)})).apply(this,arguments)}function fi(){return(fi=(0,R.Z)(function*(I,C){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield uc(I,C?.vapidKey),yield Ou(I,C?.serviceWorkerRegistration),Tu(I)})).apply(this,arguments)}function Ps(I,C,M){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(I,C,M){const L=ns(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Xl],message_name:M[mf],message_time:M[wd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ns(I){switch(I){case ro.NOTIFICATION_CLICKED:return"notification_open";case ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pa(){return(Pa=(0,R.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===ro.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(_f(M)):I.onMessageHandler.next(_f(M)));const L=M.data;ac(L)&&"1"===L[Ig]&&(yield Ps(I,M.messageType,L))})).apply(this,arguments)}const Nd="@firebase/messaging",cc=I=>{const C=new Nu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ad(I,C){return Pa.apply(this,arguments)}(C,M)),C},ps=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:L=>function hr(I,C){return fi.apply(this,arguments)}(C,L)}};function dc(){return Od.apply(this,arguments)}function Od(){return(Od=(0,R.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Md(){(0,oe._registerComponent)(new re.wA("messaging",cc,"PUBLIC")),(0,oe._registerComponent)(new re.wA("messaging-internal",ps,"PRIVATE")),(0,oe.registerVersion)(Nd,"0.12.3"),(0,oe.registerVersion)(Nd,"0.12.3","esm2017")}();const xd="analytics",ri="firebase_id",Xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fc="https://www.googletagmanager.com/gtag/js",Rr=new ve.Yd("@firebase/analytics");function bf(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function Ag(I,C){const M=document.createElement("script");M.src=`${fc}?l=${I}&id=${C}`,M.async=!0,document.head.appendChild(M)}function Fa(I,C,M,L,Z,ne){return co.apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(I,C,M,L,Z,ne){const Fe=L[Z];try{if(Fe)yield C[Fe];else{const Tt=(yield bf(M)).find(Dt=>Dt.measurementId===Z);Tt&&(yield C[Tt.appId])}}catch(Ke){Rr.error(Ke)}I("config",Z,ne)})).apply(this,arguments)}function ku(I,C,M,L,Z){return rs.apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(I,C,M,L,Z){try{let ne=[];if(Z&&Z.send_to){let Fe=Z.send_to;Array.isArray(Fe)||(Fe=[Fe]);const Ke=yield bf(M);for(const Tt of Fe){const Dt=Ke.find(Rt=>Rt.measurementId===Tt),X=Dt&&C[Dt.appId];if(!X){ne=[];break}ne.push(X)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),I("event",L,Z||{})}catch(ne){Rr.error(ne)}})).apply(this,arguments)}function gs(I){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(fc)&&M.src.includes(I))return M;return null}const pi=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),kd=new class fo{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Pu(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function po(I){return gc.apply(this,arguments)}function gc(){return(gc=(0,R.Z)(function*(I){var C;const{appId:M,apiKey:L}=I,Z={method:"GET",headers:Pu(L)},ne=Xo.replace("{app-id}",M),Fe=yield fetch(ne,Z);if(200!==Fe.status&&304!==Fe.status){let Ke="";try{const Tt=yield Fe.json();null!==(C=Tt.error)&&void 0!==C&&C.message&&(Ke=Tt.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:Ke})}return Fe.json()})).apply(this,arguments)}function Gn(I){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,R.Z)(function*(I,C=kd,M){const{appId:L,apiKey:Z,measurementId:ne}=I.options;if(!L)throw pi.create("no-app-id");if(!Z){if(ne)return{measurementId:ne,appId:L};throw pi.create("no-api-key")}const Fe=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Va;return setTimeout((0,R.Z)(function*(){Ke.abort()}),void 0!==M?M:6e4),ea({appId:L,apiKey:Z,measurementId:ne},Fe,Ke,C)})).apply(this,arguments)}function ea(I,C,M){return ms.apply(this,arguments)}function ms(){return(ms=(0,R.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},L,Z=kd){var ne;const{appId:Fe,measurementId:Ke}=I;try{yield ta(L,C)}catch(Tt){if(Ke)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:Fe,measurementId:Ke};throw Tt}try{const Tt=yield po(I);return Z.deleteThrottleMetadata(Fe),Tt}catch(Tt){const Dt=Tt;if(!mc(Dt)){if(Z.deleteThrottleMetadata(Fe),Ke)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${Dt?.message}]`),{appId:Fe,measurementId:Ke};throw Tt}const X=503===Number(null===(ne=Dt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,ie.$s)(M,Z.intervalMillis,30):(0,ie.$s)(M,Z.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+X,backoffCount:M+1};return Z.setThrottleMetadata(Fe,Rt),Rr.debug(`Calling attemptFetch again in ${X} millis`),ea(I,Rt,L,Z)}})).apply(this,arguments)}function ta(I,C){return new Promise((M,L)=>{const Z=Math.max(C-Date.now(),0),ne=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ne),L(pi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function mc(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Va{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Fu,mo;function Ls(){return(Ls=(0,R.Z)(function*(I,C,M,L,Z){if(Z&&Z.global)I("event",M,L);else{const ne=yield C;I("event",M,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function Bu(I){mo=I}function Uu(I){Fu=I}function ju(){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,R.Z)(function*(){if(!(0,ie.hl)())return Rr.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return Rr.warn(pi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function $u(){return($u=(0,R.Z)(function*(I,C,M,L,Z,ne,Fe){var Ke;const Tt=Gn(I);Tt.then(Sn=>{M[Sn.measurementId]=Sn.appId,I.options.measurementId&&Sn.measurementId!==I.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>Rr.error(Sn)),C.push(Tt);const Dt=ju().then(Sn=>{if(Sn)return L.getId()}),[X,Rt]=yield Promise.all([Tt,Dt]);gs(ne)||Ag(ne,X.measurementId),mo&&(Z("consent","default",mo),Bu(void 0)),Z("js",new Date);const Fr=null!==(Ke=Fe?.config)&&void 0!==Ke?Ke:{};return Fr.origin="firebase",Fr.update=!0,null!=Rt&&(Fr[ri]=Rt),Z("config",X.measurementId,Fr),Fu&&(Z("set",Fu),Uu(void 0)),X.measurementId})).apply(this,arguments)}class Gu{constructor(C){this.app=C}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},_c=[];const ia={};let vc,ss,is="dataLayer",Ai=!1;function Hu(I,C,M){!function bc(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=pi.create("invalid-analytics-context",{errorInfo:C});Rr.warn(M.message)}}();const L=I.options.appId;if(!L)throw pi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw pi.create("no-api-key");Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[L])throw pi.create("already-exists",{id:L});if(!Ai){!function Ng(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(is);const{wrappedGtag:ne,gtagCore:Fe}=function wf(I,C,M,L,Z){let ne=function(...Fe){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ne=window[Z]),window[Z]=function ho(I,C,M,L){function ne(){return(ne=(0,R.Z)(function*(Fe,Ke,Tt){try{"event"===Fe?yield ku(I,C,M,Ke,Tt):"config"===Fe?yield Fa(I,C,M,L,Ke,Tt):"consent"===Fe?I("consent","update",Tt):I("set",Ke)}catch(Dt){Rr.error(Dt)}})).apply(this,arguments)}return function Z(Fe,Ke,Tt){return ne.apply(this,arguments)}}(ne,I,C,M),{gtagCore:ne,wrappedGtag:window[Z]}}(_s,_c,ia,is,"gtag");ss=ne,vc=Fe,Ai=!0}return _s[L]=function _o(I,C,M,L,Z,ne,Fe){return $u.apply(this,arguments)}(I,_c,ia,C,vc,is,M),new Gu(I)}function Ld(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,R.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const _n="@firebase/analytics";!function Og(){(0,oe._registerComponent)(new re.wA(xd,(C,{options:M})=>Hu(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new re.wA("analytics-internal",function I(C){try{const M=C.getProvider(xd).getImmediate();return{logEvent:(L,Z,ne)=>function fy(I,C,M,L){I=(0,ie.m9)(I),function Lu(I,C,M,L,Z){return Ls.apply(this,arguments)}(ss,_s[I.app.options.appId],C,M,L).catch(Z=>Rr.error(Z))}(M,L,Z,ne)}}catch(M){throw pi.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(_n,"0.9.3"),(0,oe.registerVersion)(_n,"0.9.3","esm2017")}();var Bd=P(4408),Ec=P(7565);const Ef=new class jd extends Ec.v{}(class Ud extends Bd.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(C,M,L):(C.flush(this),0)}});var $d=P(4986),Tc=P(8505),Rn=P(9468),Wu=P(5363);const qu=new l.GfV("7.5.0"),Gd="__angularfire_symbol__analyticsIsSupportedValue",ii="__angularfire_symbol__analyticsIsSupported",as="__angularfire_symbol__remoteConfigIsSupportedValue",Zu="__angularfire_symbol__remoteConfigIsSupported",Ga="__angularfire_symbol__messagingIsSupportedValue",sa="__angularfire_symbol__messagingIsSupported";function qr(I,C,M){if(C){if(1===C.length)return C[0];const ne=C.filter(Fe=>Fe.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[ii]||(globalThis[ii]=Ld().then(I=>globalThis[Gd]=I).catch(()=>globalThis[Gd]=!1)),globalThis[sa]||(globalThis[sa]=dc().then(I=>globalThis[Ga]=I).catch(()=>globalThis[Ga]=!1)),globalThis[Zu]||(globalThis[Zu]=Sa().then(I=>globalThis[as]=I).catch(()=>globalThis[as]=!1));const Ku=(I,C)=>{const M=C?[C]:(0,K.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(I).instances.forEach(Fe=>{L.includes(Fe)||L.push(Fe)})}),L};function Kn(){}class yo{constructor(C,M=Ef){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,L){const Z=this.zone;return this.delegate.schedule(function(Fe){Z.runGuarded(()=>{C.apply(this,[Fe])})},M,L)}}class kr{constructor(C){this.zone=C,this.task=null}call(C,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kn,{},Kn,Kn)),M.pipe((0,Tc.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let In=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new yo(Zone.current)),this.insideAngular=M.run(()=>new yo(Zone.current,$d.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Pr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ys(I){return Pr(),function Hn(I){return function(M){return(M=M.lift(new kr(I.ngZone))).pipe((0,Rn.R)(I.outsideAngular),(0,Wu.Q)(I.insideAngular))}}(Pr())(I)}},2090:(vt,Se,P)=>{P.d(Se,{$s:()=>ft,BH:()=>_e,G6:()=>De,L:()=>fe,LL:()=>hn,Pz:()=>Ae,Sg:()=>Pe,UG:()=>U,US:()=>re,ZB:()=>$,ZR:()=>Je,aH:()=>je,b$:()=>Ye,eu:()=>Ue,hl:()=>ke,jU:()=>Ee,m9:()=>zt,ne:()=>En,pd:()=>Pt,r3:()=>Ji,ru:()=>Ge,tV:()=>he,uI:()=>Ve,vZ:()=>se,w1:()=>ut,xO:()=>st,xb:()=>J,z$:()=>$e,zI:()=>ze,zd:()=>gn});const oe=function(j){const V=[];let W=0;for(let we=0;we<j.length;we++){let te=j.charCodeAt(we);te<128?V[W++]=te:te<2048?(V[W++]=te>>6|192,V[W++]=63&te|128):55296==(64512&te)&&we+1<j.length&&56320==(64512&j.charCodeAt(we+1))?(te=65536+((1023&te)<<10)+(1023&j.charCodeAt(++we)),V[W++]=te>>18|240,V[W++]=te>>12&63|128,V[W++]=te>>6&63|128,V[W++]=63&te|128):(V[W++]=te>>12|224,V[W++]=te>>6&63|128,V[W++]=63&te|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let te=0;te<j.length;te+=3){const bt=j[te],Wt=te+1<j.length,en=Wt?j[te+1]:0,Un=te+2<j.length,xt=Un?j[te+2]:0;let ur=(15&en)<<2|xt>>6,Uo=63&xt;Un||(Uo=64,Wt||(ur=64)),we.push(W[bt>>2],W[(3&bt)<<4|en>>4],W[ur],W[Uo])}return we.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(oe(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let W=0,we=0;for(;W<j.length;){const te=j[W++];if(te<128)V[we++]=String.fromCharCode(te);else if(te>191&&te<224){const bt=j[W++];V[we++]=String.fromCharCode((31&te)<<6|63&bt)}else if(te>239&&te<365){const Un=((7&te)<<18|(63&j[W++])<<12|(63&j[W++])<<6|63&j[W++])-65536;V[we++]=String.fromCharCode(55296+(Un>>10)),V[we++]=String.fromCharCode(56320+(1023&Un))}else{const bt=j[W++],Wt=j[W++];V[we++]=String.fromCharCode((15&te)<<12|(63&bt)<<6|63&Wt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let te=0;te<j.length;){const bt=W[j.charAt(te++)],en=te<j.length?W[j.charAt(te)]:0;++te;const xt=te<j.length?W[j.charAt(te)]:64;++te;const Kt=te<j.length?W[j.charAt(te)]:64;if(++te,null==bt||null==en||null==xt||null==Kt)throw Error();we.push(bt<<2|en>>4),64!==xt&&(we.push(en<<4&240|xt>>2),64!==Kt&&we.push(xt<<6&192|Kt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},fe=function(j){return function(j){const V=oe(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},he=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function $(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const W in V)!V.hasOwnProperty(W)||!q(W)||(j[W]=$(j[W],V[W]));return j}function q(j){return"__proto__"!==j}const pe=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=j&&he(j[1]);return V&&JSON.parse(V)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},je=()=>{var j;return null===(j=pe())||void 0===j?void 0:j.config},Ae=j=>{var V;return null===(V=pe())||void 0===V?void 0:V[`_${j}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,W)=>{this.resolve=V,this.reject=W})}wrapCallback(V){return(W,we)=>{W?this.reject(W):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(W):V(W,we))}}}function Pe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",te=j.iat||0,bt=j.sub||j.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:te,exp:te+3600,auth_time:te,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Wt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function U(){var j;const V=null===(j=pe())||void 0===j?void 0:j.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function Ge(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const j=$e();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function De(){return!U()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((j,V)=>{try{let W=!0;const we="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(we);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(we),j(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var bt;V((null===(bt=te.error)||void 0===bt?void 0:bt.message)||"")}}catch(W){V(W)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Je extends Error{constructor(V,W,we){super(W),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor(V,W,we){this.service=V,this.serviceName=W,this.errors=we}create(V,...W){const we=W[0]||{},te=`${this.service}/${V}`,bt=this.errors[V],Wt=bt?function Mt(j,V){return j.replace(sn,(W,we)=>{const te=V[we];return null!=te?String(te):`<${we}?>`})}(bt,we):"Error";return new Je(te,`${this.serviceName}: ${Wt} (${te}).`,we)}}const sn=/\{\$([^}]+)}/g;function Ji(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function J(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function se(j,V){if(j===V)return!0;const W=Object.keys(j),we=Object.keys(V);for(const te of W){if(!we.includes(te))return!1;const bt=j[te],Wt=V[te];if(Ce(bt)&&Ce(Wt)){if(!se(bt,Wt))return!1}else if(bt!==Wt)return!1}for(const te of we)if(!W.includes(te))return!1;return!0}function Ce(j){return null!==j&&"object"==typeof j}function st(j){const V=[];for(const[W,we]of Object.entries(j))Array.isArray(we)?we.forEach(te=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):V.push(encodeURIComponent(W)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function gn(j){const V={};return j.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[te,bt]=we.split("=");V[decodeURIComponent(te)]=decodeURIComponent(bt)}}),V}function Pt(j){const V=j.indexOf("?");if(!V)return"";const W=j.indexOf("#",V);return j.substring(V,W>0?W:void 0)}function En(j,V){const W=new Ot(j,V);return W.subscribe.bind(W)}class Ot{constructor(V,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(W=>{W.next(V)})}error(V){this.forEachObserver(W=>{W.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,W,we){let te;if(void 0===V&&void 0===W&&void 0===we)throw new Error("Missing Observer.");te=function Nt(j,V){if("object"!=typeof j||null===j)return!1;for(const W of V)if(W in j&&"function"==typeof j[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:W,complete:we},void 0===te.next&&(te.next=Xr),void 0===te.error&&(te.error=Xr),void 0===te.complete&&(te.complete=Xr);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),bt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,V)}sendOne(V,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{W(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xr(){}function ft(j,V=1e3,W=2){const we=V*Math.pow(W,j),te=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+te)}function zt(j){return j&&j._delegate?j._delegate:j}},9867:(vt,Se,P)=>{var l=P(4650);let K=null;function R(){return K}class ie{}const re=new l.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fe(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const he=new l.OlP("Location Initialized");let G=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function q(){return new G((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function We(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let yt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Re)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let Re=(()=>{class n extends yt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return We(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Ze(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Ze(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends yt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=We(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Ze(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Ze(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Oe(Pe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function _e(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,Pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=We,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(l.LFG(yt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new je((0,l.LFG)(yt))}()},providedIn:"root"}),n})();function Pe(n){return n.replace(/\/index.html$/,"")}var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),Ge=(()=>((Ge=Ge||{})[Ge.Format=0]="Format",Ge[Ge.Standalone=1]="Standalone",Ge))(),Ye=(()=>((Ye=Ye||{})[Ye.Narrow=0]="Narrow",Ye[Ye.Abbreviated=1]="Abbreviated",Ye[Ye.Wide=2]="Wide",Ye[Ye.Short=3]="Short",Ye))(),Et=(()=>((Et=Et||{})[Et.Short=0]="Short",Et[Et.Medium=1]="Medium",Et[Et.Long=2]="Long",Et[Et.Full=3]="Full",Et))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function De(n,e,t){const r=(0,l.cg1)(n),a=se([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return se(a,t)}function ke(n,e,t){const r=(0,l.cg1)(n),a=se([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return se(a,t)}function Ue(n,e,t){const r=(0,l.cg1)(n),a=se([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return se(a,t)}function hn(n,e){return se((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Mt(n,e){return se((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function sn(n,e){return se((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function lt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ut.CurrencyDecimal)return t[l.wAp.NumberSymbols][ut.Decimal];if(e===ut.CurrencyGroup)return t[l.wAp.NumberSymbols][ut.Group]}return r}function Ji(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function se(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ce(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Pt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$t={},En=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ot=(()=>((Ot=Ot||{})[Ot.Short=0]="Short",Ot[Ot.ShortGMT=1]="ShortGMT",Ot[Ot.Long=2]="Long",Ot[Ot.Extended=3]="Extended",Ot))(),It=(()=>((It=It||{})[It.FullYear=0]="FullYear",It[It.Month=1]="Month",It[It.Date=2]="Date",It[It.Hours=3]="Hours",It[It.Minutes=4]="Minutes",It[It.Seconds=5]="Seconds",It[It.FractionalSeconds=6]="FractionalSeconds",It[It.Day=7]="Day",It))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function Xr(n,e,t,r){let i=function bt(n){if(en(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(p=>+p);return on(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Pt))return function Wt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,p,_,w),e}(r)}const e=new Date(n);if(!en(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=vn(t,e)||e;let p,c=[];for(;e;){if(p=En.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const T=c.pop();if(!T)break;e=T}}let _=i.getTimezoneOffset();r&&(_=W(r,_),i=function te(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function we(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(W(e,i)-i))}(i,r,!0));let w="";return c.forEach(T=>{const N=function V(n){if(j[n])return j[n];let e;switch(n){case"G":case"GG":case"GGG":e=an(Nt.Eras,Ye.Abbreviated);break;case"GGGG":e=an(Nt.Eras,Ye.Wide);break;case"GGGGG":e=an(Nt.Eras,Ye.Narrow);break;case"y":e=pn(It.FullYear,1,0,!1,!0);break;case"yy":e=pn(It.FullYear,2,0,!0,!0);break;case"yyy":e=pn(It.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(It.FullYear,4,0,!1,!0);break;case"Y":e=zt(1);break;case"YY":e=zt(2,!0);break;case"YYY":e=zt(3);break;case"YYYY":e=zt(4);break;case"M":case"L":e=pn(It.Month,1,1);break;case"MM":case"LL":e=pn(It.Month,2,1);break;case"MMM":e=an(Nt.Months,Ye.Abbreviated);break;case"MMMM":e=an(Nt.Months,Ye.Wide);break;case"MMMMM":e=an(Nt.Months,Ye.Narrow);break;case"LLL":e=an(Nt.Months,Ye.Abbreviated,Ge.Standalone);break;case"LLLL":e=an(Nt.Months,Ye.Wide,Ge.Standalone);break;case"LLLLL":e=an(Nt.Months,Ye.Narrow,Ge.Standalone);break;case"w":e=Ut(1);break;case"ww":e=Ut(2);break;case"W":e=Ut(1,!0);break;case"d":e=pn(It.Date,1);break;case"dd":e=pn(It.Date,2);break;case"c":case"cc":e=pn(It.Day,1);break;case"ccc":e=an(Nt.Days,Ye.Abbreviated,Ge.Standalone);break;case"cccc":e=an(Nt.Days,Ye.Wide,Ge.Standalone);break;case"ccccc":e=an(Nt.Days,Ye.Narrow,Ge.Standalone);break;case"cccccc":e=an(Nt.Days,Ye.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":e=an(Nt.Days,Ye.Abbreviated);break;case"EEEE":e=an(Nt.Days,Ye.Wide);break;case"EEEEE":e=an(Nt.Days,Ye.Narrow);break;case"EEEEEE":e=an(Nt.Days,Ye.Short);break;case"a":case"aa":case"aaa":e=an(Nt.DayPeriods,Ye.Abbreviated);break;case"aaaa":e=an(Nt.DayPeriods,Ye.Wide);break;case"aaaaa":e=an(Nt.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":e=an(Nt.DayPeriods,Ye.Abbreviated,Ge.Standalone,!0);break;case"bbbb":e=an(Nt.DayPeriods,Ye.Wide,Ge.Standalone,!0);break;case"bbbbb":e=an(Nt.DayPeriods,Ye.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=an(Nt.DayPeriods,Ye.Abbreviated,Ge.Format,!0);break;case"BBBB":e=an(Nt.DayPeriods,Ye.Wide,Ge.Format,!0);break;case"BBBBB":e=an(Nt.DayPeriods,Ye.Narrow,Ge.Format,!0);break;case"h":e=pn(It.Hours,1,-12);break;case"hh":e=pn(It.Hours,2,-12);break;case"H":e=pn(It.Hours,1);break;case"HH":e=pn(It.Hours,2);break;case"m":e=pn(It.Minutes,1);break;case"mm":e=pn(It.Minutes,2);break;case"s":e=pn(It.Seconds,1);break;case"ss":e=pn(It.Seconds,2);break;case"S":e=pn(It.FractionalSeconds,1);break;case"SS":e=pn(It.FractionalSeconds,2);break;case"SSS":e=pn(It.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xi(Ot.Short);break;case"ZZZZZ":e=Xi(Ot.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xi(Ot.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xi(Ot.Long);break;default:return null}return j[n]=e,e}(T);w+=N?N(i,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function on(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function vn(n,e){const t=function ge(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if($t[t]=$t[t]||{},$t[t][e])return $t[t][e];let r="";switch(e){case"shortDate":r=hn(n,Et.Short);break;case"mediumDate":r=hn(n,Et.Medium);break;case"longDate":r=hn(n,Et.Long);break;case"fullDate":r=hn(n,Et.Full);break;case"shortTime":r=Mt(n,Et.Short);break;case"mediumTime":r=Mt(n,Et.Medium);break;case"longTime":r=Mt(n,Et.Long);break;case"fullTime":r=Mt(n,Et.Full);break;case"short":const i=vn(n,"shortTime"),a=vn(n,"shortDate");r=fn(sn(n,Et.Short),[i,a]);break;case"medium":const c=vn(n,"mediumTime"),p=vn(n,"mediumDate");r=fn(sn(n,Et.Medium),[c,p]);break;case"long":const _=vn(n,"longTime"),w=vn(n,"longDate");r=fn(sn(n,Et.Long),[_,w]);break;case"full":const T=vn(n,"fullTime"),N=vn(n,"fullDate");r=fn(sn(n,Et.Full),[T,N])}return r&&($t[t][e]=r),r}function fn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function qn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function pn(n,e,t=0,r=!1,i=!1){return function(a,c){let p=function Ri(n,e){switch(n){case It.FullYear:return e.getFullYear();case It.Month:return e.getMonth();case It.Date:return e.getDate();case It.Hours:return e.getHours();case It.Minutes:return e.getMinutes();case It.Seconds:return e.getSeconds();case It.FractionalSeconds:return e.getMilliseconds();case It.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||p>-t)&&(p+=t),n===It.Hours)0===p&&-12===t&&(p=12);else if(n===It.FractionalSeconds)return function eo(n,e){return qn(n,3).substring(0,e)}(p,e);const _=lt(c,ut.MinusSign);return qn(p,e,_,r,i)}}function an(n,e,t=Ge.Format,r=!1){return function(i,a){return function $r(n,e,t,r,i,a){switch(t){case Nt.Months:return Ue(e,i,r)[n.getMonth()];case Nt.Days:return ke(e,i,r)[n.getDay()];case Nt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(a){const w=function Jr(n){const e=(0,l.cg1)(n);return Ji(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ce(r):[Ce(r[0]),Ce(r[1])])}(e),T=function J(n,e,t){const r=(0,l.cg1)(n);Ji(r);const a=se([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return se(a,t)||[]}(e,i,r),N=w.findIndex(k=>{if(Array.isArray(k)){const[B,Q]=k,ae=c>=B.hours&&p>=B.minutes,ye=c<Q.hours||c===Q.hours&&p<Q.minutes;if(B.hours<Q.hours){if(ae&&ye)return!0}else if(ae||ye)return!0}else if(k.hours===c&&k.minutes===p)return!0;return!1});if(-1!==N)return T[N]}return De(e,i,r)[c<12?0:1];case Nt.Eras:return function ze(n,e){return se((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function Xi(n){return function(e,t,r){const i=-1*r,a=lt(t,ut.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ot.Short:return(i>=0?"+":"")+qn(c,2,a)+qn(Math.abs(i%60),2,a);case Ot.ShortGMT:return"GMT"+(i>=0?"+":"")+qn(c,1,a);case Ot.Long:return"GMT"+(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);case Ot.Extended:return 0===r?"Z":(i>=0?"+":"")+qn(c,2,a)+":"+qn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Lt(n){return on(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ut(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Lt(t),c=function ft(n){const e=on(n,0,1).getDay();return on(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),p=a.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return qn(i,n,lt(r,ut.MinusSign))}}function zt(n,e=!1){return function(t,r){return qn(Lt(t).getFullYear(),n,lt(r,ut.MinusSign),e)}}const j={};function W(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function en(n){return n instanceof Date&&!isNaN(n.valueOf())}const Un=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ta(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class ir{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ir(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,c),$n(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $n(n,e){n.context.$implicit=e.item}let cr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function Yl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let dr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();let wd=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function zo(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function ql(n,e,t){return function Ea(n,e,t,r,i,a,c=!1){let p="",_=!1;if(isFinite(n)){let w=function Zl(n){let r,i,a,c,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(i<0&&(i=a),i+=+e.slice(a+1),e=e.substring(0,a)):i<0&&(i=e.length),a=0;"0"===e.charAt(a);a++);if(a===(p=e.length))r=[0],i=1;else{for(p--;"0"===e.charAt(p);)p--;for(i-=a,r=[],c=0;a<=p;a++,c++)r[c]=Number(e.charAt(a))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(w=function yd(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(w));let T=e.minInt,N=e.minFrac,k=e.maxFrac;if(a){const at=a.match(Un);if(null===at)throw new Error(`${a} is not a valid digit info`);const gt=at[1],rt=at[3],Xe=at[5];null!=gt&&(T=Ta(gt)),null!=rt&&(N=Ta(rt)),null!=Xe?k=Ta(Xe):null!=rt&&N>k&&(k=N)}!function Ia(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(e,i),t);let c=a+n.integerLen,p=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let N=c;N<r.length;N++)r[N]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=a+1),r[0]=0;for(let N=1;N<c;N++)r[N]=0}if(p>=5)if(c-1<0){for(let N=0;N>c;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,a);i++)r.push(0);let _=0!==a;const w=e+n.integerLen,T=r.reduceRight(function(N,k,B,Q){return Q[B]=(k+=N)<10?k:k-10,_&&(0===Q[B]&&B>=w?Q.pop():_=!1),k>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(w,N,k);let B=w.digits,Q=w.integerLen;const ae=w.exponent;let ye=[];for(_=B.every(at=>!at);Q<T;Q++)B.unshift(0);for(;Q<0;Q++)B.unshift(0);Q>0?ye=B.splice(Q,B.length):(ye=B,B=[0]);const ot=[];for(B.length>=e.lgSize&&ot.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)ot.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&ot.unshift(B.join("")),p=ot.join(lt(t,r)),ye.length&&(p+=lt(t,i)+ye.join("")),ae&&(p+=lt(t,ut.Exponential)+"+"+ae)}else p=lt(t,ut.Infinity);return p=n<0&&!_?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,function jn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],p=c[0],_=c[1]||"";t.posPre=p.substring(0,p.indexOf("#"));for(let T=0;T<_.length;T++){const N=_.charAt(T);"0"===N?t.minFrac=t.maxFrac=T+1:"#"===N?t.maxFrac=T+1:t.posSuf+=N}const w=p.split(",");if(t.gSize=w[1]?w[1].length:0,t.lgSize=w[2]||w[1]?(w[2]||w[1]).length:0,a){const T=i.length-t.posPre.length-t.posSuf.length,N=a.indexOf("#");t.negPre=a.substring(0,N).replace(/'/g,""),t.negSuf=a.slice(N+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Bt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,U.Percent),lt(e,ut.MinusSign)),e,ut.Group,ut.Decimal,t,!0).replace(new RegExp("%","g"),lt(e,ut.PercentSign))}(function ro(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(a){throw function es(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let ec=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const tc="browser";function wu(n){return"server"===n}let Wo=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Eu((0,l.LFG)(re),window)}),n})();class Eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qo(this.window.history)||qo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ku extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rs extends ku{static makeCurrent(){!function oe(n){K||(K=n)}(new rs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wf(){return ho=ho||document.querySelector("base"),ho?ho.getAttribute("href"):null}();return null==t?null:function La(n){gs=gs||document.createElement("a"),gs.setAttribute("href",n);const e=gs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Hr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let gs,ho=null;const pi=new l.OlP("TRANSITION_ID"),Rd=[{provide:l.ip1,useFactory:function pc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[pi,re,l.zs3],multi:!0}];let kd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=new l.OlP("EventManagerPlugins");let po=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pu),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class gc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Gn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends Gn{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ea),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ea))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ea(n){R().remove(n)}const ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ta=/%COMP%/g;function Vs(n,e){return e.flat(100).map(t=>t.replace(ta,n))}function na(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ra=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ua(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case l.ifc.ShadowDom:return new Bu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Vs(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(po),l.LFG(Fs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ms[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(go(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(go(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=ms[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ms[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,na(r)):this.eventManager.addEventListener(e,t,na(r))}}function go(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mo extends Ua{constructor(e,t,r,i){super(e),this.component=r;const a=Vs(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function Ls(n){return"_ngcontent-%COMP%".replace(ta,n)}(i+"-"+r.id),this.hostAttr=function Ba(n){return"_nghost-%COMP%".replace(ta,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Bu extends Ua{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Vs(i.id,i.styles);for(let c=0;c<a.length;c++){const p=document.createElement("style");p.textContent=a[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Uu=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ju=["alt","control","meta","shift"],Pd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_o={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $u=(()=>{class n extends gc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),ju.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),c+=w+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Pd[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ju.forEach(c=>{c!==i&&(0,_o[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mg=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:tc},{provide:l.g9A,useValue:function yc(){rs.makeCurrent()},multi:!0},{provide:re,useFactory:function ss(){return(0,l.RDi)(document),document},deps:[]}]),bc=new l.OlP(""),Hu=[{provide:l.rWj,useClass:class fo{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const p=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],wc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function vc(){return new l.qLn},deps:[]},{provide:Pu,useClass:Uu,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:Pu,useClass:$u,multi:!0,deps:[re]},{provide:ra,useClass:ra,deps:[po,Fs,l.AFp]},{provide:l.FYo,useExisting:ra},{provide:Gn,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[re]},{provide:po,useClass:po,deps:[Pu,l.R0b]},{provide:class Id{},useClass:kd,deps:[]},[]];let Fd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:pi,useExisting:l.AFp},Rd]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bc,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...wc,...Hu],imports:[ec,l.hGG]}),n})(),Dc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ja(){return new Dc((0,l.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Kn=P(2011),yo=P(4986),kr=P(9751),In=P(8996),Pr=P(3269);function wt(...n){const e=(0,Pr.yG)(n);return(0,In.D)(n,e)}var Tn=P(2122),Qu=P(8189);function ys(...n){return function Hd(){return(0,Qu.J)(1)}()((0,In.D)(n,(0,Pr.yG)(n)))}var Hn=P(4482);function vs(...n){const e=(0,Pr.yG)(n);return(0,Hn.e)((t,r)=>{(e?ys(n,t,e):ys(n,t)).subscribe(r)})}var Cn=P(5403);function I(){return(0,Hn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var C=P(4004);function M(n,e,t,r,i){return(a,c)=>{let p=t,_=e,w=0;a.subscribe((0,Cn.x)(c,T=>{const N=w++;_=p?n(_,T,N):(p=!0,T),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function L(n,e){return(0,Hn.e)(M(n,e,arguments.length>=2,!0))}var Z=P(4671);function ne(n,e=Z.y){return n=n??Fe,(0,Hn.e)((t,r)=>{let i,a=!0;t.subscribe((0,Cn.x)(r,c=>{const p=e(c);(a||!n(i,p))&&(a=!1,i=p,r.next(c))}))})}function Fe(n,e){return n===e}function Ke(n,e){return(0,Hn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}P(407);var dt,Dt=P(3942),X=P(5861),Rt=P(9681),Fr=P(4859),Sn=P(1877),Xt=P(2090),Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={},Li=Li||{},kt=Cc||self;function Sc(){}function zd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ju(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wd="closure_uid_"+(1e9*Math.random()>>>0),Yb=0;function Rg(n,e,t){return n.call.apply(n.bind,arguments)}function py(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rg:py).apply(null,arguments)}function Tf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function xg(n){Object.prototype.hasOwnProperty.call(n,Wd)&&n[Wd]||(n[Wd]=++Yb)}(this)},Us.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function my(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(zd(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};var Cf=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",Sc,e),kt.removeEventListener("test",Sc,e)}catch{}return n}();function Ac(n){return/^[\s\xa0]*$/.test(n)}var qd=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zd(n,e){return n<e?-1:n>e?1:0}function Nc(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function bs(n){return-1!=Nc().indexOf(n)}function Vi(n){return Vi[" "](n),n}Vi[" "]=Sc;var el,n,yy=bs("Opera"),Xu=bs("Trident")||bs("MSIE"),Sf=bs("Edge"),Ha=Sf||Xu,Pg=bs("Gecko")&&!(-1!=Nc().toLowerCase().indexOf("webkit")&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),Af=-1!=Nc().toLowerCase().indexOf("webkit")&&!bs("Edge");function Fg(){var n=kt.document;return n?n.documentMode:void 0}e:{var Nf="",Mc=(n=Nc(),Pg?/rv:([^\);]+)(\)|;)/.exec(n):Sf?/Edge\/([\d\.]+)/.exec(n):Xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Af?/WebKit\/(\S+)/.exec(n):yy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Mc&&(Nf=Mc?Mc[1]:""),Xu){var ai=Fg();if(null!=ai&&ai>parseFloat(Nf)){el=String(ai);break e}}el=Nf}var Yd={};var xc=kt.document&&Xu&&(Fg()||parseInt(el,10))||void 0;function tl(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pg){e:{try{Vi(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lg[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tl.X.h.call(this)}}oi(tl,mi);var Lg={2:"touch",3:"pen",4:"mouse"};tl.prototype.h=function(){tl.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),Vg=0;function Qb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Vg,this.ba=this.ea=!1}function ws(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Of(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function xf(n){const e={};for(const t in n)e[t]=n[t];return e}const Kd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bg(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Kd.length;a++)t=Kd[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function oa(n){this.src=n,this.g={},this.h=0}function Rc(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=gy(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(ws(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Rf(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}oa.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Rf(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Qb(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var vo="closure_lm_"+(1e6*Math.random()|0),kf={};function Ug(n,e,t,r,i){if(r&&r.once)return Ff(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ug(n,e[a],t,r,i);return null}return t=Bf(t),n&&n[nl]?n.N(e,t,Ju(r)?!!r.capture:!!r,i):rl(n,e,t,!1,r,i)}function rl(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Ju(i)?!!i.capture:!!i,p=Wa(n);if(p||(n[vo]=p=new oa(n)),(t=p.add(e,t,r,c,a)).proxy)return t;if(r=function Pf(){const e=jg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Cf||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Lf(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ff(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ff(n,e[a],t,r,i);return null}return t=Bf(t),n&&n[nl]?n.O(e,t,Ju(r)?!!r.capture:!!r,i):rl(n,e,t,!0,r,i)}function za(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)za(n,e[a],t,r,i);else r=Ju(r)?!!r.capture:!!r,t=Bf(t),n&&n[nl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Rf(a=n.g[e],t,r,i))&&(ws(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Wa(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Rf(e,t,r,i)),(t=-1<n?e[n]:null)&&kc(t))}function kc(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[nl])Rc(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Lf(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Wa(e))?(Rc(t,n),0==t.h&&(t.src=null,e[vo]=null)):ws(n)}}}function Lf(n){return n in kf?kf[n]:kf[n]="on"+n}function jg(n,e){if(n.ba)n=!0;else{e=new tl(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&kc(n),n=t.call(r,e)}return n}function Wa(n){return(n=n[vo])instanceof oa?n:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bf(n){return"function"==typeof n?n:(n[Vf]||(n[Vf]=function(e){return n.handleEvent(e)}),n[Vf])}function fr(){Us.call(this),this.i=new oa(this),this.P=this,this.I=null}function Cr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var i=e;Bg(e=new mi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Qd(c,r,!0,e)&&i}if(i=Qd(c=e.g=n,r,!0,e)&&i,i=Qd(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Qd(c=e.g=t[a],r,!1,e)&&i}function Qd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&Rc(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}oi(fr,Us),fr.prototype[nl]=!0,fr.prototype.removeEventListener=function(n,e,t,r){za(this,n,e,t,r)},fr.prototype.M=function(){if(fr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ws(t[r]);delete n.g[e],n.h--}}this.I=null},fr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Uf=kt.JSON.stringify;function Pc(){var n=qa;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jd,$f=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Gf,n=>n.reset());class Gf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $g(n){kt.setTimeout(()=>{throw n},0)}function Gg(n,e){Jd||function Hg(){var n=kt.Promise.resolve(void 0);Jd=function(){n.then(zg)}}(),bo||(Jd(),bo=!0),qa.add(n,e)}var bo=!1,qa=new class jf{constructor(){this.h=this.g=null}add(e,t){const r=$f.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function zg(){for(var n;n=Pc();){try{n.h.call(n.g)}catch(t){$g(t)}var e=$f;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bo=!1}function Fc(n,e){fr.call(this),this.h=n||1,this.g=e||kt,this.j=or(this.lb,this),this.l=Date.now()}function Wg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function il(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function qg(n){n.g=il(()=>{n.g=null,n.i&&(n.i=!1,qg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oi(Fc,fr),(dt=Fc.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(Wg(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Fc.X.M.call(this),Wg(this),delete this.g};class Zg extends Us{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qg(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(n){Us.call(this),this.h=n,this.g={}}oi(Za,Us);var Lc=[];function sl(n,e,t,r){Array.isArray(t)||(t&&(Lc[0]=t.toString()),t=Lc);for(var i=0;i<t.length;i++){var a=Ug(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Xd(n){Of(n.g,function(e,t){this.g.hasOwnProperty(t)&&kc(e)},n),n.g={}}function Ya(){this.g=!0}function pr(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eh(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return Uf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Za.prototype.M=function(){Za.X.M.call(this),Xd(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ya.prototype.Aa=function(){this.g=!1},Ya.prototype.info=function(){};var Ds={},th=null;function Qa(){return th=th||new fr}function Kg(n){mi.call(this,Ds.Pa,n)}function al(n){const e=Qa();Cr(e,new Kg(e))}function Qg(n,e){mi.call(this,Ds.STAT_EVENT,n),this.stat=e}function Qn(n){const e=Qa();Cr(e,new Qg(e,n))}function nh(n,e){mi.call(this,Ds.Qa,n),this.size=e}function aa(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}Ds.Pa="serverreachability",oi(Kg,mi),Ds.STAT_EVENT="statevent",oi(Qg,mi),Ds.Qa="timingevent",oi(nh,mi);var ul={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ua={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function rh(){}function Hf(){}rh.prototype.h=null;var la,Ja={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vc(){mi.call(this,"d")}function Es(){mi.call(this,"c")}function ca(){}function da(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Za(this),this.O=ih,this.T=new Fc(n=Ha?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}oi(Vc,mi),oi(Es,mi),oi(ca,rh),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},la=new ca;var ih=45e3,sh={},Bc={};function Wf(n,e,t){n.K=1,n.v=ll($s(e)),n.s=t,n.P=!0,Jg(n,null)}function Jg(n,e){n.F=Date.now(),b(n),n.A=$s(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ew(t.i,"t",r),n.C=0,t=n.l.H,n.h=new zf,n.g=fh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Zg(or(n.La,n,n.g),n.N)),sl(n.S,n.g,"readystatechange",n.ib),e=n.H?xf(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),al(),function ol(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),_=0;_<p.length;_++){var w=p[_].split("=");if(1<w.length){var T=w[0];w=w[1];var N=T.split("_");c=2<=N.length&&"type"==N[1]?c+(T+"=")+w+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function y(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function f(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=m(n,t),i==Bc){4==e&&(n.o=4,Qn(14),r=!1),pr(n.j,n.m,null,"[Incomplete Response]");break}if(i==sh){n.o=4,Qn(15),pr(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}pr(n.j,n.m,i,null),qe(n,i)}y(n)&&i!=Bc&&i!=sh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oy(e),e.K=!0,Qn(11))):(pr(n.j,n.m,t,"[Invalid Chunked Response]"),de(n),z(n))}function m(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Bc:(t=Number(e.substring(t,r)),isNaN(t)?sh:(r+=1)+t>e.length?Bc:(e=e.substr(r,t),n.C=r+t,e))}function b(n){n.V=Date.now()+n.O,A(n,n.O)}function A(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=aa(or(n.gb,n),e)}function x(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function z(n){0==n.l.G||n.I||xy(n.l,n)}function de(n){x(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Wg(n.T),Xd(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qe(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wy(t.h,n)))if(!n.J&&wy(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;um(t),fa(t)}My(t),Qn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=aa(or(t.cb,t),6e3));if(1>=tw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else fl(t,11)}else if((n.J||t.g==n)&&um(t),!Ac(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const T=w[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const N=w[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const k=w[5];null!=k&&"number"==typeof k&&0<k&&(t.J=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var a=r.h;a.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(tm(a,a.h),a.h=null))}if(r.D){const ae=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.za=ae,An(r.F,r.D,ae))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=cw(r,r.H?r.ka:null,r.V),c.J){Dy(r.h,c);var p=c,_=r.J;_&&p.setTimeout(_),p.B&&(x(p),b(p)),r.g=c}else uw(r);0<t.i.length&&dh(t)}else"stop"!=w[0]&&"close"!=w[0]||fl(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?fl(t,7):ch(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}al()}catch{}}function At(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Vt(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pt(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(dt=da.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Ui(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const T=Ui(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||Ha||this.g&&(this.h.h||this.g.fa()||ow(this.g)))){this.I||4!=T||7==e||al(),x(this);var t=this.g.aa();this.Y=t;t:if(y(this)){var r=ow(this.g);n="";var i=r.length,a=4==Ui(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){de(this),z(this);var c="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function Yg(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ac(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Qn(12),de(this),z(this);break e}pr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qe(this,t)}this.P?(f(this,T,c),Ha&&this.i&&3==T&&(sl(this.S,this.T,"tick",this.hb),this.T.start())):(pr(this.j,this.m,c,null),qe(this,c)),4==T&&de(this),this.i&&!this.I&&(4==T?xy(this.l,this):(this.i=!1,b(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),de(this),z(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Ui(this.g),e=this.g.fa();this.C<e.length&&(x(this),f(this,n,e),this.i&&4!=n&&b(this))}},dt.cancel=function(){this.I=!0,de(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ka(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(al(),Qn(17)),de(this),this.o=2,z(this)):A(this,this.V-n)};var gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof js){this.h=void 0!==e?e:n.h,ha(this,n.j),this.s=n.s,this.g=n.g,Bi(this,n.m),this.l=n.l,e=n.i;var t=new oh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Xa(this,t),this.o=n.o}else n&&(t=String(n).match(gr))?(this.h=!!e,ha(this,t[1]||"",!0),this.s=eu(t[2]||""),this.g=eu(t[3]||"",!0),Bi(this,t[4]),this.l=eu(t[5]||"",!0),Xa(this,t[6]||"",!0),this.o=eu(t[7]||"")):(this.h=!!e,this.i=new oh(null,this.h))}function $s(n){return new js(n)}function ha(n,e,t){n.j=t?eu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bi(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Xa(n,e,t){e instanceof oh?(n.i=e,function Xg(n,e){e&&!n.j&&(dl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Jb(this,r),ew(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=cl(e,QS)),n.i=new oh(e,n.h))}function An(n,e,t){n.i.set(e,t)}function ll(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}js.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cl(e,by,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cl(e,by,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(cl(t,"/"==t.charAt(0)?qf:Uc,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cl(t,JS)),n.join("")};var by=/[#\/\?@]/g,Uc=/[#\?:]/g,qf=/[#\?]/g,QS=/[#\?@]/g,JS=/#/g;function oh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Is(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jb(n,e){dl(n),e=jc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Xb(n,e){return dl(n),e=jc(n,e),n.g.has(e)}function ew(n,e,t){Jb(n,e),0<t.length&&(n.i=null,n.g.set(jc(n,e),kg(t)),n.h+=t.length)}function jc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function em(n){this.l=n||zE,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ga&&kt.g.Ga()&&kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=oh.prototype).add=function(n,e){dl(this),this.i=null,n=jc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){dl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){dl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},dt.W=function(n){dl(this);let e=[];if("string"==typeof n)Xb(this,n)&&(e=e.concat(this.g.get(jc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return dl(this),this.i=null,Xb(this,n=jc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var zE=10;function Sr(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tw(n){return n.h?1:n.g?n.g.size:0}function wy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function tm(n,e){n.g?n.g.add(e):n.h=e}function Dy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kg(n.i)}function Ey(){}function WE(){this.g=new Ey}function qE(n,e,t){const r=t||"";try{At(n,function(i,a){let c=i;Ju(i)&&(c=Uf(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Iy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nm(n){this.l=n.ac||null,this.j=n.jb||!1}function hl(n,e){fr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Zf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}em.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ey.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},Ey.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},oi(nm,rh),nm.prototype.g=function(){return new hl(this.l,this.j)},nm.prototype.i=function(n){return function(){return n}}({}),oi(hl,fr);var Zf=0;function Ty(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ah(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uh(n)}function uh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=hl.prototype).open=function(n,e){if(this.readyState!=Zf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uh(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ah(this)),this.readyState=Zf},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ty(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ah(this):uh(this),3==this.readyState&&Ty(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,ah(this))},dt.Ua=function(n){this.g&&(this.response=n,ah(this))},dt.ga=function(){this.g&&ah(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var XS=kt.JSON.parse;function mr(n){fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cy,this.K=this.L=!1}oi(mr,fr);var Cy="",iw=/^https?$/i,Sy=["POST","PUT"];function rm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sw(n),Yf(n)}function sw(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function im(n){if(n.h&&typeof Li<"u"&&(!n.C[1]||4!=Ui(n)||2!=n.aa()))if(n.v&&4==Ui(n))il(n.Ha,0,n);else if(Cr(n,"readystatechange"),4==Ui(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(gr)[1]||null;if(!i&&kt.self&&kt.self.location){var a=kt.self.location.protocol;i=a.substr(0,a.length-1)}r=!iw.test(i?i.toLowerCase():"")}t=r}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var c=2<Ui(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",sw(n)}}finally{Yf(n)}}}function Yf(n,e){if(n.g){Ay(n);const t=n.g,r=n.C[0]?Sc:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=r}catch{}}}function Ay(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function Ui(n){return n.g?n.g.readyState:0}function ow(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Cy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sm(n){let e="";return Of(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function lh(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sm(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function Kf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function om(n){this.Ca=0,this.i=[],this.j=new Ya,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Kf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Kf("baseRetryDelayMs",5e3,n),this.bb=Kf("retryDelaySeedMs",1e4,n),this.$a=Kf("forwardChannelMaxRetries",2,n),this.ta=Kf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new em(n&&n.concurrentRequestLimit),this.Fa=new WE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ch(n){if(Ny(n),3==n.G){var e=n.U++,t=$s(n.F);An(t,"SID",n.I),An(t,"RID",e),An(t,"TYPE","terminate"),hh(n,t),(e=new da(n,n.j,e,void 0)).K=2,e.v=ll($s(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=fh(e.l,null),e.g.da(e.v)),e.F=Date.now(),b(e)}YE(n)}function fa(n){n.g&&(Oy(n),n.g.cancel(),n.g=null)}function Ny(n){fa(n),n.u&&(kt.clearTimeout(n.u),n.u=null),um(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function dh(n){Sr(n.h)||n.m||(n.m=!0,Gg(n.Ja,n),n.C=0)}function aw(n,e){var t;t=e?e.m:n.U++;const r=$s(n.F);An(r,"SID",n.I),An(r,"RID",t),An(r,"AID",n.T),hh(n,r),n.o&&n.s&&lh(r,n.o,n.s),t=new da(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=$c(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),tm(n.h,t),Wf(t,r,e)}function hh(n,e){n.ia&&Of(n.ia,function(t,r){An(e,r,t)}),n.l&&At({},function(t,r){An(e,r,t)})}function $c(n,e,t){t=Math.min(n.i.length,t);var r=n.l?or(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let w=i[_].h;const T=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),p=!1;else try{qE(T,c,"req"+w+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function uw(n){n.g||n.u||(n.Z=1,Gg(n.Ia,n),n.A=0)}function My(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=aa(or(n.Ia,n),lw(n,n.A)),n.A++,0))}function Oy(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function am(n){n.g=new da(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=$s(n.sa);An(e,"RID","rpc"),An(e,"SID",n.I),An(e,"CI",n.L?"0":"1"),An(e,"AID",n.T),An(e,"TYPE","xmlhttp"),hh(n,e),n.o&&n.s&&lh(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ll($s(e)),t.s=null,t.P=!0,Jg(t,n)}function um(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function xy(n,e){var t=null;if(n.g==e){um(n),Oy(n),n.g=null;var r=2}else{if(!wy(n.h,e))return;t=e.D,Dy(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Cr(r=Qa(),new nh(r,t)),dh(n)}else uw(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function ZE(n,e){return!(tw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=aa(or(n.Ja,n,e),lw(n,n.C)),n.C++,0)))}(n,e)||2==r&&My(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:fl(n,5);break;case 4:fl(n,10);break;case 3:fl(n,6);break;default:fl(n,2)}}function lw(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function fl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=or(n.kb,n);t||(t=new js("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||ha(t,"https"),ll(t)),function rw(n,e){const t=new Ya;if(kt.Image){const r=new Image;r.onload=Tf(Iy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Tf(Iy,t,r,"TestLoadImage: error",!1,e),r.onabort=Tf(Iy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tf(Iy,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Qn(2);n.G=0,n.l&&n.l.va(e),YE(n),Ny(n)}function YE(n){if(n.G=0,n.la=[],n.l){const e=nw(n.h);(0!=e.length||0!=n.i.length)&&(my(n.la,e),my(n.la,n.i),n.h.i.length=0,kg(n.i),n.i.length=0),n.l.ua()}}function cw(n,e,t){var r=t instanceof js?$s(t):new js(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Bi(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new js(null,void 0);r&&ha(a,r),e&&(a.g=e),i&&Bi(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&An(r,t,e),An(r,"VER",n.ma),hh(n,r),r}function fh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Da&&!n.ra?new nm({jb:!0}):n.ra)).Ka(n.H),e}function dw(){}function tu(){if(Xu&&!(10<=Number(xc)))throw Error("Environmental error: no available transport.")}function yi(n,e){fr.call(this),this.g=new om(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ac(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ac(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ph(this)}function hw(n){Vc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ry(){Es.call(this),this.status=1}function ph(n){this.g=n}(dt=mr.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():la.g(),this.C=function _i(n){return n.h||(n.h=n.i())}(this.u?this.u:la),this.g.onreadystatechange=or(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void rm(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=gy(Sy,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ay(this),0<this.B&&((this.K=function eA(n){return Xu&&function Mf(){return function _y(n){var e=Yd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=qd(String(el)).split("."),t=qd("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Zd(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Zd(0==i[2].length,0==a[2].length)||Zd(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.qa,this)):this.A=il(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){rm(this,a)}},dt.qa=function(){typeof Li<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),Yf(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yf(this,!0)),mr.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?im(this):this.fb())},dt.fb=function(){im(this)},dt.aa=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),XS(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=om.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new da(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=xf(a),Bg(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$c(this,i,e),An(t=$s(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),hh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(sm(a)))+"&"+e:this.o&&lh(t,this.o,a)),tm(this.h,i),this.Ya&&An(t,"TYPE","init"),this.O?(An(t,"$req",e),An(t,"SID","null"),i.Z=!0,Wf(i,t,null)):Wf(i,t,e),this.G=2}}else 3==this.G&&(n?aw(this,n):0==this.i.length||Sr(this.h)||aw(this))},dt.Ia=function(){if(this.u=null,am(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=aa(or(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qn(10),fa(this),am(this))},dt.cb=function(){null!=this.v&&(this.v=null,fa(this),My(this),Qn(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))},(dt=dw.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},tu.prototype.g=function(n,e){return new yi(n,e)},oi(yi,fr),yi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Qn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=cw(n,null,n.V),dh(n)},yi.prototype.close=function(){ch(this.g)},yi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Uf(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&dh(e)},yi.prototype.M=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,yi.X.M.call(this)},oi(hw,Vc),oi(Ry,Es),oi(ph,dw),ph.prototype.xa=function(){Cr(this.g,"a")},ph.prototype.wa=function(n){Cr(this.g,new hw(n))},ph.prototype.va=function(n){Cr(this.g,new Ry)},ph.prototype.ua=function(){Cr(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,yi.prototype.send=yi.prototype.u,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,ua.COMPLETE="complete",Hf.EventType=Ja,Ja.OPEN="a",Ja.CLOSE="b",Ja.ERROR="c",Ja.MESSAGE="d",fr.prototype.listen=fr.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.Oa,mr.prototype.getLastErrorCode=mr.prototype.Ea,mr.prototype.getStatus=mr.prototype.aa,mr.prototype.getResponseJson=mr.prototype.Sa,mr.prototype.getResponseText=mr.prototype.fa,mr.prototype.send=mr.prototype.da,mr.prototype.setWithCredentials=mr.prototype.Ka;var KE=si.createWebChannelTransport=function(){return new tu},QE=si.getStatEventTarget=function(){return Qa()},lm=si.ErrorCode=ul,fw=si.EventType=ua,ky=si.Event=Ds,cm=si.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},JE=si.FetchXmlHttpFactory=nm,gh=si.WebChannel=Hf,Qf=si.XhrIo=mr;const pw="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let mh="9.17.1";const pl=new Sn.Yd("@firebase/firestore");function Py(){return pl.logLevel}function He(n,...e){if(pl.logLevel<=Sn.in.DEBUG){const t=e.map(Fy);pl.debug(`Firestore (${mh}): ${n}`,...t)}}function zn(n,...e){if(pl.logLevel<=Sn.in.ERROR){const t=e.map(Fy);pl.error(`Firestore (${mh}): ${n}`,...t)}}function ji(n,...e){if(pl.logLevel<=Sn.in.WARN){const t=e.map(Fy);pl.warn(`Firestore (${mh}): ${n}`,...t)}}function Fy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${mh}) INTERNAL ASSERTION FAILED: `+n;throw zn(e),new Error(e)}function Ct(n,e){n||mt()}function tt(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class eI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tI{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const w=c;e.enqueueRetryable((0,X.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new gw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new ui(e)}}class wo{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nI{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new wo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.A=t.token,new Ly(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _w{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iI(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function _h(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function yw(n){return n+"\0"}class tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new tr(0,0))}static max(){return new Be(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yh{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends yh{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends yh{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return vw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Le(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Le(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Le(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(a(),i++)}if(a(),c)throw new Le(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(dn.fromString(e))}static fromName(e){return new et(dn.fromString(e).popFirst(5))}static empty(){return new et(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new dn(e.slice()))}}class Jf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vy(n){return n.fields.find(e=>2===e.kind)}function gl(n){return n.fields.filter(e=>2!==e.kind)}Jf.UNKNOWN_ID=-1;class dm{constructor(e,t){this.fieldPath=e,this.kind=t}}class vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vh(0,Ts.min())}}function By(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(1e9===r?new tr(t+1,0):new tr(t,r));return new Ts(i,et.empty(),e)}function ml(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ts(Be.min(),et.empty(),-1)}static max(){return new Ts(Be.max(),et.empty(),-1)}}function Xf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const hm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gc(n){return ww.apply(this,arguments)}function ww(){return ww=(0,X.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==hm)throw n;He("LocalStore","Unexpectedly lost primary lease")}),ww.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,c=new Array(a);let p=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(T=>{c[w]=T,++p,p===a&&r(c)},T=>i(T))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class fm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ep(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Uy(r.target.error);this.P.reject(new ep(e,i))}}static open(e,t,r,i){try{return new fm(t,e.transaction(i,r))}catch(a){throw new ep(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oI(t)}}class Gs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Gs.D((0,Xt.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),_l(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(Gs.N())return!0;const e=(0,Xt.z$)(),t=Gs.D(e),r=0<t&&t<10,i=Gs.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,X.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Le(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Le(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new ep(e,p))},a.onupgradeneeded=c=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,X.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.F(e);const _=fm.open(a.db,e,c?"readonly":"readwrite",r),w=i(_).next(T=>(_.V(),T)).catch(T=>(_.abort(T),le.reject(T))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,T="FirebaseError"!==w.name&&p<3;if(He("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),a.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iA{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return _l(this.q.delete())}}class ep extends Le{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cs(n){return"IndexedDbTransactionError"===n.name}class oI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_l(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),_l(this.store.add(e))}get(e){return _l(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),_l(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),_l(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new le((a,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=a=>{const c=Uy(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new iA(p),w=t(p.primaryKey,p.value,_);if(w instanceof le){const T=w.catch(N=>(_.done(),le.reject(N)));r.push(T)}_.isDone?i():null===_.G?p.continue():p.continue(_.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _l(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Uy(r.target.error);t(i)}})}let tp=!1;function Uy(n){const e=Gs.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tp||(tp=!0,setTimeout(()=>{throw r},0)),r}}return n}class Dw{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;He("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{He("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Cs(r)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gc(r)}yield t.nt(6e4)}))}}class aI{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return le.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return He("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(p=>(He("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=ml(a);Xf(c,r)>0&&(r=c)}),new Ts(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ss=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class uI{constructor(e,t,r,i,a,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}function Ew(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Iw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bh(n){return null==n}function wh(n){return 0===n&&1/n==-1/0}function pm(n){return"number"==typeof n&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ar(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hc(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=lI.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fn(n.seconds),nanos:Fn(n.nanos)}}function Fn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bl(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function jy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $y(n){const e=n.mapValue.fields.__previous_value__;return jy(e)?$y(e):e}function np(n){const e=Hc(n.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}const wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zc={nullValue:"NULL_VALUE"};function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jy(n)?4:Cw(n)?9007199254740991:10:mt()}function zs(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return np(n).isEqual(np(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Hc(r.timestampValue),c=Hc(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,bl(n.bytesValue).isEqual(bl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Fn(r.geoPointValue.latitude)===Fn(i.geoPointValue.latitude)&&Fn(r.geoPointValue.longitude)===Fn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Fn(r.integerValue)===Fn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Fn(r.doubleValue),c=Fn(i.doubleValue);return a===c?wh(a)===wh(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return _h(n.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Ew(a)!==Ew(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===c[p]||!zs(a[p],c[p])))return!1;return!0}(n,e);default:return mt()}var i}function nu(n,e){return void 0!==(n.values||[]).find(t=>zs(t,e))}function pa(n,e){if(n===e)return 0;const t=Hs(n),r=Hs(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Fn(i.integerValue||i.doubleValue),p=Fn(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return rp(n.timestampValue,e.timestampValue);case 4:return rp(np(n),np(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(i,a){const c=bl(i),p=bl(a);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),p=a.split("/");for(let _=0;_<c.length&&_<p.length;_++){const w=Ht(c[_],p[_]);if(0!==w)return w}return Ht(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ht(Fn(i.latitude),Fn(a.latitude));return 0!==c?c:Ht(Fn(i.longitude),Fn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],p=a.values||[];for(let _=0;_<c.length&&_<p.length;++_){const w=pa(c[_],p[_]);if(w)return w}return Ht(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===wl.mapValue&&a===wl.mapValue)return 0;if(i===wl.mapValue)return 1;if(a===wl.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=a.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const N=Ht(p[T],w[T]);if(0!==N)return N;const k=pa(c[p[T]],_[w[T]]);if(0!==k)return k}return Ht(p.length,w.length)}(n.mapValue,e.mapValue);default:throw mt()}}function rp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Hc(n),r=Hc(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function Wc(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bl(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=ip(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of i)c?c=!1:a+=",",a+=`${p}:${ip(r.fields[p])}`;return a+"}"}(n.mapValue):mt();var e}function ru(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sp(n){return!!n&&"integerValue"in n}function Dh(n){return!!n&&"arrayValue"in n}function gm(n){return!!n&&"nullValue"in n}function Tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mm(n){return!!n&&"mapValue"in n}function Eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Sw(n){return"nullValue"in n?zc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ru(yl.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function Aw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ru(yl.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wl:mt()}function Nw(n,e){const t=pa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Mw(n,e){const t=pa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vr{constructor(e,t){this.position=e,this.inclusive=t}}function Gy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):pa(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ow(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zs(n.position[t],e.position[t]))return!1;return!0}class cI{}class nn extends cI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new dI(e,t,r):"array-contains"===t?new ga(e,r):"in"===t?new ym(e,r):"not-in"===t?new pI(e,r):"array-contains-any"===t?new gI(e,r):new nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new hI(e,r):new fI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pa(t,this.value)):null!==t&&Hs(this.value)===Hs(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends cI{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new wn(e,t)}matches(e){return Ih(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ih(n){return"and"===n.op}function Hy(n){return"or"===n.op}function zy(n){return Wy(n)&&Ih(n)}function Wy(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}function qy(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(zy(n))return n.filters.map(e=>qy(e)).join(",");{const e=n.filters.map(t=>qy(t)).join(",");return`${n.op}(${e})`}}function xw(n,e){return n instanceof nn?(t=n,(r=e)instanceof nn&&t.op===r.op&&t.field.isEqual(r.field)&&zs(t.value,r.value)):n instanceof wn?function(t,r){return r instanceof wn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&xw(a,r.filters[c]),!0)}(n,e):void mt();var t,r}function _m(n,e){const t=n.filters.concat(e);return wn.create(t,n.op)}function Rw(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${Wc(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(Rw).join(" ,")+"}"}(n):"Filter";var e}class dI extends nn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class hI extends nn{constructor(e,t){super(e,"in",t),this.keys=kw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fI extends nn{constructor(e,t){super(e,"not-in",t),this.keys=kw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class ga extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dh(t)&&nu(t.arrayValue,this.value)}}class ym extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nu(this.value.arrayValue,t)}}class pI extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nu(this.value.arrayValue,t)}}class gI extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function mI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class yr{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vm(this.root,e,this.comparator,!0)}}class vm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Yr.RED,this.left=i??Yr.EMPTY,this.right=a??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Yr(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kn{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iu(n){return n.hasNext()?n.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Ni([])}unionWith(e){let t=new kn(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _h(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(t)}setAll(e){let t=_r.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=Eh(c):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vl(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Br(Eh(this.value))}}function _I(n){const e=[];return vl(n.fields,(t,r)=>{const i=new _r([t]);if(mm(r)){const a=_I(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Ni(e)}class Ln{constructor(e,t,r,i,a,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Ln(e,0,Be.min(),Be.min(),Be.min(),Br.empty(),0)}static newFoundDocument(e,t,r,i){return new Ln(e,1,t,Be.min(),r,i,0)}static newNoDocument(e,t){return new Ln(e,2,t,Be.min(),Be.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,Be.min(),Be.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oA{constructor(e,t=null,r=[],i=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=p,this.ft=null}}function bm(n,e=null,t=[],r=[],i=null,a=null,c=null){return new oA(n,e,t,r,i,a,c)}function Dl(n){const e=tt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),e.ft=t}return e.ft}function Th(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ow(n.startAt,e.startAt)&&Ow(n.endAt,e.endAt)}function op(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ch(n,e){return n.filters.filter(t=>t instanceof nn&&t.field.isEqual(e))}function ma(n,e,t){let r=zc,i=!0;for(const a of Ch(n,e)){let c=zc,p=!0;switch(a.op){case"<":case"<=":c=Sw(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,p=!1;break;case"!=":case"not-in":c=zc}Nw({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Nw({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function ap(n,e,t){let r=wl,i=!0;for(const a of Ch(n,e)){let c=wl,p=!0;switch(a.op){case">=":case">":c=Aw(a.value),p=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,p=!1;break;case"!=":case"not-in":c=wl}Mw({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Mw({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ws{constructor(e,t=null,r=[],i=[],a=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=_,this.dt=null,this._t=null}}function Sh(n,e,t,r,i,a,c,p){return new Ws(n,e,t,r,i,a,c,p)}function Ah(n){return new Ws(n)}function Zy(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Yy(n){return null!==n.collectionGroup}function Do(n){const e=tt(n);if(null===e.dt){e.dt=[];const t=Dm(e),r=wm(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new qc(t)),e.dt.push(new qc(_r.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new qc(_r.keyField(),a))}}}return e.dt}function $i(n){const e=tt(n);if(!e._t)if("F"===e.limitType)e._t=bm(e.path,e.collectionGroup,Do(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Do(e))t.push(new qc(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Vr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vr(e.startAt.position,e.startAt.inclusive):null;e._t=bm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Fw(n,e){e.getFirstInequalityField(),Dm(n);const t=n.filters.concat([e]);return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Em(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function up(n,e){return Th($i(n),$i(e))&&n.limitType===e.limitType}function Lw(n){return`${Dl($i(n))}|lt:${n.limitType}`}function Ky(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Rw(r)).join(", ")}]`),bh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),`Target(${t})`}($i(n))}; limitType=${n.limitType})`}function lp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Do(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const p=Gy(i,a,c);return i.inclusive?p<=0:p<0}(t.startAt,Do(t),r)||t.endAt&&!function(i,a,c){const p=Gy(i,a,c);return i.inclusive?p>=0:p>0}(t.endAt,Do(t),r)));var t,r}function Vw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let r=!1;for(const i of Do(n)){const a=Uw(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Uw(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,a,c){const p=a.data.field(i),_=c.data.field(i);return null!==p&&null!==_?pa(p,_):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}function Im(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function jw(n){return{integerValue:""+n}}function Tm(n,e){return pm(e)?jw(e):Im(n,e)}class Cm{constructor(){this._=void 0}}function yI(n,e,t){return n instanceof Nh?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Zc?Gw(n,e):n instanceof El?Qy(n,e):function(r,i){const a=$w(r,i),c=bI(a)+bI(r.gt);return sp(a)&&sp(r.gt)?jw(c):Im(r.yt,c)}(n,e)}function vI(n,e,t){return n instanceof Zc?Gw(n,e):n instanceof El?Qy(n,e):t}function $w(n,e){return n instanceof Mh?sp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nh extends Cm{}class Zc extends Cm{constructor(e){super(),this.elements=e}}function Gw(n,e){const t=Jy(e);for(const r of n.elements)t.some(i=>zs(i,r))||t.push(r);return{arrayValue:{values:t}}}class El extends Cm{constructor(e){super(),this.elements=e}}function Qy(n,e){let t=Jy(e);for(const r of n.elements)t=t.filter(i=>!zs(i,r));return{arrayValue:{values:t}}}class Mh extends Cm{constructor(e,t){super(),this.yt=e,this.gt=t}}function bI(n){return Fn(n.integerValue||n.doubleValue)}function Jy(n){return Dh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Il{constructor(e,t){this.field=e,this.transform=t}}class aA{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Am{}function Nm(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Eo(n.key,Vn.none()):new qs(n.key,n.data,Vn.none());{const t=n.data,r=Br.empty();let i=new kn(_r.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Zs(n.key,r,new Ni(i.toArray()),Vn.none())}}function wI(n,e,t){n instanceof qs?function(r,i,a){const c=r.value.clone(),p=Mm(r.fieldTransforms,i,a.transformResults);c.setAll(p),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zs?function(r,i,a){if(!Sm(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Mm(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(As(r)),p.setAll(c),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function us(n,e,t,r){return n instanceof qs?function(i,a,c,p){if(!Sm(i.precondition,a))return c;const _=i.value.clone(),w=Kc(i.fieldTransforms,p,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zs?function(i,a,c,p){if(!Sm(i.precondition,a))return c;const _=Kc(i.fieldTransforms,p,a),w=a.data;return w.setAll(As(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,Sm(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function cp(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=$w(r.transform,i||null);null!=a&&(null===t&&(t=Br.empty()),t.set(r.field,a))}return t||null}function vi(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&_h(t,r,(i,a)=>function Yc(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zc&&r instanceof Zc||t instanceof El&&r instanceof El?_h(t.elements,r.elements,zs):t instanceof Mh&&r instanceof Mh?zs(t.gt,r.gt):t instanceof Nh&&r instanceof Nh);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class qs extends Am{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Am{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function As(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Mm(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,p=e.data.field(a.field);r.set(a.field,vI(c,p,t[i]))}return r}function Kc(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,yI(a,c,e))}return r}class Eo extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tl extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oh{constructor(e){this.count=e}}var Jn,tn;function Qc(n){switch(n){default:return mt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Jc(n){if(void 0===n)return zn("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Jn.OK:return ce.OK;case Jn.CANCELLED:return ce.CANCELLED;case Jn.UNKNOWN:return ce.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return ce.INTERNAL;case Jn.UNAVAILABLE:return ce.UNAVAILABLE;case Jn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Jn.NOT_FOUND:return ce.NOT_FOUND;case Jn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Jn.ABORTED:return ce.ABORTED;case Jn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Jn.DATA_LOSS:return ce.DATA_LOSS;default:return mt()}}(tn=Jn||(Jn={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}const Hw=new yr(et.comparator);function Gi(){return Hw}const Xy=new yr(et.comparator);function xh(...n){let e=Xy;for(const t of n)e=e.insert(t.key,t);return e}function ev(n){let e=Xy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Io(){return Rh()}function tv(){return Rh()}function Rh(){return new Ns(n=>n.toString(),(n,e)=>n.isEqual(e))}const zw=new yr(et.comparator),DI=new kn(et.comparator);function Qt(...n){let e=DI;for(const t of n)e=e.add(t);return e}const Ww=new kn(Ht);function Om(){return Ww}class kh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kh(Be.min(),i,Om(),Gi(),Qt())}}class Xc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xc(r,t,Qt(),Qt(),Qt())}}class Ph{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class qw{constructor(e,t){this.targetId=e,this.Et=t}}class dp{constructor(e,t,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hp{constructor(){this.At=0,this.Rt=fp(),this.bt=Ar.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Qt(),t=Qt(),r=Qt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new Xc(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=fp()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class nv{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Gi(),this.qt=Zw(),this.Ut=new kn(Ht)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(op(a))if(0===r){const c=new et(a.path);this.Qt(t,c,Ln.newNoDocument(c,Be.min()))}else Ct(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const p=this.Yt(c);if(p){if(a.current&&op(p.target)){const _=new et(p.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,Ln.newNoDocument(_,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let r=Qt();this.qt.forEach((a,c)=>{let p=!0;c.forEachWhile(_=>{const w=this.Yt(_);return!w||2===w.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const i=new kh(e,t,this.Ut,this.Lt,r);return this.Lt=Gi(),this.qt=Zw(),this.Ut=new kn(Ht),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new hp,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new kn(Ht),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new hp),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Zw(){return new yr(et.comparator)}function fp(){return new yr(et.comparator)}const xm={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kw={and:"AND",or:"OR"};class rv{constructor(e,t){this.databaseId=e,this.wt=t}}function ed(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(n,e){return n.wt?e.toBase64():e.toUint8Array()}function sv(n,e){return ed(n,e.toTimestamp())}function vr(n){return Ct(!!n),Be.fromTimestamp(function(e){const t=Hc(e);return new tr(t.seconds,t.nanos)}(n))}function ov(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function av(n){const e=dn.fromString(n);return Ct(TI(e)),e}function Fh(n,e){return ov(n.databaseId,e.path)}function To(n,e){const t=av(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(uv(t))}function Rm(n,e){return ov(n.databaseId,e)}function Qw(n){const e=av(n);return 4===e.length?dn.emptyPath():uv(e)}function Lh(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uv(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function km(n,e,t){return{name:Fh(n,e),fields:t.value.mapValue.fields}}function pp(n,e,t){const r=To(n,e.name),i=vr(e.updateTime),a=e.createTime?vr(e.createTime):Be.min(),c=new Br({mapValue:{fields:e.fields}}),p=Ln.newFoundDocument(r,i,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Vh(n,e){let t;if(e instanceof qs)t={update:km(n,e.key,e.value)};else if(e instanceof Eo)t={delete:Fh(n,e.key)};else if(e instanceof Zs)t={update:km(n,e.key,e.data),updateMask:hv(e.fieldMask)};else{if(!(e instanceof Tl))return mt();t={verify:Fh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Nh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof El)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mh)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sv(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:mt()),t;var i}function Pm(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vn.updateTime(vr(i.updateTime)):void 0!==i.exists?Vn.exists(i.exists):Vn.none():Vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let p=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),p=new Nh):"appendMissingElements"in c?p=new Zc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new El(c.removeAllFromArray.values||[]):"increment"in c?p=new Mh(a,c.increment):mt();const _=_r.fromServerFormat(c.fieldPath);return new Il(_,p)}(n,i)):[];var i;if(e.update){const i=To(n,e.update.name),a=new Br({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ni((e.updateMask.fieldPaths||[]).map(w=>_r.fromServerFormat(w)));return new Zs(i,a,c,t,r)}return new qs(i,a,t,r)}if(e.delete){const i=To(n,e.delete);return new Eo(i,t)}if(e.verify){const i=To(n,e.verify);return new Tl(i,t)}return mt()}function lv(n,e){return{documents:[Rm(n,e.path)]}}function Fm(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Rm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return tD(wn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Ys((T=w).field),direction:EI(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(w=e.limit,n.wt||bh(w)?w:{value:w});var w,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function cv(n){let e=Qw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const N=su(T);return N instanceof wn&&zy(N)?N.getFilters():[N]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new qc(Cl((N=T).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let p=null;t.limit&&(p=function(T){let N;return N="object"==typeof T?T.value:T,bh(N)?null:N}(t.limit));let _=null;var T;t.startAt&&(_=new Vr((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new Vr(T.values||[],!T.before)}(t.endAt)),Sh(e,i,c,a,p,"F",_,w)}function su(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cl(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Cl(e.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cl(e.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cl(e.unaryFilter.field);return nn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?nn.create(Cl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>su(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function EI(n){return xm[n]}function II(n){return Yw[n]}function dv(n){return Kw[n]}function Ys(n){return{fieldPath:n.canonicalString()}}function Cl(n){return _r.fromServerFormat(n.fieldPath)}function tD(n){return n instanceof nn?function(e){if("=="===e.op){if(Tw(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NAN"}};if(gm(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tw(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NAN"}};if(gm(e.value))return{unaryFilter:{field:Ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(e.field),op:II(e.op),value:e.value}}}(n):n instanceof wn?function(e){const t=e.getFilters().map(r=>tD(r));return 1===t.length?t[0]:{compositeFilter:{op:dv(e.op),filters:t}}}(n):mt()}function hv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nD(e)),e=CI(n.get(t),e);return nD(e)}function CI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function nD(n){return n+"\x01\x01"}function Co(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&mt(),n.charAt(c+1)){case"\x01":const p=n.substring(a,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:mt()}a=c+2}return new dn(r)}const rD=["userId","batchId"];function br(n,e){return[n,ls(e)]}function fv(n,e,t){return[n,ls(e),t]}const SI={},AI=["prefixPath","collectionGroup","readTime","documentId"],iD=["prefixPath","collectionGroup","documentId"],NI=["collectionGroup","readTime","prefixPath","documentId"],sD=["canonicalId","targetId"],oD=["targetId","path"],Bh=["path","targetId"],MI=["collectionId","parent"],OI=["indexId","uid"],aD=["uid","sequenceNumber"],xI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uD=["indexId","uid","orderedDocumentKey"],uA=["userId","collectionPath","documentId"],pv=["userId","collectionPath","largestBatchId"],gv=["userId","collectionGroup","largestBatchId"],So=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RI=[...So,"documentOverlays"],mv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ao=mv,No=[...Ao,"indexConfiguration","indexState","indexEntries"];class Ms extends bw{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Kr(n,e){const t=tt(n);return Gs.M(t.se,e)}class Vm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&wI(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=us(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=us(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tv();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(i.key)?null:p;const _=Nm(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&_h(this.mutations,e.mutations,(t,r)=>vi(t,r))&&_h(this.baseMutations,e.baseMutations,(t,r)=>vi(t,r))}}class _v{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=zw;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new _v(e,t,r,i)}}class yv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sl{constructor(e,t,r,i,a=Be.min(),c=Be.min(),p=Ar.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Sl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lD{constructor(e){this.ie=e}}function Uh(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Fh(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ed(i,a.version.toTimestamp()),createTime:ed(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Al(e.version)};else{if(!e.isUnknownDocument())return mt();r.unknownDocument={path:t.path.toArray(),version:Al(e.version)}}var i,a;return r}function Bm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Al(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function td(n){const e=new tr(n.seconds,n.nanoseconds);return Be.fromTimestamp(e)}function Nl(n,e){const t=(e.baseMutations||[]).map(a=>Pm(n.ie,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>Pm(n.ie,a)),i=tr.fromMillis(e.localWriteTimeMs);return new Vm(e.batchId,i,t,r)}function jh(n){const e=td(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?td(n.lastLimboFreeSnapshotVersion):Be.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=$i(Ah(Qw(i.documents[0])))):r=$i(cv(n.query)),new Sl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ar.fromBase64String(n.resumeToken))}function gp(n,e){const t=Al(e.snapshotVersion),r=Al(e.lastLimboFreeSnapshotVersion);let i;i=op(e.target)?lv(n.ie,e.target):Fm(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bv(n){const e=cv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Em(e,e.limit,"L"):e}function Um(n,e){return new yv(e.largestBatchId,Pm(n.ie,e.overlayMutation))}function wv(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function jm(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Al(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class $m{getBundleMetadata(e,t){return Dv(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:td(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Dv(e).put({bundleId:(r=t).id,createTime:Al(vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ev(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bv(i.bundledQuery),readTime:td(i.readTime)};var i})}saveNamedQuery(e,t){return Ev(e).put({name:(r=t).name,readTime:Al(vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Dv(n){return Kr(n,"bundles")}function Ev(n){return Kr(n,"namedQueries")}class mp{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new mp(e,t.uid||"")}getOverlay(e,t){return $h(e).get(wv(this.userId,t)).next(r=>r?Um(this.yt,r):null)}getOverlays(e,t){const r=Io();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const p=new yv(t,c);i.push(this.oe(e,p))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ls(c.getCollectionPath())));const a=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push($h(e).Y("collectionPathOverlayIndex",p))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Io(),a=ls(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $h(e).W("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const w=Um(this.yt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Io();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $h(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,w,T)=>{const N=Um(this.yt,w);a.size()<i||N.largestBatchId===c?(a.set(N.getKey(),N),c=N.largestBatchId):T.done()}).next(()=>a)}oe(e,t){return $h(e).put(function(r,i,a){const[c,p,_]=wv(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Vh(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function $h(n){return Kr(n,"documentOverlays")}class Ml{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Fn(e.integerValue));else if("doubleValue"in e){const r=Fn(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),wh(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(bl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Cw(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):mt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),et.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function cD(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Iv(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=cD(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Ml.Ie=new Ml;class dD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Iv(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Iv(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kI{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class hD{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class _p{constructor(){this.$e=new dD,this.Be=new kI(this.$e),this.Le=new hD(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class nd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new nd(this.indexId,this.documentKey,this.arrayValue,r)}}function Ol(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fD(n.arrayValue,e.arrayValue),0!==t?t:(t=fD(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function fD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class PI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Ct(e.collectionGroup===this.collectionId);const t=Vy(e);if(void 0!==t&&!this.We(t))return!1;const r=gl(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++i}for(;i<r.length;++i)if(a>=this.Ke.length||!this.He(this.Ke[a++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function pD(n){var e,t;if(Ct(n instanceof nn||n instanceof wn),n instanceof nn){if(n instanceof ym){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>nn.create(n.field,"==",a)))||[];return wn.create(i,"or")}return n}const r=n.filters.map(i=>pD(i));return wn.create(r,n.op)}function FI(n){if(0===n.getFilters().length)return[];const e=Sv(pD(n));return Ct(gD(e)),Tv(e)||Cv(e)?[e]:e.getFilters()}function Tv(n){return n instanceof nn}function Cv(n){return n instanceof wn&&zy(n)}function gD(n){return Tv(n)||Cv(n)||function(e){if(e instanceof wn&&Hy(e)){for(const t of e.getFilters())if(!Tv(t)&&!Cv(t))return!1;return!0}return!1}(n)}function Sv(n){if(Ct(n instanceof nn||n instanceof wn),n instanceof nn)return n;if(1===n.filters.length)return Sv(n.filters[0]);const e=n.filters.map(r=>Sv(r));let t=wn.create(e,n.op);return t=Gm(t),gD(t)?t:(Ct(t instanceof wn),Ct(Ih(t)),Ct(t.filters.length>1),t.filters.reduce((r,i)=>Av(r,i)))}function Av(n,e){let t;return Ct(n instanceof nn||n instanceof wn),Ct(e instanceof nn||e instanceof wn),t=n instanceof nn?e instanceof nn?wn.create([n,e],"and"):mD(n,e):e instanceof nn?mD(e,n):function(r,i){if(Ct(r.filters.length>0&&i.filters.length>0),Ih(r)&&Ih(i))return _m(r,i.getFilters());const a=Hy(r)?r:i,c=Hy(r)?i:r,p=a.filters.map(_=>Av(_,c));return wn.create(p,"or")}(n,e),Gm(t)}function mD(n,e){if(Ih(e))return _m(e,n.getFilters());{const t=e.filters.map(r=>Av(n,r));return wn.create(t,"or")}}function Gm(n){if(Ct(n instanceof nn||n instanceof wn),n instanceof nn)return n;const e=n.getFilters();if(1===e.length)return Gm(e[0]);if(Wy(n))return n;const t=e.map(i=>Gm(i)),r=[];return t.forEach(i=>{i instanceof nn?r.push(i):i instanceof wn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:wn.create(r,n.op)}class LI{constructor(){this.Je=new Nv}addToCollectionParentIndex(e,t){return this.Je.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ts.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Nv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kn(dn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(dn.comparator)).toArray()}}const yp=new Uint8Array(0);class _D{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Nv,this.Xe=new Ns(r=>Dl(r),(r,i)=>Th(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:ls(i)};return Mv(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[yw(t),""],!1,!0);return Mv(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Co(c.parent))}return r})}addFieldIndex(e,t){const r=vp(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Hh(e);return a.next(p=>{c.put(jm(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=vp(e),i=Hh(e),a=Gh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Gh(e);let i=!0;const a=new Map;return le.forEach(this.Ze(t),c=>this.tn(e,c).next(p=>{i&&(i=!!p),a.set(c,p)})).next(()=>{if(i){let c=Qt();const p=[];return le.forEach(a,(_,w)=>{var T;He("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Dl(t)}`);const N=function(gt,rt){const Xe=Vy(rt);if(void 0===Xe)return null;for(const ht of Ch(gt,Xe.fieldPath))switch(ht.op){case"array-contains-any":return ht.value.arrayValue.values||[];case"array-contains":return[ht.value]}return null}(w,_),k=function(gt,rt){const Xe=new Map;for(const ht of gl(rt))for(const Yt of Ch(gt,ht.fieldPath))switch(Yt.op){case"==":case"in":Xe.set(ht.fieldPath.canonicalString(),Yt.value);break;case"not-in":case"!=":return Xe.set(ht.fieldPath.canonicalString(),Yt.value),Array.from(Xe.values())}return null}(w,_),B=function(gt,rt){const Xe=[];let ht=!0;for(const Yt of gl(rt)){const yn=0===Yt.kind?ma(gt,Yt.fieldPath,gt.startAt):ap(gt,Yt.fieldPath,gt.startAt);Xe.push(yn.value),ht&&(ht=yn.inclusive)}return new Vr(Xe,ht)}(w,_),Q=function(gt,rt){const Xe=[];let ht=!0;for(const Yt of gl(rt)){const yn=0===Yt.kind?ap(gt,Yt.fieldPath,gt.endAt):ma(gt,Yt.fieldPath,gt.endAt);Xe.push(yn.value),ht&&(ht=yn.inclusive)}return new Vr(Xe,ht)}(w,_),ae=this.en(_,w,B),ye=this.en(_,w,Q),ot=this.nn(_,w,k),at=this.sn(_.indexId,N,ae,B.inclusive,ye,Q.inclusive,ot);return le.forEach(at,gt=>r.J(gt,t.limit).next(rt=>{rt.forEach(Xe=>{const ht=et.fromSegments(Xe.documentKey);c.has(ht)||(c=c.add(ht),p.push(ht))})}))}).next(()=>p)}return le.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:FI(wn.create(e.filters,"and")).map(r=>bm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),T=[];for(let N=0;N<_;++N){const k=t?this.rn(t[N/w]):yp,B=this.on(e,k,r[N%w],i),Q=this.un(e,k,a[N%w],c),ae=p.map(ye=>this.on(e,k,ye,!0));T.push(...this.createRange(B,Q,ae))}return T}on(e,t,r,i){const a=new nd(e,et.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new nd(e,et.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new PI(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const p of a)r.je(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return le.forEach(i,a=>this.tn(e,a).next(c=>{c?0!==r&&c.fields.length<function(p){let _=new kn(_r.comparator),w=!1;for(const T of p.filters)for(const N of T.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?w=!0:_=_.add(N.field));for(const T of p.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new _p;for(const i of gl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);Ml.Ie.ue(a,c)}return r.Fe()}rn(e){const t=new _p;return Ml.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new _p;return Ml.Ie.ue(ru(this.databaseId,t),r.qe(function(i){const a=gl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new _p);let a=0;for(const c of gl(e)){const p=r[a++];for(const _ of i)if(this.hn(t,c.fieldPath)&&Dh(p))i=this.ln(i,c,p);else{const w=_.qe(c.kind);Ml.Ie.ue(p,w)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new _p;_.seed(p.Fe()),Ml.Ie.ue(c,_.qe(t.kind)),a.push(_)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof nn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=vp(e),i=Hh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return le.forEach(a,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(w,T){const N=T?new vh(T.sequenceNumber,new Ts(td(T.readTime),new et(Co(T.documentKey)),T.largestBatchId)):vh.empty(),k=w.fields.map(([B,Q])=>new dm(_r.fromServerFormat(B),Q));return new Jf(w.indexId,w.collectionGroup,k,N)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ht(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=vp(e),a=Hh(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>le.forEach(p,_=>a.put(jm(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),le.forEach(p,_=>this._n(e,i,_).next(w=>{const T=this.wn(a,_);return w.isEqual(T)?le.resolve():this.mn(e,a,_,w,T)}))))})}gn(e,t,r,i){return Gh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Gh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Gh(e);let a=new kn(Ol);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,p)=>{a=a.add(new nd(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}wn(e,t){let r=new kn(Ol);const i=this.cn(t,e);if(null==i)return r;const a=Vy(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Dh(c))for(const p of c.arrayValue.values||[])r=r.add(new nd(t.indexId,e.key,this.rn(p),i))}else r=r.add(new nd(t.indexId,e.key,yp,i));return r}mn(e,t,r,i,a){He("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,w,T,N){const k=p.getIterator(),B=_.getIterator();let Q=iu(k),ae=iu(B);for(;Q||ae;){let ye=!1,ot=!1;if(Q&&ae){const at=w(Q,ae);at<0?ot=!0:at>0&&(ye=!0)}else null!=Q?ot=!0:ye=!0;ye?(T(ae),ae=iu(B)):ot?(N(Q),Q=iu(k)):(Q=iu(k),ae=iu(B))}}(i,a,Ol,p=>{c.push(this.gn(e,t,r,p))},p=>{c.push(this.yn(e,t,r,p))}),le.waitFor(c)}dn(e){let t=1;return Hh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Ol(c,p)).filter((c,p,_)=>!p||0!==Ol(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=Ol(c,e),_=Ol(c,t);if(0===p)i[0]=e.Ue();else if(p>0&&_<0)i.push(c),i.push(c.Ue());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,yp,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,yp,[]]))}return a}pn(e,t){return Ol(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ov)}getMinOffset(e,t){return le.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||mt())).next(Ov)}}function Mv(n){return Kr(n,"collectionParents")}function Gh(n){return Kr(n,"indexEntries")}function vp(n){return Kr(n,"indexConfiguration")}function Hh(n){return Kr(n,"indexState")}function Ov(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Xf(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ts(e.readTime,e.documentKey,t)}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hm(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Z({range:c},(T,N,k)=>(p++,k.delete()));a.push(_.next(()=>{Ct(1===p)}));const w=[];for(const T of t.mutations){const N=fv(e,T.key.path,t.batchId);a.push(i.delete(N)),w.push(T.key)}return le.waitFor(a).next(()=>w)}function bp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class _a{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new _a(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Mo(e),c=xl(e);return c.add({}).next(p=>{Ct("number"==typeof p);const _=new Vm(p,t,r,i),w=function(k,B,Q){const ae=Q.baseMutations.map(ot=>Vh(k.ie,ot)),ye=Q.mutations.map(ot=>Vh(k.ie,ot));return{userId:B,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ae,mutations:ye}}(this.yt,this.userId,_),T=[];let N=new kn((k,B)=>Ht(k.canonicalString(),B.canonicalString()));for(const k of i){const B=fv(this.userId,k.key.path,p);N=N.add(k.key.path.popLast()),T.push(c.put(w)),T.push(a.put(B,SI))}return N.forEach(k=>{T.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.In[p]=_.keys()}),le.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return xl(e).get(t).next(r=>r?(Ct(r.userId===this.userId),Nl(this.yt,r)):null)}Tn(e,t){return this.In[t]?le.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xl(e).Z({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(Ct(p.batchId>=r),a=Nl(this.yt,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).W("userMutationsIndex",t).next(r=>r.map(i=>Nl(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=br(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Mo(e).Z({range:i},(c,p,_)=>{const[w,T,N]=c,k=Co(T);if(w===this.userId&&t.path.isEqual(k))return xl(e).get(N).next(B=>{if(!B)throw mt();Ct(B.userId===this.userId),a.push(Nl(this.yt,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Ht);const i=[];return t.forEach(a=>{const c=br(this.userId,a.path),p=IDBKeyRange.lowerBound(c),_=Mo(e).Z({range:p},(w,T,N)=>{const[k,B,Q]=w,ae=Co(B);k===this.userId&&a.path.isEqual(ae)?r=r.add(Q):N.done()});i.push(_)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=br(this.userId,r),c=IDBKeyRange.lowerBound(a);let p=new kn(Ht);return Mo(e).Z({range:c},(_,w,T)=>{const[N,k,B]=_,Q=Co(k);N===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add(B)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xl(e).get(a).next(c=>{if(null===c)throw mt();Ct(c.userId===this.userId),r.push(Nl(this.yt,c))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Hm(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Mo(e).Z({range:r},(a,c,p)=>{if(a[0]===this.userId){const _=Co(a[1]);i.push(_)}else p.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return yD(e,this.userId,t)}Rn(e){return VI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yD(n,e,t){const r=br(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Mo(n).Z({range:a,X:!0},(p,_,w)=>{const[T,N,k]=p;T===e&&N===i&&(c=!0),w.done()}).next(()=>c)}function xl(n){return Kr(n,"mutations")}function Mo(n){return Kr(n,"documentMutations")}function VI(n){return Kr(n,"mutationQueues")}class ou{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ou(0)}static vn(){return new ou(-1)}}class lA{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ou(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Be.fromTimestamp(new tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return rd(e).Z((c,p)=>{const _=jh(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>le.waitFor(a)).next(()=>i)}forEachTarget(e,t){return rd(e).Z((r,i)=>{const a=jh(i);t(a)})}Vn(e){return Rv(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Sn(e,t){return Rv(e).put("targetGlobalKey",t)}Dn(e,t){return rd(e).put(gp(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Dl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return rd(e).Z({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const w=jh(p);Th(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=id(e);return t.forEach(c=>{const p=ls(c.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=id(e);return le.forEach(t,a=>{const c=ls(a.path);return le.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=id(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=id(e);let a=Qt();return i.Z({range:r,X:!0},(c,p,_)=>{const w=Co(c[1]),T=new et(w);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[yw(r)],!1,!0);let a=0;return id(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}ne(e,t){return rd(e).get(t).next(r=>r?jh(r):null)}}function rd(n){return Kr(n,"targets")}function Rv(n){return Kr(n,"targetGlobal")}function id(n){return Kr(n,"targetDocuments")}function Ft([n,e],[t,r]){const i=Ht(n,t);return 0===i?Ht(e,r):i}class BI{constructor(e){this.xn=e,this.buffer=new kn(Ft),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ft(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;He("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Cs(r)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gc(r)}yield t.Fn(3e5)}))}}class jI{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Ss.at);const r=new BI(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(xv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,c,p,_,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),i=this.params.maximumSequenceNumbersToCollect):i=N,c=Date.now(),this.nthSequenceNumber(e,i))).next(N=>(r=N,p=Date.now(),this.removeTargets(e,r,t))).next(N=>(a=N,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(w=Date.now(),Py()<=Sn.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${N} documents in `+(w-_)+`ms\nTotal Duration: ${w-T}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:N})))}}class zh{constructor(e,t){this.db=e,this.garbageCollector=new jI(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return zm(e,r)}removeReference(e,t,r){return zm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zm(e,t)}Gn(e,t){return function(r,i){let a=!1;return VI(r).tt(c=>yD(r,c,i).next(p=>(p&&(a=!0),le.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,p)=>{if(p<=t){const _=this.Gn(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Be.min()),id(e).delete([0,ls(c.path)])))});i.push(_)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zm(e,t)}Kn(e,t){const r=id(e);let i,a=Ss.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:w})=>{0===c?(a!==Ss.at&&t(new et(Co(i)),a),a=w,i=_):a=Ss.at}).next(()=>{a!==Ss.at&&t(new et(Co(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zm(n,e){return id(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class wp{constructor(){this.changes=new Ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wm{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Rl(e).put(r)}removeEntry(e,t,r){return Rl(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Bm(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Ln.newInvalidDocument(t);return Rl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dp(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Ln.newInvalidDocument(t)};return Rl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dp(t))},(i,a)=>{r={document:this.jn(t,a),size:bp(a)}}).next(()=>r)}getEntries(e,t){let r=Gi();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=Gi(),i=new yr(et.comparator);return this.zn(e,t,(a,c)=>{const p=this.jn(a,c);r=r.insert(a,p),i=i.insert(a,bp(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return le.resolve();let i=new kn(Fv);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Dp(i.first()),Dp(i.last())),c=i.getIterator();let p=c.getNext();return Rl(e).Z({index:"documentKeyIndex",range:a},(_,w,T)=>{const N=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&Fv(p,N)<0;)r(p,null),p=c.getNext();p&&p.isEqual(N)&&(r(p,w),p=c.hasNext()?c.getNext():null),p?T.j(Dp(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),Bm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rl(e).W(IDBKeyRange.bound(c,p,!0)).next(_=>{let w=Gi();for(const T of _){const N=this.jn(et.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);N.isFoundDocument()&&(lp(t,N)||i.has(N.key))&&(w=w.insert(N.key,N))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=Gi();const c=Pv(t,r),p=Pv(t,Ts.max());return Rl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,w,T)=>{const N=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(N.key,N),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new cA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kv(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Qn(e,t){return kv(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function vv(n,e){let t;if(e.document)t=pp(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=td(e.noDocument.readTime);t=Ln.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return mt();{const r=et.fromSegments(e.unknownDocument.path),i=td(e.unknownDocument.version);t=Ln.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new tr(r[0],r[1]);return Be.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Be.min()))return r}return Ln.newInvalidDocument(e)}}function ar(n){return new Wm(n)}class cA extends wp{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ns(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new kn((a,c)=>Ht(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const p=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,p.readTime)),c.isValidDocument()){const _=Uh(this.Yn.yt,c);i=i.add(a.path.popLast());const w=bp(_);r+=w-p.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=p.size,this.trackRemovals){const _=Uh(this.Yn.yt,c.convertToNoDocument(Be.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function kv(n){return Kr(n,"remoteDocumentGlobal")}function Rl(n){return Kr(n,"remoteDocumentsV14")}function Dp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Pv(n,e){const t=e.documentKey.path.toArray();return[n,Bm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Fv(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ht(t[a],r[a]),i)return i;return i=Ht(t.length,r.length),i||(i=Ht(t[t.length-2],r[r.length-2]),i||Ht(t[t.length-1],r[r.length-1]))}class vD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lv{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&us(r.mutation,i,Ni.empty(),tr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=xh();return a.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let a=Gi();const c=Rh(),p=Rh();return t.forEach((_,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof Zs)?a=a.insert(w.key,w):void 0!==T?(c.set(w.key,T.mutation.getFieldMask()),us(T.mutation,w,T.mutation.getFieldMask(),tr.now())):c.set(w.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,T)=>c.set(w,T)),t.forEach((w,T)=>{var N;return p.set(w,new vD(T,null!==(N=c.get(w))&&void 0!==N?N:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Rh();let i=new yr((c,p)=>c-p),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let T=r.get(_)||Ni.empty();T=p.applyToLocalView(w,T),r.set(_,T);const N=(i.get(p.batchId)||Qt()).add(_);i=i.insert(p.batchId,N)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),w=_.key,T=_.value,N=tv();T.forEach(k=>{if(!a.has(k)){const B=Nm(t.get(k),r.get(k));null!==B&&N.set(k,B),a=a.add(k)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,N))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Yy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(Io());let p=-1,_=a;return c.next(w=>le.forEach(w,(T,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),a.get(T)?le.resolve():this.remoteDocumentCache.getEntry(e,T).next(k=>{_=_.insert(T,k)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Qt())).next(T=>({batchId:p,changes:ev(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=xh();return this.indexManager.getCollectionParents(e,i).next(c=>le.forEach(c,p=>{const _=(w=t,T=p.child(i),new Ws(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((T,N)=>{a=a.insert(T,N)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,Ln.newInvalidDocument(w)))});let c=xh();return a.forEach((p,_)=>{const w=i.get(p);void 0!==w&&us(w.mutation,_,Ni.empty(),tr.now()),lp(t,_)&&(c=c.insert(p,_))}),c})}}class $I{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return le.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:vr(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:bv(r.bundledQuery),readTime:vr(r.readTime)}),le.resolve();var r}}class GI{constructor(){this.overlays=new yr(et.comparator),this.es=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Io();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=Io(),a=t.length+1,c=new et(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new yr((w,T)=>w-T);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=a.get(w.largestBatchId);null===T&&(T=Io(),a=a.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const p=Io(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,T)=>p.set(w,T)),!(p.size()>=i)););return le.resolve(p)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new yv(t,r));let a=this.es.get(t);void 0===a&&(a=Qt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Vv{constructor(){this.ns=new kn(wr.ss),this.rs=new kn(wr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new wr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new wr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new et(new dn([])),r=new wr(t,e),i=new wr(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new et(new dn([])),r=new wr(t,e),i=new wr(t,e+1);let a=Qt();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new wr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class wr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return et.comparator(e.key,t.key)||Ht(e._s,t._s)}static os(e,t){return Ht(e._s,t._s)||et.comparator(e.key,t.key)}}class HI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new kn(wr.ss)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new Vm(a,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new wr(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wr(t,0),i=new wr(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);a.push(p)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(Ht);return t.forEach(i=>{const a=new wr(i,0),c=new wr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],p=>{r=r.add(p._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;et.isDocumentKey(a)||(a=a.child(""));const c=new wr(new et(a),0);let p=new kn(Ht);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(_._s)),!0)},c),le.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return le.forEach(t.mutations,i=>{const a=new wr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new wr(t,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zI{constructor(e){this.Es=e,this.docs=new yr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Gi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ln.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Gi();const c=t.path,p=new et(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:w,value:{document:T}}=_.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||Xf(ml(T),r)<=0||(i.has(T.key)||lp(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,i){mt()}As(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WI(this)}getSize(e){return le.resolve(this.size)}}class WI extends wp{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qm{constructor(e){this.persistence=e,this.Rs=new Ns(t=>Dl(t),Th),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vv,this.targetCount=0,this.vs=ou.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),le.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Dn(t),le.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ps.containsKey(t))}}class Bv{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ss(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qm(this),this.indexManager=new LI,this.remoteDocumentCache=new zI(r=>this.referenceDelegate.xs(r)),this.yt=new lD(t),this.Ns=new $I(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new HI(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new bD(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class bD extends bw{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Fs=new Vv,this.$s=null}static Bs(e){return new Ep(e)}get Ls(){if(this.$s)return this.$s;throw mt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),le.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=et.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,Be.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return le.or([()=>le.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class qI{constructor(e){this.yt=e}$(e,t,r,i){const a=new fm("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rD,{unique:!0}),p.createObjectStore("documentMutations"),Wh(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Wh(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Be.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").W().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rD,{unique:!0});const T=_.store("mutations"),N=w.map(k=>T.put(k));return le.waitFor(N)})}(e,a))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(a))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:uA});_.createIndex("collectionPathOverlayIndex",pv,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",gv,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:AI});_.createIndex("documentKeyIndex",iD),_.createIndex("collectionGroupIndex",NI)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:OI}).createIndex("sequenceNumberIndex",aD,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xI}).createIndex("documentKeyIndex",uD,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=bp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>le.forEach(p,_=>{Ct(_.userId===a.userId);const w=Nl(this.yt,_);return Hm(e,a.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,p)=>{const _=new dn(c),w=[0,ls(_)];a.push(t.get(w).next(T=>T?le.resolve():t.put({targetId:0,path:ls(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:MI});const r=t.store("collectionParents"),i=new Nv,a=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:ls(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const _=new dn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,_],w)=>{const T=Co(p);return a(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=jh(i),c=gp(this.yt,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const p=t.store("remoteDocumentsV14"),_=(w=c,w.document?new et(dn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):mt()).path.toArray();var w;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(T))}).next(()=>le.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=ar(this.yt),a=new Bv(Ep.Bs,this.yt.ie);return r.W().next(c=>{const p=new Map;return c.forEach(_=>{var w;let T=null!==(w=p.get(_.userId))&&void 0!==w?w:Qt();Nl(this.yt,_).keys().forEach(N=>T=T.add(N)),p.set(_.userId,T)}),le.forEach(p,(_,w)=>{const T=new ui(w),N=mp.re(this.yt,T),k=a.getIndexManager(T),B=_a.re(T,this.yt,k,a.referenceDelegate);return new Lv(i,B,N,k).recalculateAndSaveOverlaysForDocumentKeys(new Ms(t,Ss.at),_).next()})})}}function Wh(n){n.createObjectStore("targetDocuments",{keyPath:oD}).createIndex("documentTargetsIndex",Bh,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sD,{unique:!0}),n.createObjectStore("targetGlobal")}const sd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uv{constructor(e,t,r,i,a,c,p,_,w,T,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=p,this.Js=w,this.Ys=T,this.Xs=N,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!Uv.C())throw new Le(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zh(this,i),this.ii=t+"main",this.yt=new lD(_),this.ri=new Gs(this.ii,this.Xs,new qI(this.yt)),this.Cs=new lA(this.referenceDelegate,this.yt),this.remoteDocumentCache=ar(this.yt),this.Ns=new $m,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(ce.FAILED_PRECONDITION,sd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ss(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,X.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,X.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Cs(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ip(e).get("owner").next(t=>le.resolve(this.mi(t)))}gi(e){return Zm(e).delete(this.clientId)}yi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Kr(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),p=a.filter(_=>-1===c.indexOf(_));return le.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):Ip(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Le(ce.FAILED_PRECONDITION,sd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ms(t,Ss.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Zm(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return _a.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _D(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return mp.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){He("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?No:14===c?Ao:13===c?mv:12===c?RI:11===c?So:void mt();var c;let p;return this.ri.runTransaction(e,i,a,_=>(p=new Ms(_,this.Ss?this.Ss.next():Ss.at),"readwrite-primary"===t?this.fi(p).next(w=>!!w||this.di(p)).next(w=>{if(!w)throw zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Le(ce.FAILED_PRECONDITION,hm);return r(p)}).next(w=>this.wi(p).next(()=>w)):this.Vi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Vi(e){return Ip(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(ce.FAILED_PRECONDITION,sd)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ip(e).put("owner",t)}static C(){return Gs.C()}_i(e){const t=Ip(e);return t.get("owner").next(r=>this.mi(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(zn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ip(n){return Kr(n,"owner")}function Zm(n){return Kr(n,"clientMetadata")}function Ym(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Km{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Qt(),i=Qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Km(e,t.fromCache,r,i)}}class jv{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Zy(t))return le.resolve(null);let r=$i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Em(t,null,"F"),r=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Qt(...a);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,p);return this.$i(t,w,c,_.readTime)?this.ki(e,Em(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,r,i){return Zy(t)||i.isEqual(Be.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(Py()<=Sn.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ky(t)),this.Bi(e,c,t,By(i,-1)))})}Fi(e,t){let r=new kn(Bw(e));return t.forEach((i,a)=>{lp(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return Py()<=Sn.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ky(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ts.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class ZI{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new yr(Ht),this.Ui=new Ns(a=>Dl(a),Th),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function $v(n,e,t,r){return new ZI(n,e,t,r)}function wD(n,e){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,X.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],p=[];let _=Qt();for(const w of i){c.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}for(const w of a){p.push(w.batchId);for(const T of w.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:c,addedBatchIds:p}))})})}),Gv.apply(this,arguments)}function dA(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,w){const T=_.batch,N=T.keys();let k=le.resolve();return N.forEach(B=>{k=k.next(()=>w.getEntry(p,B)).next(Q=>{const ae=_.docVersions.get(B);Ct(null!==ae),Q.version.compareTo(ae)<0&&(T.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),w.addEntry(Q)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Qt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YI(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hA(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const p=[];e.targetChanges.forEach((T,N)=>{const k=i.get(N);if(!k)return;p.push(t.Cs.removeMatchingKeys(a,T.removedDocuments,N).next(()=>t.Cs.addMatchingKeys(a,T.addedDocuments,N)));let B=k.withSequenceNumber(a.currentSequenceNumber);var Q,ae,ye;e.targetMismatches.has(N)?B=B.withResumeToken(Ar.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),i=i.insert(N,B),ae=B,ye=T,(0===(Q=k).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(a,B))});let _=Gi(),w=Qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),p.push(KI(a,c,e.documentUpdates).next(T=>{_=T.Wi,w=T.zi})),!r.isEqual(Be.min())){const T=t.Cs.getLastRemoteSnapshotVersion(a).next(N=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(T)}return le.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.qi=i,a))}function KI(n,e,t){let r=Qt(),i=Qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Gi();return t.forEach((p,_)=>{const w=a.get(p);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(Be.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):He("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function DD(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function au(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Sl(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function qh(n,e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,X.Z)(function*(n,e,t){const r=tt(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Cs(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),Hv.apply(this,arguments)}function Tp(n,e,t){const r=tt(n);let i=Be.min(),a=Qt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,w){const T=tt(p),N=T.Ui.get(w);return void 0!==N?le.resolve(T.qi.get(N)):T.Cs.getTargetData(_,w)}(r,c,$i(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:Be.min(),t?a:Qt())).next(p=>(ID(r,Vw(e),p),{documents:p,Hi:a})))}function Zh(n,e){const t=tt(n),r=tt(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(c=>c?c.target:null))}function ED(n,e){const t=tt(n),r=t.Ki.get(e)||Be.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,By(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ID(t,e,i),i))}function ID(n,e,t){let r=n.Ki.get(e)||Be.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function zv(){return zv=(0,X.Z)(function*(n,e,t,r){const i=tt(n);let a=Qt(),c=Gi();for(const w of t){const T=e.Ji(w.metadata.name);w.document&&(a=a.add(T));const N=e.Yi(w);N.setReadTime(e.Xi(w.metadata.readTime)),c=c.insert(T,N)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield au(i,(w=r,$i(Ah(dn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>KI(w,p,c).next(T=>(p.apply(w),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Cs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.Wi,T.zi)).next(()=>T.Wi)))}),zv.apply(this,arguments)}function fA(n,e){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,X.Z)(function*(n,e,t=Qt()){const r=yield au(n,$i(bv(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=vr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const p=r.withResumeToken(Ar.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(p.targetId,p),i.Cs.updateTargetData(a,p).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Wv.apply(this,arguments)}function qv(n,e){return`firestore_clients_${n}_${e}`}function TD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Zv(n,e){return`firestore_targets_${n}_${e}`}class kl{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Le(i.error.code,i.error.message))),c?new kl(e,t,i.state,a):(zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Le(r.error.code,r.error.message))),a?new Cp(e,r.state,i):(zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Om();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=pm(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new Sp(e,a):(zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Yv{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Yv(t.clientId,t.onlineState):(zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qm{constructor(){this.activeTargetIds=Om()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kv{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new yr(Ht),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=qv(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Qm),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(qv(e.persistenceKey,i));if(a){const c=Sp.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Zv(this.persistenceKey,e));if(r){const i=Cp.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=Ss.at;if(null!=a)try{const p=JSON.parse(a);Ct("number"==typeof p),c=p}catch(p){zn("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Ss.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new kl(this.currentUser,e,t,r),a=TD(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=TD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Zv(this.persistenceKey,e),a=new Cp(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Sp.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return kl.Zi(new ui(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Cp.Zi(i,t)}yr(e){return Yv.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],p=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Om();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Qv{constructor(){this.Lr=new Qm,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Qm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JI{Ur(e){}shutdown(){}}class Jm{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const XI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CD{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class SD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);He("RestConnection","Sending: ",c,r);const p={};return this.lo(p,i,a),this.fo(e,c,p,r).then(_=>(He("RestConnection","Received: ",_),_),_=>{throw ji("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${XI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const p=new Qf;p.setWithCredentials(!0),p.listenOnce(fw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lm.NO_ERROR:const w=p.getResponseJson();He("Connection","XHR received:",JSON.stringify(w)),a(w);break;case lm.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),c(new Le(ce.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const T=p.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N?.error;if(k&&k.status&&k.message){const B=function(Q){const ae=Q.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ae)>=0?ae:ce.UNKNOWN}(k.status);c(new Le(B,k.message))}else c(new Le(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Le(ce.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KE(),c=QE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new JE({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=i.join("");He("Connection","Creating WebChannel: "+_,p);const w=a.createWebChannel(_,p);let T=!1,N=!1;const k=new CD({Hr:Q=>{N?He("Connection","Not sending because WebChannel is closed:",Q):(T||(He("Connection","Opening WebChannel transport."),w.open(),T=!0),He("Connection","WebChannel sending:",Q),w.send(Q))},Jr:()=>w.close()}),B=(Q,ae,ye)=>{Q.listen(ae,ot=>{try{ye(ot)}catch(at){setTimeout(()=>{throw at},0)}})};return B(w,gh.EventType.OPEN,()=>{N||He("Connection","WebChannel transport opened.")}),B(w,gh.EventType.CLOSE,()=>{N||(N=!0,He("Connection","WebChannel transport closed"),k.io())}),B(w,gh.EventType.ERROR,Q=>{N||(N=!0,ji("Connection","WebChannel transport errored:",Q),k.io(new Le(ce.UNAVAILABLE,"The operation could not be completed")))}),B(w,gh.EventType.MESSAGE,Q=>{var ae;if(!N){const ye=Q.data[0];Ct(!!ye);const at=ye.error||(null===(ae=ye[0])||void 0===ae?void 0:ae.error);if(at){He("Connection","WebChannel received error:",at);const gt=at.status;let rt=function(ht){const Yt=Jn[ht];if(void 0!==Yt)return Jc(Yt)}(gt),Xe=at.message;void 0===rt&&(rt=ce.INTERNAL,Xe="Unknown error status: "+gt+" with message "+at.message),N=!0,k.io(new Le(rt,Xe)),w.close()}else He("Connection","WebChannel received:",ye),k.ro(ye)}}),B(c,ky.STAT_EVENT,Q=>{Q.stat===cm.PROXY?He("Connection","Detected buffering proxy"):Q.stat===cm.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function AD(){return typeof window<"u"?window:null}function Xm(){return typeof document<"u"?document:null}function Ap(n){return new rv(n,!0)}class Np{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ND{constructor(e,t,r,i,a,c,p,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Np(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,X.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,X.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,X.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(zn(t.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Le(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,X.Z)(function*(){e.state=0,e.start()}))}Qo(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MD extends ND{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Xw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:mt(),i=e.targetChange.targetIds||[],a=function(_,w){return _.wt?(Ct(void 0===w||"string"==typeof w),Ar.fromBase64String(w||"")):(Ct(void 0===w||w instanceof Uint8Array),Ar.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const w=void 0===_.code?ce.UNKNOWN:Jc(_.code);return new Le(w,_.message||"")}(c);t=new dp(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=To(n,r.document.name),a=vr(r.document.updateTime),c=r.document.createTime?vr(r.document.createTime):Be.min(),p=new Br({mapValue:{fields:r.document.fields}}),_=Ln.newFoundDocument(i,a,c,p);t=new Ph(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=To(n,r.document),a=r.readTime?vr(r.readTime):Be.min(),c=Ln.newNoDocument(i,a);t=new Ph([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=To(n,r.document);t=new Ph([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return mt();{const r=e.filter,a=new Oh(r.count||0);t=new qw(r.targetId,a)}}var _;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?vr(a.readTime):Be.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Lh(this.yt),t.addTarget=function(i,a){let c;const p=a.target;return c=op(p)?{documents:lv(i,p)}:{query:Fm(i,p)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=iv(i,a.resumeToken):a.snapshotVersion.compareTo(Be.min())>0&&(c.readTime=ed(i,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function Lm(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Lh(this.yt),t.removeTarget=e,this.Bo(t)}}class eT extends ND{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function eD(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let a=vr(r.updateTime?r.updateTime:i);return a.isEqual(Be.min())&&(a=vr(i)),new aA(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.Zo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Lh(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Vh(this.yt,r))};this.Bo(t)}}class tT extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Le(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(ce.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class rT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zn(t),this.ou=!1):He("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class iT{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(p=>{r.enqueueAndForget((0,X.Z)(function*(){var _;Oo(c)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,X.Z)(function*(w){const T=tt(w);T._u.add(4),yield od(T),T.gu.set("Unknown"),T._u.delete(4),yield Mp(T)}),function(w){return _.apply(this,arguments)})(c))}))}),this.gu=new rT(r,i)}}function Mp(n){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,X.Z)(function*(n){if(Oo(n))for(const e of n.wu)yield e(!0)}),Xv.apply(this,arguments)}function od(n){return e_.apply(this,arguments)}function e_(){return e_=(0,X.Z)(function*(n){for(const e of n.wu)yield e(!1)}),e_.apply(this,arguments)}function Op(n,e){const t=tt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),n0(t)?t0(t):Fp(t).ko()&&Rp(t,e))}function xp(n,e){const t=tt(n),r=Fp(t);t.du.delete(e),r.ko()&&e0(t,e),0===t.du.size&&(r.ko()?r.Fo():Oo(t)&&t.gu.set("Unknown"))}function Rp(n,e){n.yu.Ot(e.targetId),Fp(n).zo(e)}function e0(n,e){n.yu.Ot(e),Fp(n).Ho(e)}function t0(n){n.yu=new nv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Fp(n).start(),n.gu.uu()}function n0(n){return Oo(n)&&!Fp(n).No()&&n.du.size>0}function Oo(n){return 0===tt(n)._u.size}function t_(n){n.yu=void 0}function OD(n){return kp.apply(this,arguments)}function kp(){return kp=(0,X.Z)(function*(n){n.du.forEach((e,t)=>{Rp(n,e)})}),kp.apply(this,arguments)}function sT(n,e){return r0.apply(this,arguments)}function r0(){return r0=(0,X.Z)(function*(n,e){t_(n),n0(n)?(n.gu.hu(e),t0(n)):n.gu.set("Unknown")}),r0.apply(this,arguments)}function s0(n,e,t){return o0.apply(this,arguments)}function o0(){return o0=(0,X.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof dp&&2===e.state&&e.cause)try{yield(r=(0,X.Z)(function*(i,a){const c=a.cause;for(const p of a.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pp(n,r)}else if(e instanceof Ph?n.yu.Kt(e):e instanceof qw?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Be.min()))try{const r=yield YI(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.Zt(a);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.du.get(_);w&&i.du.set(_,w.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach(p=>{const _=i.du.get(p);if(!_)return;i.du.set(p,_.withResumeToken(Ar.EMPTY_BYTE_STRING,_.snapshotVersion)),e0(i,p);const w=new Sl(_.target,p,1,_.sequenceNumber);Rp(i,w)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield Pp(n,r)}var r}),o0.apply(this,arguments)}function Pp(n,e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,X.Z)(function*(n,e,t){if(!Cs(e))throw e;n._u.add(1),yield od(n),n.gu.set("Offline"),t||(t=()=>YI(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Mp(n)}))}),Pl.apply(this,arguments)}function a0(n,e){return e().catch(t=>Pp(n,t,e))}function Yh(n){return xD.apply(this,arguments)}function xD(){return xD=(0,X.Z)(function*(n){const e=tt(n),t=uu(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;RD(e);)try{const i=yield DD(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,u0(e,i)}catch(i){yield Pp(e,i)}kD(e)&&n_(e)}),xD.apply(this,arguments)}function RD(n){return Oo(n)&&n.fu.length<10}function u0(n,e){n.fu.push(e);const t=uu(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function kD(n){return Oo(n)&&!uu(n).No()&&n.fu.length>0}function n_(n){uu(n).start()}function oT(n){return r_.apply(this,arguments)}function r_(){return r_=(0,X.Z)(function*(n){uu(n).eu()}),r_.apply(this,arguments)}function l0(n){return i_.apply(this,arguments)}function i_(){return i_=(0,X.Z)(function*(n){const e=uu(n);for(const t of n.fu)e.Xo(t.mutations)}),i_.apply(this,arguments)}function PD(n,e,t){return s_.apply(this,arguments)}function s_(){return s_=(0,X.Z)(function*(n,e,t){const r=n.fu.shift(),i=_v.from(r,e,t);yield a0(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yh(n)}),s_.apply(this,arguments)}function FD(n,e){return c0.apply(this,arguments)}function c0(){return c0=(0,X.Z)(function*(n,e){var t;e&&uu(n).Yo&&(yield(t=(0,X.Z)(function*(r,i){if(Qc(a=i.code)&&a!==ce.ABORTED){const c=r.fu.shift();uu(r).Mo(),yield a0(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Yh(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kD(n)&&n_(n)}),c0.apply(this,arguments)}function LD(n,e){return d0.apply(this,arguments)}function d0(){return d0=(0,X.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Oo(t);t._u.add(3),yield od(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Mp(t)}),d0.apply(this,arguments)}function h0(n,e){return o_.apply(this,arguments)}function o_(){return o_=(0,X.Z)(function*(n,e){const t=tt(n);e?(t._u.delete(2),yield Mp(t)):e||(t._u.add(2),yield od(t),t.gu.set("Unknown"))}),o_.apply(this,arguments)}function Fp(n){return n.pu||(n.pu=function(e,t,r){const i=tt(e);return i.su(),new MD(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:OD.bind(null,n),Zr:sT.bind(null,n),Wo:s0.bind(null,n)}),n.wu.push(function(){var e=(0,X.Z)(function*(t){t?(n.pu.Mo(),n0(n)?t0(n):n.gu.set("Unknown")):(yield n.pu.stop(),t_(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function uu(n){return n.Iu||(n.Iu=function(e,t,r){const i=tt(e);return i.su(),new eT(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:oT.bind(null,n),Zr:FD.bind(null,n),tu:l0.bind(null,n),Zo:PD.bind(null,n)}),n.wu.push(function(){var e=(0,X.Z)(function*(t){t?(n.Iu.Mo(),yield Yh(n)):(yield n.Iu.stop(),n.fu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class f0{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,p=new f0(e,t,c,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(n,e){if(zn("AsyncQueue",`${e}: ${n}`),Cs(n))return new Le(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Lp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=xh(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Lp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VD{constructor(){this.Tu=new yr(et.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):mt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qh{constructor(e,t,r,i,a,c,p,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Qh(e,t,Lp.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class aT{constructor(){this.Au=void 0,this.listeners=[]}}class BD{constructor(){this.queries=new Ns(e=>Lw(e),up),this.onlineState="Unknown",this.Ru=new Set}}function a_(n,e){return u_.apply(this,arguments)}function u_(){return u_=(0,X.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new aT),i)try{a.Au=yield t.onListen(r)}catch(c){const p=Kh(c,`Initialization of query '${Ky(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&m0(t)}),u_.apply(this,arguments)}function p0(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,X.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),g0.apply(this,arguments)}function uT(n,e){const t=tt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&m0(t)}function lT(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function m0(n){n.Ru.forEach(e=>{e.next()})}class _0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Vp{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class y0{constructor(e){this.yt=e}Ji(e){return To(this.yt,e)}Yi(e){return e.metadata.exists?pp(this.yt,e.document,!1):Ln.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return vr(e)}}class UD{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v0(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=dn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new y0(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Qt()).add(a);t.set(c,p)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function QI(n,e,t,r){return zv.apply(this,arguments)}(e.localStore,new y0(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield fA(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function v0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class b0{constructor(e){this.key=e}}class w0{constructor(e){this.key=e}}class D0{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Qt(),this.mutatedKeys=Qt(),this.Gu=Bw(e),this.Qu=new Lp(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new VD,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,N)=>{const k=i.get(T),B=lp(this.query,N)?N:null,Q=!!k&&this.mutatedKeys.has(k.key),ae=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ye=!1;k&&B?k.data.isEqual(B.data)?Q!==ae&&(r.track({type:3,doc:B}),ye=!0):this.Hu(k,B)||(r.track({type:2,doc:B}),ye=!0,(_&&this.Gu(B,_)>0||w&&this.Gu(B,w)<0)&&(p=!0)):!k&&B?(r.track({type:0,doc:B}),ye=!0):k&&!B&&(r.track({type:1,doc:k}),ye=!0,(_||w)&&(p=!0)),ye&&(B?(c=c.add(B),a=ae?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Qu:c,zu:r,$i:p,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((w,T)=>function(N,k){const B=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return B(N)-B(k)}(w.type,T.type)||this.Gu(w.doc,T.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,_=p!==this.Uu;return this.Uu=p,0!==a.length||_?{snapshot:new Qh(this.query,e.Qu,i,a,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new VD,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Qt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new w0(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new b0(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Qt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Qh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class cT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pA{constructor(e){this.key=e,this.nc=!1}}class jD{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Ns(p=>Lw(p),up),this.rc=new Map,this.oc=new Set,this.uc=new yr(et.comparator),this.cc=new Map,this.ac=new Vv,this.hc={},this.lc=new Map,this.fc=ou.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function dT(n,e){return E0.apply(this,arguments)}function E0(){return E0=(0,X.Z)(function*(n,e){const t=ZD(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield au(t.localStore,$i(e));t.isPrimaryClient&&Op(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield I0(t,e,r,"current"===p,c.resumeToken)}return i}),E0.apply(this,arguments)}function I0(n,e,t,r,i){return T0.apply(this,arguments)}function T0(){return T0=(0,X.Z)(function*(n,e,t,r,i){n._c=(N,k,B)=>{return(Q=(0,X.Z)(function*(ae,ye,ot,at){let gt=ye.view.Wu(ot);gt.$i&&(gt=yield Tp(ae.localStore,ye.query,!1).then(({documents:ht})=>ye.view.Wu(ht,gt)));const rt=at&&at.targetChanges.get(ye.targetId),Xe=ye.view.applyChanges(gt,ae.isPrimaryClient,rt);return $p(ae,ye.targetId,Xe.Xu),Xe.snapshot}),function(ae,ye,ot,at){return Q.apply(this,arguments)})(n,N,k,B);var Q};const a=yield Tp(n.localStore,e,!0),c=new D0(e,a.Hi),p=c.Wu(a.documents),_=Xc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=c.applyChanges(p,n.isPrimaryClient,_);$p(n,t,w.Xu);const T=new cT(e,t,c);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),T0.apply(this,arguments)}function Bp(n,e){return C0.apply(this,arguments)}function C0(){return C0=(0,X.Z)(function*(n,e){const t=tt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!up(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield qh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xp(t.remoteStore,r.targetId),ad(t,r.targetId)}).catch(Gc))):(ad(t,r.targetId),yield qh(t.localStore,r.targetId,!0))}),C0.apply(this,arguments)}function Ks(){return Ks=(0,X.Z)(function*(n,e,t){const r=YD(n);try{const i=yield function(a,c){const p=tt(a),_=tr.now(),w=c.reduce((k,B)=>k.add(B.key),Qt());let T,N;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let B=Gi(),Q=Qt();return p.Gi.getEntries(k,w).next(ae=>{B=ae,B.forEach((ye,ot)=>{ot.isValidDocument()||(Q=Q.add(ye))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,B)).next(ae=>{T=ae;const ye=[];for(const ot of c){const at=cp(ot,T.get(ot.key).overlayedDocument);null!=at&&ye.push(new Zs(ot.key,at,_I(at.value.mapValue),Vn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,_,ye,c)}).next(ae=>{N=ae;const ye=ae.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,ae.batchId,ye)})}).then(()=>({batchId:N.batchId,changes:ev(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let _=a.hc[a.currentUser.toKey()];_||(_=new yr(Ht)),_=_.insert(c,p),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield xo(r,i.changes),yield Yh(r.remoteStore)}catch(i){const a=Kh(i,"Failed to persist write");t.reject(a)}}),Ks.apply(this,arguments)}function $D(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,X.Z)(function*(n,e){const t=tt(n);try{const r=yield hA(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?Ct(c.nc):i.removedDocuments.size>0&&(Ct(c.nc),c.nc=!1))}),yield xo(t,r,e)}catch(r){yield Gc(r)}}),Up.apply(this,arguments)}function Jh(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(a,c){const p=tt(a);p.onlineState=c;let _=!1;p.queries.forEach((w,T)=>{for(const N of T.listeners)N.bu(c)&&(_=!0)}),_&&m0(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hT(n,e,t){return A0.apply(this,arguments)}function A0(){return A0=(0,X.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new yr(et.comparator);c=c.insert(a,Ln.newNoDocument(a,Be.min()));const p=Qt().add(a),_=new kh(Be.min(),new Map,new kn(Ht),c,p);yield $D(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),Gp(r)}else yield qh(r.localStore,e,!1).then(()=>ad(r,e,t)).catch(Gc)}),A0.apply(this,arguments)}function fT(n,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,X.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield dA(t.localStore,e);jp(t,r,null),d_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xo(t,i)}catch(i){yield Gc(i)}}),Xh.apply(this,arguments)}function l_(n,e,t){return N0.apply(this,arguments)}function N0(){return N0=(0,X.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,c){const p=tt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,c).next(T=>(Ct(null!==T),w=T.keys(),p.mutationQueue.removeMutationBatch(_,T))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(r.localStore,e);jp(r,e,t),d_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xo(r,i)}catch(i){yield Gc(i)}}),N0.apply(this,arguments)}function c_(){return c_=(0,X.Z)(function*(n,e){const t=tt(n);Oo(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=tt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Kh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),c_.apply(this,arguments)}function d_(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function jp(n,e,t){const r=tt(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ad(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||h_(n,r)})}function h_(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(xp(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Gp(n))}function $p(n,e,t){for(const r of t)r instanceof b0?(n.ac.addReference(r.key,e),GD(n,r)):r instanceof w0?(He("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||h_(n,r.key)):mt()}function GD(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(He("SyncEngine","New document in limbo: "+t),n.oc.add(r),Gp(n))}function Gp(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new et(dn.fromString(e)),r=n.fc.next();n.cc.set(r,new pA(t)),n.uc=n.uc.insert(t,r),Op(n.remoteStore,new Sl($i(Ah(t.path)),r,2,Ss.at))}}function xo(n,e,t){return M0.apply(this,arguments)}function M0(){return M0=(0,X.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],c=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,_)=>{c.push(r._c(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=Km.Ci(_.targetId,w);a.push(T)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(p=(0,X.Z)(function*(_,w){const T=tt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>le.forEach(w,k=>le.forEach(k.Si,B=>T.persistence.referenceDelegate.addReference(N,k.targetId,B)).next(()=>le.forEach(k.Di,B=>T.persistence.referenceDelegate.removeReference(N,k.targetId,B)))))}catch(N){if(!Cs(N))throw N;He("LocalStore","Failed to update sequence numbers: "+N)}for(const N of w){const k=N.targetId;if(!N.fromCache){const B=T.qi.get(k),ae=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.qi=T.qi.insert(k,ae)}}}),function(_,w){return p.apply(this,arguments)})(r.localStore,a))}),M0.apply(this,arguments)}function gT(n,e){return O0.apply(this,arguments)}function O0(){return O0=(0,X.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield wD(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(p=>{p.reject(new Le(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xo(t,r.ji)}var i}),O0.apply(this,arguments)}function mT(n,e){const t=tt(n),r=t.cc.get(e);if(r&&r.nc)return Qt().add(r.key);{let i=Qt();const a=t.rc.get(e);if(!a)return i;for(const c of a){const p=t.ic.get(c);i=i.unionWith(p.view.ju)}return i}}function HD(n,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,X.Z)(function*(n,e){const t=tt(n),r=yield Tp(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&$p(t,e.targetId,i.Xu),i}),Hp.apply(this,arguments)}function zD(n,e){return f_.apply(this,arguments)}function f_(){return f_=(0,X.Z)(function*(n,e){const t=tt(n);return ED(t.localStore,e).then(r=>xo(t,r))}),f_.apply(this,arguments)}function WD(n,e,t,r){return p_.apply(this,arguments)}function p_(){return p_=(0,X.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(c,p){const _=tt(c),w=tt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Tn(T,p).next(N=>N?_.localDocuments.getDocuments(T,N):le.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield Yh(i.remoteStore):"acknowledged"===t||"rejected"===t?(jp(i,e,r||null),d_(i,e),p=e,tt(tt(i.localStore).mutationQueue).An(p)):mt(),yield xo(i,a)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),p_.apply(this,arguments)}function g_(){return g_=(0,X.Z)(function*(n,e){const t=tt(n);if(ZD(t),YD(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield x0(t,r.toArray());t.dc=!0,yield h0(t.remoteStore,!0);for(const a of i)Op(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(ad(t,c),qh(t.localStore,c,!0))),xp(t.remoteStore,c)}),yield i,yield x0(t,r),function(a){const c=tt(a);c.cc.forEach((p,_)=>{xp(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new yr(et.comparator)}(t),t.dc=!1,yield h0(t.remoteStore,!1)}}),g_.apply(this,arguments)}function x0(n,e,t){return R0.apply(this,arguments)}function R0(){return R0=(0,X.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const c of e){let p;const _=r.rc.get(c);if(_&&0!==_.length){p=yield au(r.localStore,$i(_[0]));for(const w of _){const T=r.ic.get(w),N=yield HD(r,T);N.snapshot&&a.push(N.snapshot)}}else{const w=yield Zh(r.localStore,c);p=yield au(r.localStore,w),yield I0(r,k0(w),c,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(a),i}),R0.apply(this,arguments)}function k0(n){return Sh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qD(n){const e=tt(n);return tt(tt(e.localStore).persistence).vi()}function zi(n,e,t,r){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,X.Z)(function*(n,e,t,r){const i=tt(n);if(i.dc)return void He("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield ED(i.localStore,Vw(a[0])),p=kh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ar.EMPTY_BYTE_STRING);yield xo(i,c,p);break}case"rejected":yield qh(i.localStore,e,!0),ad(i,e,r);break;default:mt()}}),Fl.apply(this,arguments)}function yT(n,e,t){return P0.apply(this,arguments)}function P0(){return P0=(0,X.Z)(function*(n,e,t){const r=ZD(n);if(r.dc){for(const i of e){if(r.rc.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const a=yield Zh(r.localStore,i),c=yield au(r.localStore,a);yield I0(r,k0(a),c.targetId,!1,c.resumeToken),Op(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield qh(r.localStore,i,!1).then(()=>{xp(r.remoteStore,i),ad(r,i)}).catch(Gc))}}),P0.apply(this,arguments)}function ZD(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hT.bind(null,e),e.sc.Wo=uT.bind(null,e.eventManager),e.sc.wc=lT.bind(null,e.eventManager),e}function YD(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l_.bind(null,e),e}class F0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.yt=Ap(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return $v(this.persistence,new jv,e.initialUser,this.yt)}yc(e){return new Bv(Ep.Bs,this.yt)}gc(e){return new Qv}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ef extends F0{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield YD(r.Ac.syncEngine),yield Yh(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return $v(this.persistence,new jv,e.initialUser,this.yt)}Tc(e,t){return new UI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new aI(t,this.persistence);return new Dw(e.asyncQueue,r)}yc(e){const t=Ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new Uv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AD(),Xm(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Qv}}class vT extends ef{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Kv&&(r.sharedClientState.syncEngine={Fr:WD.bind(null,i),$r:zi.bind(null,i),Br:yT.bind(null,i),vi:qD.bind(null,i),Mr:zD.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,X.Z)(function*(c){yield function _T(n,e){return g_.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=AD();if(!Kv.C(t))throw new Le(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zp{initialize(e,t){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Jh(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=gT.bind(null,r.syncEngine),yield h0(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BD}createDatastore(e){const t=Ap(e.databaseInfo.databaseId),r=new SD(e.databaseInfo);return new tT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>Jh(this.syncEngine,p,0),c=Jm.C()?new Jm:new JI,new iT(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,p,_,w){const T=new jD(r,i,a,c,p,_);return w&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const r=tt(t);He("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield od(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function L0(n,e,t){if(!t)throw new Le(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V0(n,e,t,r){if(!0===e&&!0===r)throw new Le(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QD(n){if(!et.isDocumentKey(n))throw new Le(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JD(n){if(et.isDocumentKey(n))throw new Le(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function m_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=m_(n);throw new Le(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function B0(n,e){if(e<=0)throw new Le(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const U0=new Map;class Wp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,V0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mw;switch(t.type){case"gapi":return new nI(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Le(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=U0.get(e);t&&(He("ComponentProvider","Removing Datastore"),U0.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bi(this.firestore,e,this._query)}}class Ro extends bi{constructor(e,t,r){super(e,t,Ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new et(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function ld(n,e,...t){if(n=(0,Xt.m9)(n),L0("collection","path",e),n instanceof ud){const r=dn.fromString(e,...t);return JD(r),new Ro(n,null,r)}{if(!(n instanceof Wn||n instanceof Ro))throw new Le(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return JD(r),new Ro(n.firestore,null,r)}}function qp(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=_w.R()),L0("doc","path",e),n instanceof ud){const r=dn.fromString(e,...t);return QD(r),new Wn(n,null,new et(r))}{if(!(n instanceof Wn||n instanceof Ro))throw new Le(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return QD(r),new Wn(n.firestore,n instanceof Ro?n.converter:null,new et(r))}}function __(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof Wn||n instanceof Ro)&&(e instanceof Wn||e instanceof Ro)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XD(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof bi&&e instanceof bi&&n.firestore===e.firestore&&up(n._query,e._query)&&n.converter===e.converter}function e1(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class j0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class DT{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new Vp(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,X.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class n1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,X.Z)(function*(a,c){const p=tt(a),_=Lh(p.yt)+"/documents",w={documents:c.map(B=>Fh(p.yt,B))},T=yield p._o("BatchGetDocuments",_,w,c.length),N=new Map;T.forEach(B=>{const Q=function Jw(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=To(t,r.found.name),a=vr(r.found.updateTime),c=r.found.createTime?vr(r.found.createTime):Be.min(),p=new Br({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(i,a,c,p)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=To(t,r.missing),a=vr(r.readTime);return Ln.newNoDocument(i,a)}(n,e):mt()}(p.yt,B);N.set(Q.key.toString(),Q)});const k=[];return c.forEach(B=>{const Q=N.get(B.toString());Ct(!!Q),k.push(Q)}),k}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=et.fromPath(i);e.mutations.push(new Tl(a,e.precondition(a)))}),yield(r=(0,X.Z)(function*(i,a){const c=tt(i),p=Lh(c.yt)+"/documents",_={writes:a.map(w=>Vh(c.yt,w))};yield c.ao("Commit",p,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=Be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Be.min())?Vn.exists(!1):Vn.updateTime(t):Vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Be.min()))throw new Le(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(t)}return Vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IT{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Np(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,X.Z)(function*(){const t=new n1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!bh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qc(t)}return!1}}class r1{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ui.UNAUTHENTICATED,this.clientId=_w.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,X.Z)(function*(p){He("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Kh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $0(n,e){return G0.apply(this,arguments)}function G0(){return G0=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,X.Z)(function*(a){r.isEqual(a)||(yield wD(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),G0.apply(this,arguments)}function i1(n,e){return y_.apply(this,arguments)}function y_(){return y_=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield H0(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>LD(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>LD(e.remoteStore,a)),n.onlineComponents=e}),y_.apply(this,arguments)}function H0(n){return v_.apply(this,arguments)}function v_(){return v_=(0,X.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield $0(n,new F0)),n.offlineComponents}),v_.apply(this,arguments)}function Zp(n){return b_.apply(this,arguments)}function b_(){return b_=(0,X.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield i1(n,new zp)),n.onlineComponents}),b_.apply(this,arguments)}function z0(n){return H0(n).then(e=>e.persistence)}function w_(n){return H0(n).then(e=>e.localStore)}function W0(n){return Zp(n).then(e=>e.remoteStore)}function s1(n){return Zp(n).then(e=>e.syncEngine)}function Yp(n){return o1.apply(this,arguments)}function o1(){return o1=(0,X.Z)(function*(n){const e=yield Zp(n),t=e.eventManager;return t.onListen=dT.bind(null,e.syncEngine),t.onUnlisten=Bp.bind(null,e.syncEngine),t}),o1.apply(this,arguments)}function TT(n,e,t={}){const r=new Lr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,a,c,p,_){const w=new j0({next:N=>{a.enqueueAndForget(()=>p0(i,T));const k=N.docs.has(c);!k&&N.fromCache?_.reject(new Le(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&N.fromCache&&p&&"server"===p.source?_.reject(new Le(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new _0(Ah(c.path),w,{includeMetadataChanges:!0,Nu:!0});return a_(i,T)}(yield Yp(n),n.asyncQueue,e,t,r)})),r.promise}function CT(n,e,t={}){const r=new Lr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,a,c,p,_){const w=new j0({next:N=>{a.enqueueAndForget(()=>p0(i,T)),N.fromCache&&"server"===p.source?_.reject(new Le(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new _0(c,w,{includeMetadataChanges:!0,Nu:!0});return a_(i,T)}(yield Yp(n),n.asyncQueue,e,t,r)})),r.promise}class E_{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Np(this,"async_queue_retry"),this.Wc=()=>{const t=Xm();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Xm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Lr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,X.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Cs(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,zn("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=f0.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&mt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function I_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class u1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bn extends ud{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new E_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AT(this),this._firestoreClient.terminate()}}function Dr(n){return n._firestoreClient||AT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function AT(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uI(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new r1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function l1(n,e,t){const r=new Lr;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield $0(n,t),yield i1(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===ce.FAILED_PRECONDITION||c.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;ji("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function c1(n){if(n._initialized||n._terminated)throw new Le(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(Ar.fromBase64String(e))}catch(t){throw new Le(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lu(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ll{constructor(e){this._methodName=e}}class Z0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const ko=/^__.*__$/;class kT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new qs(e,this.data,t,this.fieldTransforms)}}class C_{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Y0{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return O_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(d1(this.sa)&&ko.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Qs{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Ap(e)}da(e,t,r,i=!1){return new Y0({sa:e,methodName:t,fa:r,path:_r.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function cd(n){const e=n._freezeSettings(),t=Ap(n._databaseId);return new Qs(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tf(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);ya("Data must be an object, but it was:",c,r);const p=m1(r,c);let _,w;if(a.merge)_=new Ni(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const N of a.mergeFields){const k=M_(e,N,t);if(!c.contains(k))throw new Le(ce.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);FT(T,k)||T.push(k)}_=new Ni(T),w=c.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,w=c.fieldTransforms;return new kT(new Br(p),_,w)}class Kp extends Ll{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kp}}function h1(n,e,t){return new Y0({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Qp extends Ll{_toFieldTransform(e){return new Il(e.path,new Nh)}isEqual(e){return e instanceof Qp}}class f1 extends Ll{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this._a.map(a=>Vl(a,t)),i=new Zc(r);return new Il(e.path,i)}isEqual(e){return this===e}}class p1 extends Ll{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this._a.map(a=>Vl(a,t)),i=new El(r);return new Il(e.path,i)}isEqual(e){return this===e}}class PT extends Ll{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Mh(e.yt,Tm(e.yt,this.wa));return new Il(e.path,t)}isEqual(e){return this===e}}function S_(n,e,t,r){const i=n.da(1,e,t);ya("Data must be an object, but it was:",i,r);const a=[],c=Br.empty();vl(r,(_,w)=>{const T=Js(e,_,t);w=(0,Xt.m9)(w);const N=i.ca(T);if(w instanceof Kp)a.push(T);else{const k=Vl(w,N);null!=k&&(a.push(T),c.set(T,k))}});const p=new Ni(a);return new C_(c,p,i.fieldTransforms)}function A_(n,e,t,r,i,a){const c=n.da(1,e,t),p=[M_(e,r,t)],_=[i];if(a.length%2!=0)throw new Le(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)p.push(M_(e,a[k])),_.push(a[k+1]);const w=[],T=Br.empty();for(let k=p.length-1;k>=0;--k)if(!FT(w,p[k])){const B=p[k];let Q=_[k];Q=(0,Xt.m9)(Q);const ae=c.ca(B);if(Q instanceof Kp)w.push(B);else{const ye=Vl(Q,ae);null!=ye&&(w.push(B),T.set(B,ye))}}const N=new Ni(w);return new C_(T,N,c.fieldTransforms)}function g1(n,e,t,r=!1){return Vl(t,n.da(r?4:3,e))}function Vl(n,e){if(N_(n=(0,Xt.m9)(n)))return ya("Unsupported field value:",e,n),m1(n,e);if(n instanceof Ll)return function(t,r){if(!d1(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let p=Vl(c,r.aa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tm(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=tr.fromDate(t);return{timestampValue:ed(r.yt,i)}}if(t instanceof tr){const i=new tr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ed(r.yt,i)}}if(t instanceof Z0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lu)return{bytesValue:iv(r.yt,t._byteString)};if(t instanceof Wn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ov(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${m_(t)}`)}(n,e)}function m1(n,e){const t={};return Iw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(n,(r,i)=>{const a=Vl(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function N_(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tr||n instanceof Z0||n instanceof lu||n instanceof Wn||n instanceof Ll)}function ya(n,e,t){if(!N_(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=m_(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function M_(n,e,t){if((e=(0,Xt.m9)(e))instanceof cu)return e._internalPath;if("string"==typeof e)return Js(n,e);throw O_("Field path arguments must be of type string or ",n,!1,void 0,t)}const K0=new RegExp("[~\\*/\\[\\]]");function Js(n,e,t){if(e.search(K0)>=0)throw O_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cu(...e.split("."))._internalPath}catch{throw O_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function O_(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Le(ce.INVALID_ARGUMENT,p+n+_)}function FT(n,e){return n.some(t=>t.isEqual(e))}class Jp{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(x_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LT extends Jp{data(){return super.data()}}function x_(n,e){return"string"==typeof e?Js(n,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function _1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R_{}class k_ extends R_{}function du(n,e,...t){let r=[];e instanceof R_&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof eg).length,c=i.filter(p=>p instanceof Xp).length;if(a>1||a>0&&c>0)throw new Le(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Xp extends k_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xp(e,t,r)}_apply(e){const t=this._parse(e);return I1(e._query,t),new bi(e.firestore,e.converter,Fw(e._query,t))}_parse(e){const t=cd(e.firestore);return function(i,a,c,p,_,w,T){let N;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Le(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){E1(T,w);const k=[];for(const B of T)k.push(Q0(p,i,B));N={arrayValue:{values:k}}}else N=Q0(p,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||E1(T,w),N=g1(c,"where",T,"in"===w||"not-in"===w);return nn.create(_,w,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class eg extends R_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new eg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const p of c)I1(a,p),a=Fw(a,p)}(e._query,t),new bi(e.firestore,e.converter,Fw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class P_ extends k_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P_(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Le(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new qc(i,a);return function(p,_){if(null===wm(p)){const w=Dm(p);null!==w&&T1(0,w,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ws(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class tg extends k_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new tg(e,t,r)}_apply(e){return new bi(e.firestore,e.converter,Em(e._query,this._limit,this._limitType))}}class dd extends k_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new dd(e,t,r)}_apply(e){const t=UT(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,(i=t,new Ws((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class L_ extends k_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new L_(e,t,r)}_apply(e){const t=UT(e,this.type,this._docOrFields,this._inclusive);return new bi(e.firestore,e.converter,(i=t,new Ws((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function UT(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof Jp)return function(i,a,c,p,_){if(!p)throw new Le(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const T of Do(i))if(T.field.isKeyField())w.push(ru(a,p.key));else{const N=p.data.field(T.field);if(jy(N))throw new Le(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const k=T.field.canonicalString();throw new Le(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}w.push(N)}return new Vr(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=cd(n.firestore);return function(a,c,p,_,w,T){const N=a.explicitOrderBy;if(w.length>N.length)throw new Le(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let B=0;B<w.length;B++){const Q=w[B];if(N[B].field.isKeyField()){if("string"!=typeof Q)throw new Le(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!Yy(a)&&-1!==Q.indexOf("/"))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const ae=a.path.child(dn.fromString(Q));if(!et.isDocumentKey(ae))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const ye=new et(ae);k.push(ru(c,ye))}else{const ae=g1(p,_,Q);k.push(ae)}}return new Vr(k,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Q0(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Le(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yy(e)&&-1!==t.indexOf("/"))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!et.isDocumentKey(r))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ru(n,new et(r))}if(t instanceof Wn)return ru(n,t._key);throw new Le(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m_(t)}.`)}function E1(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function I1(n,e){if(e.isInequality()){const r=Dm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=wm(n);null!==a&&T1(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Le(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function T1(n,e,t){if(!t.isEqual(e))throw new Le(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class C1{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){const r={};return vl(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Z0(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$y(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(np(e));default:return null}}convertTimestamp(e){const t=Hc(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);Ct(TI(r));const i=new yl(r.get(1),r.get(3)),a=new et(r.popFirst(5));return i.isEqual(t)||zn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function J0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class AA extends C1{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class nf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hu extends Jp{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Bl extends hu{data(e={}){return super.data(e)}}class Ul{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bl(this._firestore,this._userDataWriter,r.key,r,new nf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Bl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new nf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Bl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new nf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:$T(c.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $T(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function X0(n,e){return n instanceof hu&&e instanceof hu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ul&&e instanceof Ul&&n._firestore===e._firestore&&XD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class fu extends C1{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function ng(n,e,t){n=rn(n,Wn);const r=rn(n.firestore,Bn),i=J0(n.converter,e,t);return rf(r,[tf(cd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vn.none())])}function HT(n,e,t,...r){n=rn(n,Wn);const i=rn(n.firestore,Bn),a=cd(i);let c;return c="string"==typeof(e=(0,Xt.m9)(e))||e instanceof cu?A_(a,"updateDoc",n._key,e,t,r):S_(a,"updateDoc",n._key,e),rf(i,[c.toMutation(n._key,Vn.exists(!0))])}function zT(n,...e){var t,r,i;n=(0,Xt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||I_(e[c])||(a=e[c],c++);const p={includeMetadataChanges:a.includeMetadataChanges};if(I_(e[c])){const N=e[c];e[c]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[c+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[c+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let _,w,T;if(n instanceof Wn)w=rn(n.firestore,Bn),T=Ah(n._key.path),_={next:N=>{e[c]&&e[c](ib(w,n,N))},error:e[c+1],complete:e[c+2]};else{const N=rn(n,bi);w=rn(N.firestore,Bn),T=N._query;const k=new fu(w);_={next:B=>{e[c]&&e[c](new Ul(w,k,N,B))},error:e[c+1],complete:e[c+2]},_1(n._query)}return function(N,k,B,Q){const ae=new j0(Q),ye=new _0(k,ae,B);return N.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return a_(yield Yp(N),ye)})),()=>{ae.bc(),N.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return p0(yield Yp(N),ye)}))}}(Dr(w),T,p,_)}function rf(n,e){return function(t,r){const i=new Lr;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function S0(n,e,t){return Ks.apply(this,arguments)}(yield s1(t),r,i)})),i.promise}(Dr(n),e)}function ib(n,e,t){const r=t.docs.get(e._key),i=new fu(n);return new hu(n,i,e._key,r,new nf(t.hasPendingWrites,t.fromCache),e.converter)}const A1={maxAttempts:5};class sb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cd(e)}set(e,t,r){this._verifyNotCommitted();const i=pu(e,this._firestore),a=J0(i.converter,t,r),c=tf(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Vn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=pu(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof cu?A_(this._dataReader,"WriteBatch.update",a._key,t,r,i):S_(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pu(e,this._firestore);return this._mutations=this._mutations.concat(new Eo(t._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pu(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Le(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class WT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cd(e)}get(e){const t=pu(e,this._firestore),r=new AA(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return mt();const a=i[0];if(a.isFoundDocument())return new Jp(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Jp(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const i=pu(e,this._firestore),a=J0(i.converter,t,r),c=tf(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=pu(e,this._firestore);let c;return c="string"==typeof(t=(0,Xt.m9)(t))||t instanceof cu?A_(this._dataReader,"Transaction.update",a._key,t,r,i):S_(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=pu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pu(e,this._firestore),r=new fu(this._firestore);return super.get(e).then(i=>new hu(this._firestore,r,t._key,i._document,new nf(!1,!1),t.converter))}}function ub(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function O1(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function KT(){if(!function sA(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){mh=Rt.SDK_VERSION,(0,Rt._registerComponent)(new Fr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Bn(new tI(t.getProvider("auth-internal")),new rI(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(p.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(pw,"3.8.3",n),(0,Rt.registerVersion)(pw,"3.8.3","esm2017")}();class V_{constructor(e){this._delegate=e}static fromBase64String(e){return KT(),new V_(lu.fromBase64String(e))}static fromUint8Array(e){return O1(),new V_(lu.fromUint8Array(e))}toBase64(){return KT(),this._delegate.toBase64()}toUint8Array(){return O1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function x1(n){return function LA(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VA{enableIndexedDbPersistence(e,t){return function EA(n,e){c1(n=rn(n,Bn));const t=Dr(n),r=n._freezeSettings(),i=new zp;return l1(t,i,new ef(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NT(n){c1(n=rn(n,Bn));const e=Dr(n),t=n._freezeSettings(),r=new zp;return l1(e,r,new vT(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function T_(n){if(n._initialized&&!n._terminated)throw new Le(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!Gs.C())return Promise.resolve();const i=r+"main";yield Gs.delete(i)}),function(r){return t.apply(this,arguments)})(Ym(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof yl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function bT(n,e,t,r={}){var i;const a=(n=rn(n,ud))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ji("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=ui.MOCK_USER;else{c=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Le(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ui(_)}n._authCredentials=new eI(new gw(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function IA(n){return function mA(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield z0(n),t=yield W0(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i._u.delete(0),Mp(i)}(t)}))}(Dr(n=rn(n,Bn)))}(this._delegate)}disableNetwork(){return function TA(n){return function _A(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield z0(n),t=yield W0(n);return e.setNetworkEnabled(!1),(r=(0,X.Z)(function*(i){const a=tt(i);a._u.add(0),yield od(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Dr(n=rn(n,Bn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,V0("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MT(n){return function(e){const t=new Lr;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function pT(n,e){return c_.apply(this,arguments)}(yield s1(e),t)})),t.promise}(Dr(n=rn(n,Bn)))}(this._delegate)}onSnapshotsInSync(e){return function S1(n,e){return function D_(n,e){const t=new j0(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield Yp(n),i=t,tt(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield Yp(n),i=t,void tt(r).Ru.delete(i);var r,i}))}}(Dr(n=rn(n,Bn)),I_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new E(this,ld(this._delegate,e))}catch(t){throw s(t,"collection()","Firestore.collection()")}}doc(e){try{return new Po(this,qp(this._delegate,e))}catch(t){throw s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new g(this,function wT(n,e){if(n=rn(n,ud),L0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bi(n,null,(t=e,new Ws(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qT(n,e,t){n=rn(n,Bn);const r=Object.assign(Object.assign({},A1),t);return function(i){if(i.maxAttempts<1)throw new Le(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const p=new Lr;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const _=yield function q0(n){return Zp(n).then(e=>e.datastore)}(i);new IT(i.asyncQueue,_,c,a,p).run()})),p.promise}(Dr(n),i=>e(new WT(n,i)),r)}(this._delegate,t=>e(new QT(this,t)))}batch(){return Dr(this._delegate),new JT(new sb(this._delegate,e=>rf(this._delegate,e)))}loadBundle(e){return function OT(n,e){const t=Dr(n=rn(n,Bn)),r=new u1;return function bA(n,e,t,r){const i=function(a,c){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return e1(_,w);if(_ instanceof ArrayBuffer)return e1(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new DT(_,c);var _}(t,Ap(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function KD(n,e,t){const r=tt(n);var i;(i=(0,X.Z)(function*(a,c,p){try{const _=yield c.getMetadata();if(yield function(k,B){const Q=tt(k),ae=vr(B.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ye=>Q.Ns.getBundleMetadata(ye,B.id)).then(ye=>!!ye&&ye.createTime.compareTo(ae)>=0)}(a.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(k=_).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);p._updateProgress(v0(_));const w=new UD(_,a.localStore,c.yt);let T=yield c.mc();for(;T;){const k=yield w.Fu(T);k&&p._updateProgress(k),T=yield c.mc()}const N=yield w.complete();return yield xo(a,N.Lu,void 0),yield function(k,B){const Q=tt(k);return Q.persistence.runTransaction("Save bundle","readwrite",ae=>Q.Ns.saveBundleMetadata(ae,B))}(a.localStore,_),p._completeWith(N.progress),Promise.resolve(N.Bu)}catch(_){return ji("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var k}),function(a,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield s1(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function xT(n,e){return function a1(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield w_(n),e)}))}(Dr(n=rn(n,Bn)),e).then(t=>t?new bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new g(this,t):null)}}class lb extends C1{constructor(e){super(),this.firestore=e}convertBytes(e){return new V_(new lu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Po.forKey(t,this.firestore,null)}}class QT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lb(e)}get(e){const t=S(e);return this._delegate.get(t).then(r=>new d(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=S(e);return r?(ub("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=S(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=S(e);return this._delegate.delete(t),this}}class JT{constructor(e){this._delegate=e}set(e,t,r){const i=S(e);return r?(ub("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=S(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=S(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Bl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new h(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=fd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new fd(e,new lb(e),t),i.set(t,a)),a}}fd.INSTANCES=new WeakMap;class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Po(t,new Wn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Po(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new E(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new E(this.firestore,ld(this._delegate,e))}catch(t){throw s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Wn&&__(this._delegate,e)}set(e,t){t=ub("DocumentReference.set",t);try{return t?ng(this._delegate,e,t):ng(this._delegate,e)}catch(r){throw s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?HT(this._delegate,e):HT(this._delegate,e,t,...r)}catch(i){throw s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function NA(n){return rf(rn(n.firestore,Bn),[new Eo(n._key,Vn.none())])}(this._delegate)}onSnapshot(...e){const t=o(e),r=u(e,i=>new d(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zT(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function eb(n){n=rn(n,Wn);const e=rn(n.firestore,Bn),t=Dr(e),r=new fu(e);return function yA(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,a,c){try{const p=yield function(_,w){const T=tt(_);return T.persistence.runTransaction("read document","readonly",N=>T.localDocuments.getDocument(N,w))}(i,a);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Le(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=Kh(p,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield w_(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hu(e,r,n._key,i,new nf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function tb(n){n=rn(n,Wn);const e=rn(n.firestore,Bn);return TT(Dr(e),n._key,{source:"server"}).then(t=>ib(e,n,t))}(this._delegate):function hd(n){n=rn(n,Wn);const e=rn(n.firestore,Bn);return TT(Dr(e),n._key).then(t=>ib(e,n,t))}(this._delegate),t.then(r=>new d(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?fd.getInstance(this.firestore,e):null))}}function s(n,e,t){return n.message=n.message.replace(e,t),n}function o(n){for(const e of n)if("object"==typeof e&&!x1(e))return e;return{}}function u(n,e){var t,r;let i;return i=x1(n[0])?n[0]:x1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class d{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Po(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return X0(this._delegate,e._delegate)}}class h extends d{data(e){const t=this._delegate.data(e);return function tA(n,e){n||mt()}(void 0!==t),t}}class g{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lb(e)}where(e,t,r){try{return new g(this.firestore,du(this._delegate,function y1(n,e,t){const r=e,i=x_("where",n);return Xp._create(i,r,t)}(e,t,r)))}catch(i){throw s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new g(this.firestore,du(this._delegate,function b1(n,e="asc"){const t=e,r=x_("orderBy",n);return P_._create(r,t)}(e,t)))}catch(r){throw s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new g(this.firestore,du(this._delegate,function w1(n){return B0("limit",n),tg._create("limit",n,"F")}(e)))}catch(t){throw s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new g(this.firestore,du(this._delegate,function F_(n){return B0("limitToLast",n),tg._create("limitToLast",n,"L")}(e)))}catch(t){throw s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new g(this.firestore,du(this._delegate,function D1(...n){return dd._create("startAt",n,!0)}(...e)))}catch(t){throw s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new g(this.firestore,du(this._delegate,function BT(...n){return dd._create("startAfter",n,!1)}(...e)))}catch(t){throw s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new g(this.firestore,du(this._delegate,function CA(...n){return L_._create("endBefore",n,!1)}(...e)))}catch(t){throw s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new g(this.firestore,du(this._delegate,function SA(...n){return L_._create("endAt",n,!0)}(...e)))}catch(t){throw s(t,"endAt()","Query.endAt()")}}isEqual(e){return XD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function nb(n){n=rn(n,bi);const e=rn(n.firestore,Bn),t=Dr(e),r=new fu(e);return function vA(n,e){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,a,c){try{const p=yield Tp(i,a,!0),_=new D0(a,p.Hi),w=_.Wu(p.documents),T=_.applyChanges(w,!1);c.resolve(T.snapshot)}catch(p){const _=Kh(p,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield w_(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ul(e,r,n,i))}(this._delegate):"server"===e?.source?function rb(n){n=rn(n,bi);const e=rn(n.firestore,Bn),t=Dr(e),r=new fu(e);return CT(t,n._query,{source:"server"}).then(i=>new Ul(e,r,n,i))}(this._delegate):function GT(n){n=rn(n,bi);const e=rn(n.firestore,Bn),t=Dr(e),r=new fu(e);return _1(n._query),CT(t,n._query).then(i=>new Ul(e,r,n,i))}(this._delegate),t.then(r=>new D(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=o(e),r=u(e,i=>new D(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zT(this._delegate,t,r)}withConverter(e){return new g(this.firestore,this._delegate.withConverter(e?fd.getInstance(this.firestore,e):null))}}class v{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new h(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new g(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new h(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new v(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new h(this._firestore,r))})}isEqual(e){return X0(this._delegate,e._delegate)}}class E extends g{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Po(this.firestore,e):null}doc(e){try{return new Po(this.firestore,void 0===e?qp(this._delegate):qp(this._delegate,e))}catch(t){throw s(t,"doc()","CollectionReference.doc()")}}add(e){return function MA(n,e){const t=rn(n.firestore,Bn),r=qp(n),i=J0(n.converter,e);return rf(t,[tf(cd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Po(this.firestore,t))}isEqual(e){return __(this._delegate,e._delegate)}withConverter(e){return new E(this.firestore,this._delegate.withConverter(e?fd.getInstance(this.firestore,e):null))}}function S(n){return rn(n,Wn)}class O{constructor(...e){this._delegate=new cu(...e)}static documentId(){return new O(_r.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof cu&&this._delegate._internalPath.isEqual(e._internalPath)}}class F{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ob(){return new Qp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new F(e)}static delete(){const e=function N1(){return new Kp("deleteField")}();return e._methodName="FieldValue.delete",new F(e)}static arrayUnion(...e){const t=function RA(...n){return new f1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new F(t)}static arrayRemove(...e){const t=function M1(...n){return new p1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new F(t)}static increment(e){const t=function ab(n){return new PT("increment",n)}(e);return t._methodName="FieldValue.increment",new F(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const H={Firestore:R1,GeoPoint:Z0,Timestamp:tr,Blob:V_,Transaction:QT,WriteBatch:JT,DocumentReference:Po,DocumentSnapshot:d,Query:g,QueryDocumentSnapshot:h,QuerySnapshot:D,CollectionReference:E,FieldPath:O,FieldValue:F,setLogLevel:function BA(n){!function XE(n){pl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Ie(n){(function ee(n,e){n.INTERNAL.registerComponent(new Fr.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},H)))})(n,(e,t)=>new R1(e,t,new VA)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Dt.Z);var Ne=P(7579),nt=P(6451),_t=P(5363),St=P(8421);function Te(n,e){return(0,Hn.e)((t,r)=>{let i=null,a=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Cn.x)(r,_=>{i?.unsubscribe();let w=0;const T=a++;(0,St.Xf)(n(_,T)).subscribe(i=(0,Cn.x)(r,N=>r.next(e?e(_,N,T,w++):N),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Zt=P(6063);class nr extends Ne.x{constructor(e=1/0,t=1/0,r=Zt.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var Nr=P(3099);function XT(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Nr.B)({connector:()=>new nr(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const k1=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jl=P(515);function wi(n){return n<=0?()=>jl.E:(0,Hn.e)((e,t)=>{let r=0;e.subscribe((0,Cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function P1(n){return(0,Hn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function UA(n=FR){return(0,Hn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FR(){return new k1}function pd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ke((i,a)=>n(i,a,r)):Z.y,wi(1),t?P1(e):UA(()=>new k1))}var $l=P(576);function jA(n,e){return(0,$l.m)(e)?Te(()=>n,e):Te(()=>n)}var eC=P(9468);P(259);const nC=new Map,GA={activated:!1,tokenObservers:[]},jR={initialized:!1,enabled:!1};function Wi(n){return nC.get(n)||Object.assign({},GA)}function L1(){return jR}class qR{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function ZR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Os=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zA(n){if(!Wi(n).activated)throw Os.create("use-before-activation",{appName:n.name})}function sC(n,e){return oC.apply(this,arguments)}function oC(){return oC=(0,X.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const N=yield i.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,a)}catch(N){throw Os.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==c.status)throw Os.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(N){throw Os.create("fetch-parse-error",{originalErrorMessage:N?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(_[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),oC.apply(this,arguments)}function JR(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const cb="firebase-app-check-store";let U1=null;function qA(){return U1||(U1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Os.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cb,{keyPath:"compositeKey"})}}catch(t){e(Os.create("storage-open",{originalErrorMessage:t?.message}))}}),U1)}function aC(){return aC=(0,X.Z)(function*(n,e){const r=(yield qA()).transaction(cb,"readwrite"),a=r.objectStore(cb).put({compositeKey:n,value:e});return new Promise((c,p)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var w;p(Os.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),aC.apply(this,arguments)}const db=new Sn.Yd("@firebase/app-check");function cC(n,e){return(0,Xt.hl)()?function nk(n,e){return function ZA(n,e){return aC.apply(this,arguments)}(function KA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{db.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QA(){return L1().enabled}function JA(){return hC.apply(this,arguments)}function hC(){return hC=(0,X.Z)(function*(){const n=L1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),hC.apply(this,arguments)}const uk={error:"UNKNOWN_ERROR"};function lk(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function j1(n){return fC.apply(this,arguments)}function fC(){return fC=(0,X.Z)(function*(n,e=!1){const t=n.app;zA(t);const r=Wi(t);let a,i=r.token;if(i&&!B_(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(B_(_)?i=_:yield cC(t,void 0))}if(!e&&i&&B_(i))return{token:i.token};let p,c=!1;if(QA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sC(JR(t,yield JA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield cC(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Wi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?db.warn(_.message):db.error(_),a=_}return i?a?p=B_(i)?{token:i.token,internalError:a}:tN(a):(p={token:i.token},r.token=i,yield cC(t,i)):p=tN(a),c&&eN(t,p),p}),fC.apply(this,arguments)}function gC(n,e){const t=Wi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function XA(n){const{app:e}=n,t=Wi(e);let r=t.tokenRefresher;r||(r=function ck(n){const{app:e}=n;return new qR((0,X.Z)(function*(){let r;if(r=Wi(e).token?yield j1(n,!0):yield j1(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Wi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eN(n,e){const t=Wi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function B_(n){return n.expireTimeMillis-Date.now()>0}function tN(n){return{token:lk(uk),error:n}}class dk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wi(this.app);for(const t of e)gC(this.app,t.next);return Promise.resolve()}}const lN="app-check-internal";!function Tk(){(0,Rt._registerComponent)(new Fr.wA("app-check",n=>function hk(n,e){return new dk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(lN).initialize()})),(0,Rt._registerComponent)(new Fr.wA(lN,n=>function fk(n){return{getToken:e=>j1(n,e),addTokenListener:e=>function pC(n,e,t,r){const{app:i}=n,a=Wi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&B_(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),XA(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>XA(n))}(n,"INTERNAL",e),removeTokenListener:e=>gC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rt.registerVersion)("@firebase/app-check","0.6.3")}();class vC{constructor(){return(0,Tn.vb)("app-check")}}typeof window<"u"&&window;var Mk=P(9260);const dN=new l.OlP("angularfire2.auth.use-emulator"),hN=new l.OlP("angularfire2.auth.settings"),fN=new l.OlP("angularfire2.auth.tenant-id"),pN=new l.OlP("angularfire2.auth.langugage-code"),gN=new l.OlP("angularfire2.auth.use-device-language"),mN=new l.OlP("angularfire.auth.persistence"),_N=(n,e,t,r,i,a,c,p)=>(0,Kn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[w,T]of Object.entries(c))_.settings[w]=T;return p&&_.setPersistence(p),_},[t,r,i,a,c,p]);let yN=(()=>{class n{constructor(t,r,i,a,c,p,_,w,T,N,k,B){const Q=new Ne.x,ae=wt(void 0).pipe((0,_t.Q)(c.outsideAngular),Te(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,407)))),(0,C.U)(()=>(0,Kn.on)(t,a,r)),(0,C.U)(ye=>_N(ye,a,p,w,T,N,_,k)),XT({bufferSize:1,refCount:!1}));if(wu(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{ae.pipe(pd()).subscribe();const ot=ae.pipe(Te(rt=>rt.getRedirectResult().then(Xe=>Xe,()=>null)),Tn.iC,XT({bufferSize:1,refCount:!1})),at=ae.pipe(Te(rt=>new kr.y(Xe=>({unsubscribe:a.runOutsideAngular(()=>rt.onAuthStateChanged(ht=>Xe.next(ht),ht=>Xe.error(ht),()=>Xe.complete()))})))),gt=ae.pipe(Te(rt=>new kr.y(Xe=>({unsubscribe:a.runOutsideAngular(()=>rt.onIdTokenChanged(ht=>Xe.next(ht),ht=>Xe.error(ht),()=>Xe.complete()))}))));this.authState=ot.pipe(jA(at),(0,eC.R)(c.outsideAngular),(0,_t.Q)(c.insideAngular)),this.user=ot.pipe(jA(gt),(0,eC.R)(c.outsideAngular),(0,_t.Q)(c.insideAngular)),this.idToken=this.user.pipe(Te(rt=>rt?(0,In.D)(rt.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(Te(rt=>rt?(0,In.D)(rt.getIdTokenResult()):wt(null))),this.credential=(0,nt.T)(ot,Q,this.authState.pipe(Ke(rt=>!rt))).pipe((0,C.U)(rt=>rt?.user?rt:null),(0,eC.R)(c.outsideAngular),(0,_t.Q)(c.insideAngular))}return(0,Kn.pX)(this,ae,a,{spy:{apply:(ye,ot,at)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&at.then(gt=>Q.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Kn.Dh),l.LFG(Kn.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Tn.HU),l.LFG(dN,8),l.LFG(hN,8),l.LFG(fN,8),l.LFG(pN,8),l.LFG(gN,8),l.LFG(mN,8),l.LFG(vC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vN(n,e){return function xk(n,e=yo.z){return new kr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function wC(n,e){return vN(n,e).pipe((0,C.U)(t=>({payload:t,type:"query"})))}function G1(n,e){return wC(n,e).pipe(vs(void 0),I(),(0,C.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),a}))}function bN(n,e,t){return G1(n,t).pipe(L((r,i)=>function kk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Pk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DC(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DC(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DC(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),ne(),(0,C.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function DC(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function wN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=G1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,C.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(vs(void 0),I(),Ke(([r,i])=>i.length>0||!r),(0,C.U)(([r,i])=>i),Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe(L((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wN(e);return bN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return wC(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Tn.iC)}add(e){return this.ref.add(e)}doc(e){return new EN(this.ref.doc(e),this.afs)}}class EN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=CN(r,t);return new DN(i,a,this.afs)}snapshotChanges(){return function Rk(n,e){return vN(n,e).pipe(vs(void 0),I(),(0,C.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,C.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(Tn.iC)}}class Fk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?G1(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ke(t=>t.length>0),Tn.iC):G1(this.query,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe(L((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wN(e);return bN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return wC(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Tn.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Tn.iC)}}const IN=new l.OlP("angularfire2.enableFirestorePersistence"),TN=new l.OlP("angularfire2.firestore.persistenceSettings"),Lk=new l.OlP("angularfire2.firestore.settings"),Vk=new l.OlP("angularfire2.firestore.use-emulator");function CN(n,e=(t=>t)){return{query:e(n),ref:n}}let SN=(()=>{class n{constructor(t,r,i,a,c,p,_,w,T,N,k,B,Q,ae,ye,ot,at){this.schedulers=_;const gt=(0,Kn.on)(t,p,r),rt=T;N&&_N(gt,p,k,Q,ae,ye,B,ot),[this.firestore,this.persistenceEnabled$]=(0,Kn.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const Xe=p.runOutsideAngular(()=>gt.firestore());if(a&&Xe.settings(a),rt&&Xe.useEmulator(...rt),i&&!wu(c)){const ht=()=>{try{return(0,In.D)(Xe.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Yt){return typeof console<"u"&&console.warn(Yt),wt(!1)}};return[Xe,p.runOutsideAngular(ht)]}return[Xe,wt(!1)]},[a,rt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=CN(i,r),p=this.schedulers.ngZone.run(()=>a);return new DN(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new Fk(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new EN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Kn.Dh),l.LFG(Kn.xv,8),l.LFG(IN,8),l.LFG(Lk,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Tn.HU),l.LFG(TN,8),l.LFG(Vk,8),l.LFG(yN,8),l.LFG(dN,8),l.LFG(hN,8),l.LFG(fN,8),l.LFG(pN,8),l.LFG(gN,8),l.LFG(mN,8),l.LFG(vC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bk=(()=>{class n{constructor(){Mk.Z.registerVersion("angularfire",Tn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:IN,useValue:!0},{provide:TN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[SN]}),n})();class Mi extends Ne.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Uk}=Array,{getPrototypeOf:jk,prototype:$k,keys:Gk}=Object;const{isArray:zk}=Array;function EC(n){return(0,C.U)(e=>function Wk(n,e){return zk(e)?n(...e):n(e)}(n,e))}var qk=P(9672);function H1(...n){const e=(0,Pr.yG)(n),t=(0,Pr.jO)(n),{args:r,keys:i}=function AN(n){if(1===n.length){const e=n[0];if(Uk(e))return{args:e,keys:null};if(function Hk(n){return n&&"object"==typeof n&&jk(n)===$k}(e)){const t=Gk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,In.D)([],e);const a=new kr.y(function Zk(n,e,t=Z.y){return r=>{MN(e,()=>{const{length:i}=n,a=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)MN(e,()=>{const w=(0,In.D)(n[_],e);let T=!1;w.subscribe((0,Cn.x)(r,N=>{a[_]=N,T||(T=!0,p--),p||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function NN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):Z.y));return t?a.pipe(EC(t)):a}function MN(n,e,t){n?(0,qk.f)(t,n,e):e()}function ON(n){return new kr.y(e=>{(0,St.Xf)(n()).subscribe(e)})}var Yk=P(9635);function hb(n,e){const t=(0,$l.m)(n)?n:()=>n,r=i=>i.error(t());return new kr.y(e?i=>e.schedule(r,0,i):r)}var xN=P(727);function IC(){return(0,Hn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class RN extends kr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xN.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xN.w0.EMPTY)}return e}refCount(){return IC()(this)}}var qi=P(5577);function rg(n,e){return(0,$l.m)(e)?(0,qi.z)(n,e,1):(0,qi.z)(n,1)}var Oi=P(8505);function sf(n){return(0,Hn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,c=>{a=(0,St.Xf)(n(c,sf(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function TC(n){return n<=0?()=>jl.E:(0,Hn.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ke((i,a)=>n(i,a,r)):Z.y,TC(1),t?P1(e):UA(()=>new k1))}function CC(n){return(0,Hn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Jt="primary",fb=Symbol("RouteTitle");class Qk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function U_(n){return new Qk(n)}function Jk(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],p=n[a];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!FN(n[i],e[i]))return!1;return!0}function FN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function LN(n){return Array.prototype.concat.apply([],n)}function VN(n){return n.length>0?n[n.length-1]:null}function Zi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function af(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,In.D)(Promise.resolve(n)):wt(n)}const z1=!1,eP={exact:function jN(n,e,t){if(!sg(n.segments,e.segments)||!W1(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!jN(n.children[r],e.children[r],t))return!1;return!0},subset:$N},BN={exact:function tP(n,e){return Gl(n,e)},subset:function nP(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FN(n[t],e[t]))},ignored:()=>!0};function UN(n,e,t){return eP[t.paths](n.root,e.root,t.matrixParams)&&BN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $N(n,e,t){return GN(n,e,e.segments,t)}function GN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!sg(i,t)||e.hasChildren()||!W1(i,t,r))}if(n.segments.length===t.length){if(!sg(n.segments,t)||!W1(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$N(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(sg(n.segments,i)&&W1(n.segments,i,r)&&n.children[Jt])&&GN(n.children[Jt],e,a,r)}}function W1(n,e,t){return e.every((r,i)=>BN[t](n[i].parameters,r.parameters))}class ig{constructor(e=new cn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=U_(this.queryParams)),this._queryParamMap}toString(){return sP.serialize(this)}}class cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return q1(this)}}class pb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=U_(this.parameters)),this._parameterMap}toString(){return WN(this)}}function sg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new SC},providedIn:"root"}),n})();class SC{parse(e){const t=new pP(e);return new ig(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mb(e.root,!0)}`,r=function uP(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Z1(t)}=${Z1(i)}`).join("&"):`${Z1(t)}=${Z1(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function oP(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const sP=new SC;function q1(n){return n.segments.map(e=>WN(e)).join("/")}function mb(n,e){if(!n.hasChildren())return q1(n);if(e){const t=n.children[Jt]?mb(n.children[Jt],!1):"",r=[];return Zi(n.children,(i,a)=>{a!==Jt&&r.push(`${a}:${mb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function iP(n,e){let t=[];return Zi(n.children,(r,i)=>{i===Jt&&(t=t.concat(e(r,i)))}),Zi(n.children,(r,i)=>{i!==Jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jt?[mb(n.children[Jt],!1)]:[`${i}:${mb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jt]?`${q1(n)}/${t[0]}`:`${q1(n)}/(${t.join("//")})`}}function HN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Z1(n){return HN(n).replace(/%3B/gi,";")}function AC(n){return HN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Y1(n){return decodeURIComponent(n)}function zN(n){return Y1(n.replace(/\+/g,"%20"))}function WN(n){return`${AC(n.path)}${function aP(n){return Object.keys(n).map(e=>`;${AC(e)}=${AC(n[e])}`).join("")}(n.parameters)}`}const lP=/^[^\/()?;=#]+/;function K1(n){const e=n.match(lP);return e?e[0]:""}const cP=/^[^=?&#]+/,hP=/^[^&#]+/;class pP{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jt]=new cn(e,t)),r}parseSegment(){const e=K1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,z1);return this.capture(e),new pb(Y1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=K1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=K1(this.remaining);i&&(r=i,this.capture(r))}e[Y1(t)]=Y1(r)}parseQueryParam(e){const t=function dP(n){const e=n.match(cP);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function fP(n){const e=n.match(hP);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=zN(t),a=zN(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=K1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,z1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Jt]:new cn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,z1)}}function NC(n){return n.segments.length>0?new cn([],{[Jt]:n}):n}function Q1(n){const e={};for(const r of Object.keys(n.children)){const a=Q1(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function gP(n){if(1===n.numberOfChildren&&n.children[Jt]){const e=n.children[Jt];return new cn(n.segments.concat(e.segments),e.children)}return n}(new cn(n.segments,e))}function og(n){return n instanceof ig}function yP(n,e,t,r,i){if(0===t.length)return j_(e.root,e.root,e.root,r,i);const a=function YN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ZN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Zi(a.outlets,(_,w)=>{p[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new ZN(t,e,r)}(t);return a.toRoot()?j_(e.root,e.root,new cn([],{}),r,i):function c(_){const w=function bP(n,e,t,r){if(n.isAbsolute)return new $_(e.root,!0,0);if(-1===r)return new $_(t,t===e.root,0);return function KN(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new $_(r,!1,i-a)}(t,r+(_b(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),T=w.processChildren?G_(w.segmentGroup,w.index,a.commands):OC(w.segmentGroup,w.index,a.commands);return j_(e.root,w.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function _b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yb(n){return"object"==typeof n&&null!=n&&n.outlets}function j_(n,e,t,r,i){let c,a={};r&&Zi(r,(_,w)=>{a[w]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:qN(n,e,t);const p=NC(Q1(c));return new ig(p,a,i)}function qN(n,e,t){const r={};return Zi(n.children,(i,a)=>{r[a]=i===e?t:qN(i,e,t)}),new cn(n.segments,r)}class ZN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&_b(r[0]))throw new l.vHH(4003,!1);const i=r.find(yb);if(i&&i!==VN(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function OC(n,e,t){if(n||(n=new cn([],{})),0===n.segments.length&&n.hasChildren())return G_(n,e,t);const r=function DP(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],p=t[r];if(yb(p))break;const _=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!JN(_,w,c))return a;r+=2}else{if(!JN(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new cn(n.segments.slice(0,r.pathIndex),{});return a.children[Jt]=new cn(n.segments.slice(r.pathIndex),n.children),G_(a,0,i)}return r.match&&0===i.length?new cn(n.segments,{}):r.match&&!n.hasChildren()?xC(n,e,t):r.match?G_(n,0,i):xC(n,e,t)}function G_(n,e,t){if(0===t.length)return new cn(n.segments,{});{const r=function wP(n){return yb(n[0])?n[0].outlets:{[Jt]:n}}(t),i={};return!r[Jt]&&n.children[Jt]&&1===n.numberOfChildren&&0===n.children[Jt].segments.length?G_(n.children[Jt],e,t):(Zi(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=OC(n.children[c],e,a))}),Zi(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new cn(n.segments,i))}}function xC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(yb(a)){const _=EP(a.outlets);return new cn(r,_)}if(0===i&&_b(t[0])){r.push(new pb(n.segments[e].path,QN(t[0]))),i++;continue}const c=yb(a)?a.outlets[Jt]:`${a}`,p=i<t.length-1?t[i+1]:null;c&&p&&_b(p)?(r.push(new pb(c,QN(p))),i+=2):(r.push(new pb(c,{})),i++)}return new cn(r,{})}function EP(n){const e={};return Zi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xC(new cn([],{}),0,t))}),e}function QN(n){const e={};return Zi(n,(t,r)=>e[r]=`${t}`),e}function JN(n,e,t){return n==t.path&&Gl(e,t.parameters)}const vb="imperative";class Hl{constructor(e,t){this.id=e,this.url=t}}class RC extends Hl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ag extends Hl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class J1 extends Hl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class XN extends Hl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class eM extends Hl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IP extends Hl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TP extends Hl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CP extends Hl{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SP extends Hl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AP extends Hl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NP{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MP{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OP{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xP{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RP{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kP{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tM{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let FP=(()=>{class n{createUrlTree(t,r,i,a,c,p){return yP(t||r.root,i,a,c,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return FP.\u0275fac(e)},providedIn:"root"}),n})();class nM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=PC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PC(e,this._root).map(t=>t.value)}}function kC(n,e){if(n===e.value)return e;for(const t of e.children){const r=kC(n,t);if(r)return r}return null}function PC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=PC(n,t);if(r.length)return r.unshift(e),r}return[]}class gd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function H_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rM extends nM{constructor(e,t){super(e),this.snapshot=t,FC(this,e)}toString(){return this.snapshot.toString()}}function iM(n,e){const t=function VP(n,e){const c=new X1([],{},{},"",{},Jt,e,null,n.root,-1,{});return new oM("",new gd(c,[]))}(n,e),r=new Mi([new pb("",{})]),i=new Mi({}),a=new Mi({}),c=new Mi({}),p=new Mi(""),_=new z_(r,i,c,p,a,Jt,e,t.root);return _.snapshot=t.root,new rM(new gd(_,[]),t)}class z_{constructor(e,t,r,i,a,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,C.U)(w=>w[fb]))??wt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,C.U)(e=>U_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,C.U)(e=>U_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sM(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function BP(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class X1{get title(){return this.data?.[fb]}constructor(e,t,r,i,a,c,p,_,w,T,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=T,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=U_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=U_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oM extends nM{constructor(e,t){super(t),this.url=e,FC(this,t)}toString(){return aM(this._root)}}function FC(n,e){e.value._routerState=n,e.children.forEach(t=>FC(n,t))}function aM(n){const e=n.children.length>0?` { ${n.children.map(aM).join(", ")} } `:"";return`${n.value}${e}`}function LC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gl(e.params,t.params)||n.params.next(t.params),function Xk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function VC(n,e){const t=Gl(n.params,e.params)&&function rP(n,e){return sg(n,e)&&n.every((t,r)=>Gl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||VC(n.parent,e.parent))}function bb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function jP(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bb(n,r,i);return bb(n,r)})}(n,e,t);return new gd(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>bb(n,p)),c}}const r=function $P(n){return new z_(new Mi(n.url),new Mi(n.params),new Mi(n.queryParams),new Mi(n.fragment),new Mi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>bb(n,a));return new gd(r,i)}}const BC="ngNavigationCancelingError";function uM(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=og(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lM(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function lM(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[BC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function cM(n){return dM(n)&&og(n.url)}function dM(n){return n&&n[BC]}class GP{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wb,this.attachRef=null}}let wb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new GP,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=!1;let hM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Jt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(wb),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,eE);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,eE);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,eE);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,eE);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new HP(t,p,i.injector);if(r&&function zP(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class HP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===z_?this.route:e===wb?this.childContexts:this.parent.get(e,t)}}let UC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[hM],encapsulation:2}),n})();function fM(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $C(n){const e=n.children&&n.children.map($C),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jt&&(t.component=UC),t}function va(n){return n.outlet||Jt}function pM(n,e){const t=n.filter(r=>va(r)===e);return t.push(...n.filter(r=>va(r)!==e)),t}function Db(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class KP{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),LC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=H_(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Zi(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=H_(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=H_(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=H_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new kP(a.value.snapshot))}),e.children.length&&this.forwardEvent(new xP(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(LC(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),LC(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=Db(i.snapshot),_=p?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class gM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tE{constructor(e,t){this.component=e,this.route=t}}function QP(n,e,t){const r=n._root;return Eb(r,e?e._root:null,t,[r.value])}function W_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Eb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=H_(e);return n.children.forEach(c=>{(function XP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function eF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sg(n.url,e.url)||!Gl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VC(n,e)||!Gl(n.queryParams,e.queryParams);default:return!VC(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new gM(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Eb(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new tE(p.outlet.component,c))}else c&&Ib(e,p,i),i.canActivateChecks.push(new gM(r)),Eb(n,null,a.component?p?p.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Zi(a,(c,p)=>Ib(c,t.getContext(p),i)),i}function Ib(n,e,t){const r=H_(n),i=n.value;Zi(r,(a,c)=>{Ib(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new tE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Tb(n){return"function"==typeof n}function GC(n){return n instanceof k1||"EmptyError"===n?.name}const nE=Symbol("INITIAL_VALUE");function q_(){return Te(n=>H1(n.map(e=>e.pipe(wi(1),vs(nE)))).pipe((0,C.U)(e=>{for(const t of e)if(!0!==t){if(t===nE)return nE;if(!1===t||t instanceof ig)return t}return!0}),Ke(e=>e!==nE),wi(1)))}function mM(n){return(0,Yk.z)((0,Oi.b)(e=>{if(og(e))throw uM(0,e)}),(0,C.U)(e=>!0===e))}const HC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _M(n,e,t,r,i){const a=zC(n,e,t);return a.matched?function _F(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?wt(i.map(c=>{const p=W_(c,n);return af(function oF(n){return n&&Tb(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(q_(),mM()):wt(!0)}(r=fM(e,r),e,t).pipe((0,C.U)(c=>!0===c?a:{...HC})):wt(a)}function zC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...HC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jk)(t,n,e);if(!i)return{...HC};const a={};Zi(i.posParams,(p,_)=>{a[_]=p.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function rE(n,e,t,r){if(t.length>0&&function bF(n,e,t){return t.some(r=>iE(n,e,r)&&va(r)!==Jt)}(n,t,r)){const a=new cn(e,function vF(n,e,t,r){const i={};i[Jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&va(a)!==Jt){const c=new cn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[va(a)]=c}return i}(n,e,r,new cn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function wF(n,e,t){return t.some(r=>iE(n,e,r))}(n,t,r)){const a=new cn(n.segments,function yF(n,e,t,r,i){const a={};for(const c of r)if(iE(n,t,c)&&!i[va(c)]){const p=new cn([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[va(c)]=p}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new cn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function iE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yM(n,e,t,r){return!!(va(n)===r||r!==Jt&&iE(e,t,n))&&("**"===n.path||zC(e,n,t).matched)}function vM(n,e,t){return 0===e.length&&!n.children[t]}const sE=!1;class oE{constructor(e){this.segmentGroup=e||null}}class bM{constructor(e){this.urlTree=e}}function Cb(n){return hb(new oE(n))}function wM(n){return hb(new bM(n))}class TF{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=rE(this.urlTree.root,[],[],this.config).segmentGroup,t=new cn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Jt).pipe((0,C.U)(a=>this.createUrlTree(Q1(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sf(a=>{if(a instanceof bM)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof oE?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Jt).pipe((0,C.U)(i=>this.createUrlTree(Q1(i),e.queryParams,e.fragment))).pipe(sf(i=>{throw i instanceof oE?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,sE)}createUrlTree(e,t,r){const i=NC(e);return new ig(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,C.U)(a=>new cn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,In.D)(i).pipe(rg(a=>{const c=r.children[a],p=pM(t,a);return this.expandSegmentGroup(e,p,c,a).pipe((0,C.U)(_=>({segment:_,outlet:a})))}),L((a,c)=>(a[c.outlet]=c.segment,a),{}),kN())}expandSegment(e,t,r,i,a,c){return(0,In.D)(r).pipe(rg(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,c).pipe(sf(w=>{if(w instanceof oE)return wt(null);throw w}))),pd(p=>!!p),sf((p,_)=>{if(GC(p))return vM(t,i,a)?wt(new cn([],{})):Cb(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,c,p){return yM(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Cb(t):Cb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wM(a):this.lineralizeSegments(r,a).pipe((0,qi.z)(c=>{const p=new cn(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:p,consumedSegments:_,remainingSegments:w,positionalParamSegments:T}=zC(t,i,a);if(!p)return Cb(t);const N=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?wM(N):this.lineralizeSegments(i,N).pipe((0,qi.z)(k=>this.expandSegment(e,t,r,k.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=fM(r,e),r.loadChildren?(r._loadedRoutes?wt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,C.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new cn(i,{})))):wt(new cn(i,{}))):_M(t,r,i,e).pipe(Te(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,qi.z)(T=>{const N=T.injector??e,k=T.routes,{segmentGroup:B,slicedSegments:Q}=rE(t,p,_,k),ae=new cn(B.segments,B.children);if(0===Q.length&&ae.hasChildren())return this.expandChildren(N,k,ae).pipe((0,C.U)(gt=>new cn(p,gt)));if(0===k.length&&0===Q.length)return wt(new cn(p,{}));const ye=va(r)===a;return this.expandSegment(N,ae,k,Q,ye?Jt:a,!0).pipe((0,C.U)(at=>new cn(p.concat(at.segments),at.children)))})):Cb(t)))}getChildConfig(e,t,r){return t.children?wt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function mF(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?wt(!0):wt(i.map(c=>{const p=W_(c,n);return af(function nF(n){return n&&Tb(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(q_(),mM())}(e,t,r).pipe((0,qi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Oi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function EF(n){return hb(lM(sE,3))}())):wt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wt(r);if(i.numberOfChildren>1||!i.children[Jt])return hb(new l.vHH(4e3,sE));i=i.children[Jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ig(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Zi(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Zi(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new cn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,sE);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class SF{}class MF{constructor(e,t,r,i,a,c,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=p}recognize(){const e=rE(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Jt).pipe((0,C.U)(t=>{if(null===t)return null;const r=new X1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gd(r,t),a=new oM(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=sM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,In.D)(Object.keys(r.children)).pipe(rg(i=>{const a=r.children[i],c=pM(t,i);return this.processSegmentGroup(e,c,a,i)}),L((i,a)=>i&&a?(i.push(...a),i):null),function Kk(n,e=!1){return(0,Hn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),P1(null),kN(),(0,C.U)(i=>{if(null===i)return null;const a=EM(i);return function OF(n){n.sort((e,t)=>e.value.outlet===Jt?-1:t.value.outlet===Jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,In.D)(t).pipe(rg(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),pd(c=>!!c),sf(c=>{if(GC(c))return vM(r,i,a)?wt([]):wt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!yM(t,r,i,a))return wt(null);let c;if("**"===t.path){const p=i.length>0?VN(i).parameters:{},_=TM(r)+i.length;c=wt({snapshot:new X1(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CM(t),va(t),t.component??t._loadedComponent??null,t,IM(r),_,SM(t)),consumedSegments:[],remainingSegments:[]})}else c=_M(r,t,i,e).pipe((0,C.U)(({matched:p,consumedSegments:_,remainingSegments:w,parameters:T})=>{if(!p)return null;const N=TM(r)+_.length;return{snapshot:new X1(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CM(t),va(t),t.component??t._loadedComponent??null,t,IM(r),N,SM(t)),consumedSegments:_,remainingSegments:w}}));return c.pipe(Te(p=>{if(null===p)return wt(null);const{snapshot:_,consumedSegments:w,remainingSegments:T}=p;e=t._injector??e;const N=t._loadedInjector??e,k=function xF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:Q}=rE(r,w,T,k.filter(ye=>void 0===ye.redirectTo));if(0===Q.length&&B.hasChildren())return this.processChildren(N,k,B).pipe((0,C.U)(ye=>null===ye?null:[new gd(_,ye)]));if(0===k.length&&0===Q.length)return wt([new gd(_,[])]);const ae=va(t)===a;return this.processSegment(N,k,B,Q,ae?Jt:a).pipe((0,C.U)(ye=>null===ye?null:[new gd(_,ye)]))}))}}function RF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EM(n){const e=[],t=new Set;for(const r of n){if(!RF(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=EM(r.children);e.push(new gd(r.value,i))}return e.filter(r=>!t.has(r))}function IM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TM(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function CM(n){return n.data||{}}function SM(n){return n.resolve||{}}function FF(n,e){return(0,qi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wt(t);let a=0;return(0,In.D)(i).pipe(rg(c=>function LF(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!AM(i)&&(a[fb]=i.title),function VF(n,e,t,r){const i=function BF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return wt({});const a={};return(0,In.D)(i).pipe((0,qi.z)(c=>function UF(n,e,t,r){const i=Db(e)??r,a=W_(n,i);return af(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(pd(),(0,Oi.b)(p=>{a[c]=p}))),TC(1),function PN(n){return(0,C.U)(()=>n)}(a),sf(c=>GC(c)?jl.E:hb(c)))}(a,n,e,r).pipe((0,C.U)(c=>(n._resolvedData=c,n.data=sM(n,t).resolve,i&&AM(i)&&(n.data[fb]=i.title),null)))}(c.route,r,n,e)),(0,Oi.b)(()=>a++),TC(1),(0,qi.z)(c=>a===i.length?wt(t):jl.E))})}function AM(n){return"string"==typeof n.title||null===n.title}function WC(n){return Te(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,C.U)(()=>e)):wt(e)})}const Z_=new l.OlP("ROUTES");let qC=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=af(t.loadComponent()).pipe((0,C.U)(MM),(0,Oi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),CC(()=>{this.componentLoaders.delete(t)})),i=new RN(r,()=>new Ne.x).pipe(IC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,C.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,T=!1;Array.isArray(p)?w=p:(_=p.create(t).injector,w=LN(_.get(Z_,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map($C),injector:_}}),CC(()=>{this.childrenLoaders.delete(r)})),c=new RN(a,()=>new Ne.x).pipe(IC());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return af(t()).pipe((0,C.U)(MM),(0,qi.z)(i=>i instanceof l.YKP||Array.isArray(i)?wt(i):(0,In.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MM(n){return function $F(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let uE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ne.x,this.configLoader=(0,l.f3M)(qC),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(gb),this.rootContexts=(0,l.f3M)(wb),this.navigationId=0,this.afterPreactivation=()=>wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new MP(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new NP(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Mi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vb,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(r=>0!==r.id),(0,C.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Te(r=>{let i=!1,a=!1;return wt(r).pipe((0,Oi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Te(c=>{const p=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new XN(c.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),jl.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return OM(c.source)&&(t.browserUrlTree=c.extractedUrl),wt(c).pipe(Te(T=>{const N=this.transitions?.getValue();return this.events.next(new RC(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),N!==this.transitions?.getValue()?jl.E:Promise.resolve(T)}),function CF(n,e,t,r){return Te(i=>function IF(n,e,t,r,i){return new TF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,C.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Oi.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function PF(n,e,t,r,i){return(0,qi.z)(a=>function NF(n,e,t,r,i,a,c="emptyOnly"){return new MF(n,e,t,r,i,c,a).recognize().pipe(Te(p=>null===p?function AF(n){return new kr.y(e=>e.error(n))}(new SF):wt(p)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,C.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Oi.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(k,T)}t.browserUrlTree=T.urlAfterRedirects}const N=new IP(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:N,source:k,restoredState:B,extras:Q}=c,ae=new RC(T,this.urlSerializer.serialize(N),k,B);this.events.next(ae);const ye=iM(N,this.rootComponentType).snapshot;return wt(r={...c,targetSnapshot:ye,urlAfterRedirects:N,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new XN(c.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),jl.E}}),(0,Oi.b)(c=>{const p=new TP(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),(0,C.U)(c=>r={...c,guards:QP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function uF(n,e){return(0,qi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?wt({...t,guardsResult:!0}):function lF(n,e,t,r){return(0,In.D)(n).pipe((0,qi.z)(i=>function gF(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?wt(a.map(p=>{const _=Db(e)??i,w=W_(p,_);return af(function sF(n){return n&&Tb(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(pd())})).pipe(q_()):wt(!0)}(i.component,i.route,t,e,r)),pd(i=>!0!==i,!0))}(c,r,i,n).pipe((0,qi.z)(p=>p&&function tF(n){return"boolean"==typeof n}(p)?function cF(n,e,t,r){return(0,In.D)(e).pipe(rg(i=>ys(function hF(n,e){return null!==n&&e&&e(new OP(n)),wt(!0)}(i.route.parent,r),function dF(n,e){return null!==n&&e&&e(new RP(n)),wt(!0)}(i.route,r),function pF(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function JP(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ON(()=>wt(c.guards.map(_=>{const w=Db(c.node)??t,T=W_(_,w);return af(function iF(n){return n&&Tb(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(pd())})).pipe(q_())));return wt(a).pipe(q_())}(n,i.path,t),function fF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wt(!0);const i=r.map(a=>ON(()=>{const c=Db(e)??t,p=W_(a,c);return af(function rF(n){return n&&Tb(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(pd())}));return wt(i).pipe(q_())}(n,i.route,t))),pd(i=>!0!==i,!0))}(r,a,n,e):wt(p)),(0,C.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Oi.b)(c=>{if(r.guardsResult=c.guardsResult,og(c.guardsResult))throw uM(0,c.guardsResult);const p=new CP(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),Ke(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),WC(c=>{if(c.guards.canActivateChecks.length)return wt(c).pipe((0,Oi.b)(p=>{const _=new SP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),Te(p=>{let _=!1;return wt(p).pipe(FF(t.paramsInheritanceStrategy,this.environmentInjector),(0,Oi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Oi.b)(p=>{const _=new AP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),WC(c=>{const p=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Oi.b)(T=>{_.component=T}),(0,C.U)(()=>{})));for(const T of _.children)w.push(...p(T));return w};return H1(p(c.targetSnapshot.root)).pipe(P1(),wi(1))}),WC(()=>this.afterPreactivation()),(0,C.U)(c=>{const p=function UP(n,e,t){const r=bb(n,e._root,t?t._root:void 0);return new rM(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:p}}),(0,Oi.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,C.U)(r=>(new KP(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,Oi.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ag(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),CC(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),sf(c=>{if(a=!0,dM(c)){cM(c)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new J1(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(p),cM(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||OM(r.source)};t.scheduleNavigation(_,vb,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new eM(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return jl.E}))}))}cancelNavigationTransition(t,r,i){const a=new J1(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OM(n){return n!==vb}let xM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Jt);return r}getResolvedTitleForRoute(t){return t.data[fb]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(GF)},providedIn:"root"}),n})(),GF=(()=>{class n extends xM{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(WF)},providedIn:"root"}),n})();class zF{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let WF=(()=>{class n extends zF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lE=new l.OlP("",{providedIn:"root",factory:()=>({})});let ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(YF)},providedIn:"root"}),n})(),YF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KF(n){throw n}function QF(n,e,t){return e.parse("/")}const JF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(lE,{optional:!0})||{},this.errorHandler=this.options.errorHandler||KF,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QF,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(ZF),this.routeReuseStrategy=(0,l.f3M)(HF),this.urlCreationStrategy=(0,l.f3M)(LP),this.titleStrategy=(0,l.f3M)(xM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=LN((0,l.f3M)(Z_,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(uE),this.urlSerializer=(0,l.f3M)(gb),this.location=(0,l.f3M)(je),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ig,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vb,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map($C),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,w=_?this.currentUrlTree.fragment:c;let T=null;switch(p){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=og(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,vb,null,r)}navigate(t,r={skipLocationChange:!1}){return function eL(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...JF}:!1===r?{...XF}:r,og(t))return UN(this.currentUrlTree,t,i);const a=this.parseUrl(t);return UN(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let p,_,w,T;return c?(p=c.resolve,_=c.reject,w=c.promise):w=new Promise((N,k)=>{p=N,_=k}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kM{}let rL=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(t=>t instanceof ag),rg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,In.D)(i).pipe((0,Qu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):wt(null);const a=i.pipe((0,qi.z)(c=>null===c?wt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,In.D)([a,c]).pipe((0,Qu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(kM),l.LFG(qC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YC=new l.OlP("");let PM=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ag&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ug(n,e){return{\u0275kind:n,\u0275providers:e}}function LM(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Fo),i=n.get(VM);1===n.get(QC)&&r.initialNavigation(),n.get(BM,null,l.XFs.Optional)?.setUpPreloading(),n.get(YC,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const VM=new l.OlP("",{factory:()=>new Ne.x}),QC=new l.OlP("",{providedIn:"root",factory:()=>1});const BM=new l.OlP("");function uL(n){return ug(0,[{provide:BM,useExisting:rL},{provide:kM,useExisting:n}])}const UM=new l.OlP("ROUTER_FORROOT_GUARD"),lL=[je,{provide:gb,useClass:SC},Fo,wb,{provide:z_,useFactory:function FM(n){return n.routerState.root},deps:[Fo]},qC,[]];function cL(){return new l.PXZ("Router",Fo)}let jM=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lL,[],{provide:Z_,multi:!0,useValue:t},{provide:UM,useFactory:pL,deps:[[Fo,new l.FiY,new l.tp0]]},{provide:lE,useValue:r||{}},r?.useHash?{provide:yt,useClass:xe}:{provide:yt,useClass:Re},{provide:YC,useFactory:()=>{const n=(0,l.f3M)(Wo),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(lE),r=(0,l.f3M)(uE),i=(0,l.f3M)(gb);return t.scrollOffset&&n.setOffset(t.scrollOffset),new PM(i,r,n,e,t)}},r?.preloadingStrategy?uL(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:cL},r?.initialNavigation?gL(r):[],[{provide:$M,useFactory:LM},{provide:l.tb,multi:!0,useExisting:$M}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Z_,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UM,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UC]}),n})();function pL(n){return"guarded"}function gL(n){return["disabled"===n.initialNavigation?ug(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Fo);return()=>{e.setUpLocationChangeListener()}}},{provide:QC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ug(2,[{provide:QC,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Fo),c=e.get(VM);(function r(i){e.get(Fo).events.pipe(Ke(c=>c instanceof ag||c instanceof J1||c instanceof eM),(0,C.U)(c=>c instanceof ag||c instanceof J1&&(0===c.code||1===c.code)&&null),Ke(c=>null!==c),wi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(uE).afterPreactivation=()=>(i(!0),c.closed?wt(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const $M=new l.OlP("");class K_{}K_.\u0275fac=function(e){return new(e||K_)},K_.\u0275mod=l.oAB({type:K_}),K_.\u0275inj=l.cJS({imports:[jM.forRoot([]),jM]});class Q_{constructor(e){this.firestore=e,this.firestoreCollection=e.collection("todo")}addTodo(e){this.firestoreCollection.add({data:e,isDone:!1})}deleteItem(e){this.firestoreCollection.doc(e).delete()}}Q_.\u0275fac=function(e){return new(e||Q_)(l.LFG(SN))},Q_.\u0275prov=l.Yz7({token:Q_,factory:Q_.\u0275fac,providedIn:"root"});var yL=P(1144);const vL=["addListener","removeListener"],bL=["addEventListener","removeEventListener"],wL=["on","off"];function Yi(n,e,t,r){if((0,$l.m)(t)&&(r=t,t=void 0),r)return Yi(n,e,t).pipe(EC(r));const[i,a]=function IL(n){return(0,$l.m)(n.addEventListener)&&(0,$l.m)(n.removeEventListener)}(n)?bL.map(c=>p=>n[c](e,p,t)):function DL(n){return(0,$l.m)(n.addListener)&&(0,$l.m)(n.removeListener)}(n)?vL.map(GM(n,e)):function EL(n){return(0,$l.m)(n.on)&&(0,$l.m)(n.off)}(n)?wL.map(GM(n,e)):[];if(!i&&(0,yL.z)(n))return(0,qi.z)(c=>Yi(c,e,t))((0,St.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new kr.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return i(p),()=>a(p)})}function GM(n,e){return t=>r=>n[t](e,r)}var TL=P(3532);function JC(n=0,e,t=yo.P){let r=-1;return null!=e&&((0,TL.K)(e)?t=e:r=e),new kr.y(i=>{let a=function CL(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:SL}=Array;function HM(n){return 1===n.length&&SL(n[0])?n[0]:n}var cE=P(5032);const WM=new kr.y(cE.Z);function dE(...n){const e=(0,Pr.jO)(n),t=HM(n);return t.length?new kr.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let c=0;!r.closed&&c<t.length;c++)(0,St.Xf)(t[c]).subscribe((0,Cn.x)(r,p=>{if(i[c].push(p),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,T)=>!w.length&&a[T])&&r.complete()}},()=>{a[c]=!0,!i[c].length&&r.complete()}));return()=>{i=a=null}}):jl.E}function Ur(n){return(0,Hn.e)((e,t)=>{(0,St.Xf)(n).subscribe((0,Cn.x)(t,()=>t.complete(),cE.Z)),!t.closed&&e.subscribe(t)})}function XC(...n){const e=(0,Pr.jO)(n);return(0,Hn.e)((t,r)=>{const i=n.length,a=new Array(i);let c=n.map(()=>!1),p=!1;for(let _=0;_<i;_++)(0,St.Xf)(n[_]).subscribe((0,Cn.x)(r,w=>{a[_]=w,!p&&!c[_]&&(c[_]=!0,(p=c.every(Z.y))&&(c=null))},cE.Z));t.subscribe((0,Cn.x)(r,_=>{if(p){const w=[_,...a];r.next(e?e(...w):w)}}))})}const Xs=new l.OlP("NgValueAccessor");function BV(n,e){}function UV(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,BV,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function jV(n,e){}function $V(n,e){}function GV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.KtG(a.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,$V,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const HV=function(n,e){return{$implicit:n,opened:e}};function zV(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,jV,0,0,"ng-template",6),l.qZA(),l.YNc(3,GV,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,HV,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function WV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const CE=["*"];function qV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(a.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function ZV(n,e){}function YV(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,ZV,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function KV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function QV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const JV=["ngbDatepickerDayView",""],XV=["month"],eB=["year"];function tB(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function nB(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function rB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function iB(n,e){1&n&&l._UZ(0,"div",0)}function sB(n,e){1&n&&l._UZ(0,"div",0)}function oB(n,e){if(1&n&&(l.YNc(0,iB,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,sB,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function aB(n,e){if(1&n&&l.YNc(0,oB,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function uB(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function lB(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function cB(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,uB,2,1,"div",3),l.YNc(2,lB,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function dB(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function hB(n,e){}function fB(n,e){if(1&n&&l.YNc(0,hB,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function pB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,fB,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function gB(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,dB,2,1,"div",9),l.YNc(2,pB,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function mB(n,e){1&n&&l.YNc(0,gB,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const _B=["defaultDayTemplate"],yB=["content"];function vB(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,a=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",a)("focused",c)}}function bB(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function wB(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,bB,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function DB(n,e){if(1&n&&l.YNc(0,wB,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function EB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateEvent(i))})("select",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function IB(n,e){}function TB(n,e){}const CB=["dialog"],SB=["ngbNavOutlet",""];function AB(n,e){}const NB=function(n){return{$implicit:n}};function MB(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,AB,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,NB,t.active||r.isPanelTransitioning(t)))}}function OB(n,e){if(1&n&&l.YNc(0,MB,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function xB(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function RB(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function kB(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function PB(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function FB(n,e){1&n&&l._uU(0,"...")}function LB(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function VB(n,e){if(1&n&&(l._uU(0),l.YNc(1,LB,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function BB(n,e){}const UB=function(n){return{disabled:!0,currentPage:n}};function jB(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,BB,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,UB,t))}}function $B(n,e){}const GB=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function HB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw().$implicit;return l.oxw(2).selectPage(a),l.KtG(i.preventDefault())}),l.YNc(1,$B,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,a=r.$implicit,c=l.oxw(),p=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||p)("ngTemplateOutletContext",l.kEZ(4,GB,i,t,a))}}function zB(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,jB,2,4,"a",18),l.YNc(2,HB,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,a=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||a),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function WB(n,e){1&n&&l.YNc(0,zB,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function qB(n,e){}const OS=function(n,e){return{disabled:n,currentPage:e}};function ZB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,qB,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,OS,t.previousDisabled(),t.page))}}function YB(n,e){}const KB=function(n){return{disabled:n}};function QB(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page-1),l.KtG(i.preventDefault())}),l.YNc(2,YB,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,KB,t.previousDisabled()))}}function JB(n,e){}function XB(n,e){}function eU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.page+1),l.KtG(i.preventDefault())}),l.YNc(2,XB,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,OS,t.nextDisabled(),t.page))}}function tU(n,e){}function nU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const a=l.oxw();return a.selectPage(a.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,tU,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,OS,t.nextDisabled(),t.page))}}const rU=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function oU(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function aU(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function uU(n,e){}function lU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(a+1))})("click",function(){const a=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(a+1))}),l.YNc(3,uU,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function cU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function dU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function hU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function fU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function pU(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function gU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function mU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function _U(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,gU,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const a=l.oxw();return l.KtG(a.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(a.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const a=l.oxw();return a.changeSecond(-a.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,mU,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function yU(n,e){1&n&&l._UZ(0,"div",5)}function vU(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function bU(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function wU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,vU,2,1,"ng-container",25),l.YNc(3,bU,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function DU(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function EU(n,e){}function IU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,EU,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function TU(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function CU(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function SU(n,e){if(1&n&&(l.YNc(0,TU,2,3,"span",1),l.YNc(1,CU,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function Qi(n){return parseInt(`${n}`,10)}function px(n){return null!=n?`${n}`:""}function SE(n,e,t=0){return Math.max(Math.min(n,e),t)}function Vb(n){return"string"==typeof n}function jr(n){return!isNaN(Qi(n))}function Mr(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function fg(n){return null!=n}function ry(n){return jr(n)?`0${n}`.slice(-2):""}function mx(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function iy(n){return(n||document.body).getBoundingClientRect()}function _x(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const yx={animation:!0,transitionTimerDelayMs:5},kU=()=>{},{transitionTimerDelayMs:PU}=yx,Bb=new Map,xi=(n,e,t,r)=>{let i=r.context||{};const a=Bb.get(e);if(a)switch(r.runningTransition){case"continue":return jl.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Bb.delete(e)}const c=t(e,r.animation,i)||kU;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),wt(void 0).pipe(function xU(n){return e=>new kr.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const p=new Ne.x,_=new Ne.x,w=p.pipe(function NL(...n){return e=>ys(e,wt(...n))}(!0));Bb.set(e,{transition$:p,complete:()=>{_.next(),_.complete()},context:i});const T=function RU(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const N=Yi(e,"transitionend").pipe(Ur(w),Ke(({target:B})=>B===e));(function zM(...n){return 1===(n=HM(n)).length?(0,St.Xf)(n[0]):new kr.y(function AL(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,St.Xf)(n[r]).subscribe((0,Cn.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(JC(T+PU).pipe(Ur(w)),N,_).pipe(Ur(w)).subscribe(()=>{Bb.delete(e),n.run(()=>{c(),p.next(),p.complete()})})}),p.asObservable()},vx=(n,e,t)=>{let{direction:r,maxSize:i,dimension:a}=t;const{classList:c}=n;function p(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function LU(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,a),t.maxSize=i,n.style[a]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),iy(n),c.add("collapsing")),n.style[a]="show"===r?i:"0px",()=>{p(),c.remove("collapsing"),n.style[a]=""};p()};let sy=(()=>{class n{constructor(){this.animation=yx.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VU=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=0,xS=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),bx=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),wx=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),RS=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+BU++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,bx,4),l.Suo(i,xS,4),l.Suo(i,wx,4)),2&t){let a;l.iGM(a=l.CRH())&&(r.titleTpls=a),l.iGM(a=l.CRH())&&(r.headerTpls=a),l.iGM(a=l.CRH())&&(r.contentTpls=a)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),UU=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),Dx=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>kS)),l.Y36(RS,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),kS=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Vb(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,xi(this._ngZone,r,vx,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&xi(this._ngZone,r.panelDiv,vx,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:a}=r;r.isOpen?(r.shown.emit(),this.shown.emit(a)):(r.hidden.emit(),this.hidden.emit(a))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(VU),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,RS,4),2&t){let a;l.iGM(a=l.CRH())&&(r.panels=a)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,UV,3,3,"ng-template",0,1,l.W1O),l.YNc(2,zV,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[Zn,dr,Dx,UU,xS,cr],encapsulation:2}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kS]}),n})();const jU=({classList:n})=>{n.remove("show")};let $U=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GU=(()=>{class n{constructor(t,r,i,a){this._renderer=r,this._element=i,this._zone=a,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=xi(this._zone,this._element.nativeElement,jU,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($U),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:CE,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,WV,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[cr],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GU]}),n})();var hf=(()=>(function(n){n.START="start",n.END="end"}(hf||(hf={})),hf))();const Tx=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Ub=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},AE=n=>{Ub(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},HU=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Tx(n)?Ub(r):(r.add("carousel-item-"+(t===hf.START?"next":"prev")),iy(n),r.add("carousel-item-"+t)),()=>{AE(r),r.add("active")}):(Ub(r),AE(r),void r.add("active"))},zU=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Tx(n)?Ub(r):r.add("carousel-item-"+t),()=>{AE(r),r.remove("active")}):(Ub(r),AE(r),void r.remove("active"))};let WU=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qU=0,ZU=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+qU++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),YU=(()=>{class n{constructor(t,r,i,a,c){this._platformId=r,this._ngZone=i,this._cd=a,this._container=c,this.NgbSlideEventSource=pg,this._destroy$=new Ne.x,this._interval$=new Mi(0),this._mouseHover$=new Mi(!1),this._focused$=new Mi(!1),this._pauseOnHover$=new Mi(!1),this._pauseOnFocus$=new Mi(!1),this._pause$=new Mi(!1),this._wrap$=new Mi(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(pg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(pg.ARROW_RIGHT)}ngAfterContentInit(){(function Ed(n){return n===tc})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=H1([this.slide.pipe((0,C.U)(r=>r.current),vs(this.activeId)),this._wrap$,this.slides.changes.pipe(vs(null))]).pipe((0,C.U)(([r,i])=>{const a=this.slides.toArray(),c=this._getSlideIdxById(r);return i?a.length>1:c<a.length-1}),ne());H1([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,C.U)(([r,i,a,c,p,_,w])=>r||i&&a||c&&p||!w?0:_),ne(),Te(r=>r>0?JC(r,r):WM),Ur(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(pg.TIMER)))}),this.slides.changes.pipe(Ur(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Bb.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),hf.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),hf.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const a=this._transitionIds;if(a&&(a[0]!==t||a[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const p={animation:this.animation,runningTransition:"stop",context:{direction:r}},_=[],w=this._getSlideById(this.activeId);if(w){const B=xi(this._ngZone,this._getSlideElement(w.id),zU,p);B.subscribe(()=>{w.slid.emit({isShown:!1,direction:r,source:i})}),_.push(B)}const T=this.activeId;this.activeId=c.id;const N=this._getSlideById(this.activeId),k=xi(this._ngZone,this._getSlideElement(c.id),HU,p);k.subscribe(()=>{N?.slid.emit({isShown:!0,direction:r,source:i})}),_.push(k),dE(..._).pipe(wi(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:T,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?hf.END:hf.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WU),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,ZU,4),2&t){let a;l.iGM(a=l.CRH())&&(r.slides=a)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,qV,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,YV,4,4,"div",3),l.qZA(),l.YNc(4,KV,4,0,"button",4),l.YNc(5,QV,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[Zn,dr,cr],encapsulation:2,changeDetection:0}),n})();var pg=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(pg||(pg={})),pg))();let Cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[YU]}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Di{constructor(e,t,r){this.year=Mr(e)?e:null,this.month=Mr(t)?t:null,this.day=Mr(r)?r:null}static from(e){return e instanceof Di?e:e?new Di(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function oy(n,e){return!function KU(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function Ax(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function NE(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function PS(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:a}=e;return!(null==n||i||a&&a(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function Nx(n){return new Di(n.getFullYear(),n.getMonth()+1,n.getDate())}function ME(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let OE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function sj(){return new oj}()},providedIn:"root"}),n})(),oj=(()=>{class n extends OE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let a=ME(t),c=!0,p=a.getMonth();switch(r){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":p+=i,a.setMonth(p),p%=12,p<0&&(p+=12);break;case"d":a.setDate(a.getDate()+i),c=!1;break;default:return t}return c&&a.getMonth()!==p&&a.setDate(0),Nx(a)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=ME(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=ME(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const p=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((p-c.getTime())/864e5)/7)+1}getToday(){return Nx(new Date)}isValid(t){if(!(t&&Mr(t.year)&&Mr(t.month)&&Mr(t.day)&&0!==t.year))return!1;const r=ME(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gg=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function aj(n){return new uj(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),uj=(()=>{class n extends gg{constructor(t){super(),this._locale=t,this._monthsShort=Ue(t,Ge.Standalone,Ye.Abbreviated),this._monthsFull=Ue(t,Ge.Standalone,Ye.Wide)}getWeekdayLabel(t,r){const i=ke(this._locale,Ge.Standalone,void 0===r?Ye.Short:r);return i.map((c,p)=>i[(p+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Xr(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),FS=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(Mr(i=Qi(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(Mr(i=Qi(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const a=this.toValidDate(i,null);if(oy(this._state.maxDate,a))return{maxDate:a}},minDate:i=>{const a=this.toValidDate(i,null);if(oy(this._state.minDate,a))return{minDate:a}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const a=!0===i||!1===i?Ye.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==a||this._state.weekdaysVisible!==c)return{weekdayWidth:a,weekdaysVisible:c}}},this._model$=new Ne.x,this._dateSelect$=new Ne.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ye.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Ke(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ke(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,a)=>({...i,...a}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&oy(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){PS(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||Ax(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(oy(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&PS(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=Di.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:a,focusDate:c,focusVisible:p,disabled:_,outsideDays:w}=t;t.months.forEach(T=>{T.weeks.forEach(N=>{N.days.forEach(k=>{c&&(k.context.focused=c.equals(k.date)&&p),k.tabindex=!_&&c&&k.date.equals(c)&&c.month===T.number?0:-1,!0===_&&(k.context.disabled=!0),void 0!==a&&(k.context.selected=null!==a&&a.equals(k.date)),T.number!==k.date.month&&(k.hidden="hidden"===w||"collapsed"===w||i>1&&k.date.after(r[0].firstDate)&&k.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function QU(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=NE(r.focusDate,r.minDate,r.maxDate),r.firstDate=NE(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=NE(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=NE(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function nj(n,e,t,r,i){const{displayMonths:a,months:c}=t,p=c.splice(0,c.length);return Array.from({length:a},(w,T)=>{const N=Object.assign(n.getNext(e,"m",T),{day:1});if(c[T]=null,!i){const k=p.findIndex(B=>B.firstDate.equals(N));-1!==k&&(c[T]=p.splice(k,1)[0])}return N}).forEach((w,T)=>{null===c[T]&&(c[T]=function rj(n,e,t,r,i={}){const{dayTemplateData:a,minDate:c,maxDate:p,firstDayOfWeek:_,markDisabled:w,outsideDays:T,weekdayWidth:N,weekdaysVisible:k}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function ij(n,e,t){const r=n.getDaysPerWeek(),i=new Di(e.year,e.month,1),a=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+a-t)%r)}(n,e,_),k||(i.weekdays.length=0);for(let Q=0;Q<n.getWeeksPerMonth();Q++){let ae=i.weeks[Q];ae||(ae=i.weeks[Q]={number:0,days:[],collapsed:!0});const ye=ae.days;for(let ot=0;ot<n.getDaysPerWeek();ot++){0===Q&&k&&(i.weekdays[ot]=r.getWeekdayLabel(n.getWeekday(e),N));const at=new Di(e.year,e.month,e.day),gt=n.getNext(at),rt=r.getDayAriaLabel(at);let Xe=!!(c&&at.before(c)||p&&at.after(p));!Xe&&w&&(Xe=w(at,{month:i.number,year:i.year}));let ht=at.equals(B),Yt=a?a(at,{month:i.number,year:i.year}):void 0;null===i.firstDate&&at.month===i.number&&(i.firstDate=at),at.month===i.number&&gt.month!==i.number&&(i.lastDate=at);let yn=ye[ot];yn||(yn=ye[ot]={}),yn.date=at,yn.context=Object.assign(yn.context||{},{$implicit:at,date:at,data:Yt,currentMonth:i.number,currentYear:i.year,disabled:Xe,focused:!1,selected:!1,today:ht}),yn.tabindex=-1,yn.ariaLabel=rt,yn.hidden=!1,e=gt}ae.number=n.getWeekNumber(ye.map(ot=>ot.date),_),ae.collapsed="collapsed"===T&&ye[0].date.month!==i.number&&ye[ye.length-1].date.month!==i.number}return i}(n,w,t,r,p.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!PS(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const p=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,_=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||p)&&(r.selectBoxes.years=function XU(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,a=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(a);for(let p=0;p<a;p++)c[p]=r+p;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||p)&&(r.selectBoxes.months=function JU(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const a=i.findIndex(c=>c===t.month);i=i.slice(a)}if(r&&e.year===r.year){const a=i.findIndex(c=>c===r.month);i=i.slice(0,a+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(_||p||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function tj(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function ej(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(OE),l.LFG(gg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var ay=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(ay||(ay={})),ay))();let lj=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:JV,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),cj=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new Di(this.date.year,Qi(t),1))}changeYear(t){this.select.emit(new Di(Qi(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gg),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(XV,7,l.SBq),l.Gf(eB,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(a){return r.changeMonth(a.target.value)}),l.YNc(2,tB,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(a){return r.changeYear(a.target.value)}),l.YNc(5,nB,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[Zn],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),dj=(()=>{class n{constructor(t){this.i18n=t,this.navigation=ay,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(a){return r.onClickPrev(a)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,rB,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,aB,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(a){return r.onClickNext(a)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[cr,Zn,cj],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var mn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(mn||(mn={})),mn))();let hj=(()=>{class n{processKey(t,r){const{state:i,calendar:a}=r;switch(t.which){case mn.PageUp:r.focusDate(a.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case mn.PageDown:r.focusDate(a.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case mn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case mn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case mn.ArrowLeft:r.focusDate(a.getPrev(i.focusedDate,"d",1));break;case mn.ArrowUp:r.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case mn.ArrowRight:r.focusDate(a.getNext(i.focusedDate,"d",1));break;case mn.ArrowDown:r.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case mn.Enter:case mn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LS=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ye.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fj(){return new pj}()},providedIn:"root"}),n})(),pj=(()=>{class n extends VS{fromModel(t){return t&&Mr(t.year)&&Mr(t.month)&&Mr(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Mr(t.year)&&Mr(t.month)&&Mr(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Mx=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),BS=(()=>{class n{constructor(t,r,i,a){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=a}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gg),l.Y36((0,l.Gpc)(()=>xE)),l.Y36(hj),l.Y36(FS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r.onKeyDown(a)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,cB,3,2,"div",0),l.YNc(1,mB,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[cr,Zn,dr],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),xE=(()=>{class n{constructor(t,r,i,a,c,p,_,w){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=p,this._ngbDateAdapter=_,this._ngZone=w,this._controlValue=null,this._destroyed$=new Ne.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=T=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=a[T]),t.dateSelect$.pipe(Ur(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),t.model$.pipe(Ur(this._destroyed$)).subscribe(T=>{const N=T.firstDate,k=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(ot=>ot.firstDate)};let B=!1;if(!N.equals(k)&&(this.navigate.emit({current:k?{year:k.year,month:k.month}:null,next:{year:N.year,month:N.month},preventDefault:()=>B=!0}),B&&null!==k))return void this._service.open(k);const Q=T.selectedDate,ae=T.focusDate,ye=this.model?this.model.focusDate:null;this.model=T,oy(Q,this._controlValue)&&(this._controlValue=Q,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(Q))),oy(ae,ye)&&ye&&T.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(Di.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(Di.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Yi(this._contentEl.nativeElement,"focusin"),r=Yi(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,nt.T)(t,r).pipe(Ke(({target:a,relatedTarget:c})=>!(mx(a,"ngb-dp-day")&&mx(c,"ngb-dp-day")&&i.contains(a)&&i.contains(c))),Ur(this._destroyed$)).subscribe(({type:a})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===a})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:a}=t.startDate;Ax(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case ay.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ay.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=Di.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(FS),l.Y36(OE),l.Y36(gg),l.Y36(LS),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(VS),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Mx,7),2&t){let a;l.iGM(a=l.CRH())&&(r.contentTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(_B,7),l.Gf(yB,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Xs,useExisting:(0,l.Gpc)(()=>n),multi:!0},FS]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,vB,1,5,"ng-template",null,0,l.W1O),l.YNc(2,DB,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,EB,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,IB,0,0,"ng-template",6),l.qZA(),l.YNc(9,TB,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[cr,Zn,dr,lj,BS,dj],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Rx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kx(n){const e=Array.from(n.querySelectorAll(Rx)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[xE,BS]}),n})(),GS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class yg{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Bj=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{xi(this._zone,this._el.nativeElement,(t,r)=>{r&&iy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return xi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Qx{close(e){}dismiss(e){}}class Uj{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Ne.x,this._dismissed=new Ne.x,this._hidden=new Ne.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ur(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ur(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function gx(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():wt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),dE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Gb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Gb||(Gb={})),Gb))();let jj=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Ne.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Ne.x,this.hidden=new Ne.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Vb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=dE(xi(this._zone,t,()=>t.classList.remove("show"),r),xi(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};dE(xi(this._zone,this._elRef.nativeElement,(a,c)=>{c&&iy(a),a.classList.add("show")},t),xi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Yi(t,"keydown").pipe(Ur(this._closed$),Ke(i=>i.which===mn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Gb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Yi(this._dialogEl.nativeElement,"mousedown").pipe(Ur(this._closed$),(0,Oi.b)(()=>r=!1),Te(()=>Yi(t,"mouseup").pipe(Ur(this._closed$),wi(1))),Ke(({target:i})=>t===i)).subscribe(()=>{r=!0}),Yi(t,"click").pipe(Ur(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Gb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=kx(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&xi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(re),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(CB,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:CE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),$j=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:c}=i;if(t>0){const p=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${p+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gj=(()=>{class n{constructor(t,r,i,a,c,p,_){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=a,this._scrollBar=c,this._rendererFactory=p,this._ngZone=_,this._activeWindowCmptHasChanged=new Ne.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Yi(e,"focusin").pipe(Ur(t),(0,C.U)(a=>a.target));Yi(e,"keydown").pipe(Ur(t),Ke(a=>a.which===mn.Tab),XC(i)).subscribe(([a,c])=>{const[p,_]=kx(e);(c===p||c===e)&&a.shiftKey&&(_.focus(),a.preventDefault()),c===_&&!a.shiftKey&&(p.focus(),a.preventDefault())}),r&&Yi(e,"click").pipe(Ur(t),XC(i),(0,C.U)(a=>a[1])).subscribe(a=>a.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:fg(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new Qx,_=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,w=this._getContentRef(t,_,r,p,i);let T=!1!==i.backdrop?this._attachBackdrop(a):void 0,N=this._attachWindowComponent(a,w.nodes),k=new Uj(N,w,T,i.beforeDismiss);return this._registerModalRef(k),this._registerWindowCmpt(N),k.hidden.pipe(wi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=B=>{k.close(B)},p.dismiss=B=>{k.dismiss(B)},this._applyWindowOptions(N.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,i),T.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),k}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(Bj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(jj,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):Vb(i)?this._createFromString(i):this._createFromComponent(t,r,i,a,c):new yg([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(a),new yg([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new yg([[r]])}_createFromComponent(t,r,i,a,c){const p=l.zs3.create({providers:[{provide:Qx,useValue:a}],parent:t}),_=(0,l.LMc)(i,{environmentInjector:r,elementInjector:p}),w=_.location.nativeElement;return c.scrollable&&w.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new yg([[w]],_.hostView,_)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(re),l.LFG($j),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hj=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zj=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(Gj),l.LFG(Hj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zj]}),n})();const Zj=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Yj=(n,e)=>{e&&iy(n),n.classList.add("show")};let WS=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),nR=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Ur(this.nav.destroy$),vs(this._activePane?.item||null),ne(),function xL(n){return Ke((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?xi(this._ngZone,this._activePane.elRef.nativeElement,Zj,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),xi(this._ngZone,this._activePane.elRef.nativeElement,Yj,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(WS,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:SB,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,OB,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[WS,Zn,cr,dr],encapsulation:2,changeDetection:0}),n})(),rR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[nR]}),n})(),Kj=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),sR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),oR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),aR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),uR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),lR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),cR=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),dR=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=SE(t,this.pageCount,1),this.page!==r&&jr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),jr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,iR,5),l.Suo(i,sR,5),l.Suo(i,oR,5),l.Suo(i,aR,5),l.Suo(i,uR,5),l.Suo(i,lR,5),l.Suo(i,cR,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.tplEllipsis=a.first),l.iGM(a=l.CRH())&&(r.tplFirst=a.first),l.iGM(a=l.CRH())&&(r.tplLast=a.first),l.iGM(a=l.CRH())&&(r.tplNext=a.first),l.iGM(a=l.CRH())&&(r.tplNumber=a.first),l.iGM(a=l.CRH())&&(r.tplPrevious=a.first),l.iGM(a=l.CRH())&&(r.tplPages=a.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,a,c,p,_;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,a=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,p=$localize`:@@ngb.pagination.next-aria:Next`,_=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,xB,2,0,"ng-template",null,0,l.W1O),l.YNc(2,RB,2,0,"ng-template",null,1,l.W1O),l.YNc(4,kB,2,0,"ng-template",null,2,l.W1O),l.YNc(6,PB,2,0,"ng-template",null,3,l.W1O),l.YNc(8,FB,1,0,"ng-template",null,4,l.W1O),l.YNc(10,VB,2,2,"ng-template",null,5,l.W1O),l.YNc(12,WB,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,ZB,3,9,"li",7),l.YNc(16,QB,3,8,"li",7),l.YNc(17,JB,0,0,"ng-template",8),l.YNc(18,eU,3,9,"li",7),l.YNc(19,nU,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,rU,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[cr,Zn,dr],encapsulation:2,changeDetection:0}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dR]}),n})(),pR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),n$=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r$=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!jr(t)||t<=0?100:t}get max(){return this._max}getValue(){return SE(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(n$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:CE,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,oU,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[cr,wd],encapsulation:2,changeDetection:0}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[r$]}),n})(),i$=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s$=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case mn.ArrowDown:case mn.ArrowLeft:this.update(this.rate-1);break;case mn.ArrowUp:case mn.ArrowRight:this.update(this.rate+1);break;case mn.Home:this.update(0);break;case mn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=SE(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*SE(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(i$),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let a;l.iGM(a=l.CRH())&&(r.starTemplateFromContent=a.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(a){return r.handleKeyDown(a)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Xs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,aU,1,1,"ng-template",null,0,l.W1O),l.YNc(2,lU,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[Zn,dr],encapsulation:2,changeDetection:0}),n})(),mR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[s$]}),n})();class _R{constructor(e,t,r){this.hour=Qi(e),this.minute=Qi(t),this.second=Qi(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=jr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){jr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){jr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return jr(this.hour)&&jr(this.minute)&&(!e||jr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let o$=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function a$(){return new u$}()},providedIn:"root"}),n})(),u$=(()=>{class n extends yR{fromModel(t){return t&&Mr(t.hour)&&Mr(t.minute)?{hour:t.hour,minute:t.minute,second:Mr(t.second)?t.second:null}:null}toModel(t){return t&&Mr(t.hour)&&Mr(t.minute)?{hour:t.hour,minute:t.minute,second:Mr(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function l$(n){return new c$(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),c$=(()=>{class n extends vR{constructor(t){super(),this._periods=De(t,Ge.Standalone,Ye.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const d$=/[^0-9]/g;let h$=(()=>{class n{constructor(t,r,i,a){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=a,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Mr(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Mr(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Mr(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new _R(r.hour,r.minute,r.second):new _R,!this.seconds&&(!r||!jr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=Qi(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Qi(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Qi(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(d$,"")}formatHour(t){return jr(t)?ry(this.meridian?t%12==0?12:t%12:t%24):ry(NaN)}formatMinSec(t){return ry(jr(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!jr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(o$),l.Y36(yR),l.Y36(l.sBO),l.Y36(vR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Xs,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,a,c,p,_,w,T,N,k,B,Q;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,a=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,p=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,w=$localize`:@@ngb.timepicker.SS:SS`,T=$localize`:@@ngb.timepicker.seconds:Seconds`,N=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,k=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,B=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,Q=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],a,[1,"chevron","ngb-tp-chevron","bottom"],c,p,_,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",w,"aria-label",T,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],N,k,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],B,Q]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,cU,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(a){return r.updateHour(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeHour(r.hourStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeHour(-r.hourStep),a.preventDefault()}),l.qZA(),l.YNc(5,dU,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,hU,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(a){return r.updateMinute(a.target.value)})("blur",function(){return r.handleBlur()})("input",function(a){return r.formatInput(a.target)})("keydown.ArrowUp",function(a){return r.changeMinute(r.minuteStep),a.preventDefault()})("keydown.ArrowDown",function(a){return r.changeMinute(-r.minuteStep),a.preventDefault()}),l.qZA(),l.YNc(11,fU,4,7,"button",3),l.qZA(),l.YNc(12,pU,2,0,"div",8),l.YNc(13,_U,4,9,"div",9),l.YNc(14,yU,1,0,"div",8),l.YNc(15,wU,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[cr],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),bR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[h$]}),n})();const f$=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),iy(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},p$=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let g$=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),_$=(()=>{class n{constructor(t,r,i,a){this.ariaLive=t,this._zone=i,this._element=a,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=xi(this._zone,this._element.nativeElement,p$,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=xi(this._zone,this._element.nativeElement,f$,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(g$),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,m$,7,l.Rgc),2&t){let a;l.iGM(a=l.CRH())&&(r.contentHeaderTpl=a.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:CE,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,DU,2,1,"ng-template",null,0,l.W1O),l.YNc(2,IU,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[cr,dr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_$]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),y$=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=px(this.result),i=Array.isArray(this.term)?this.term:[this.term],a=w=>this.accentSensitive?w:_x(w),c=i.map(w=>function MU(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(a(px(w)))).filter(w=>w),p=this.accentSensitive?r:_x(r),_=c.length?p.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=_;else{let w=0;this.parts=_.map(T=>r.substring(w,w+=T.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,SU,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[cr,Zn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function v$(){return 100}});let ER=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[y$]}),n})(),IR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const b$=[Ex,Ix,Cx,Sx,qx,Kx,Jx,rR,IR,hR,pR,gR,mR,bR,wR,DR,ER];let w$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[b$,Ex,Ix,Cx,Sx,qx,Kx,Jx,rR,IR,hR,pR,gR,mR,bR,wR,DR,ER]}),n})();function D$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul",10)(1,"li",11)(2,"span"),l._uU(3),l.TgZ(4,"button",12),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.removeItem(a.id))}),l._uU(5,"Delete"),l.qZA(),l.TgZ(6,"button",13),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.uper(a))}),l._uU(7,"Up"),l.qZA(),l.TgZ(8,"button",13),l.NdJ("click",function(){const a=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.down(a))}),l._uU(9,"Down"),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(3),l.hij(" ",t.data," ")}}class Hb{constructor(e){this.todoservice=e,this.title="TodoApp",this.list=[]}ngOnInit(){this.todoservice.firestoreCollection.valueChanges({idField:"id"}).subscribe(e=>{this.list=e})}addtask(e){e&&(this.todoservice.addTodo(e.value),e.value="")}removeItem(e){this.todoservice.deleteItem(e)}deleteAll(){0===this.list.length&&alert("No Task added :)"),this.list.splice(0)}uper(e){let t=this.list.indexOf(e);if(t>=1){let r=this.list[t];this.list.splice(t,1,this.list[t-1]),this.list.splice(t-1,1,r)}}down(e){let t=this.list.indexOf(e);if(t<this.list.length-1){let r=this.list[t];this.list.splice(t,1,this.list[t+1]),this.list.splice(t+1,1,r)}}}Hb.\u0275fac=function(e){return new(e||Hb)(l.Y36(Q_))},Hb.\u0275cmp=l.Xpm({type:Hb,selectors:[["app-root"]],decls:19,vars:2,consts:[[1,"navbar","bg-body-tertiary"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1","text-center","mx-auto","text-success"],[1,"input-group","mb-3","w-75","p-3","mx-auto"],["id","basic-addon1",1,"input-group-text"],["type","text","width","100px","placeholder","Todos-","aria-label","Username","type","text","aria-describedby","basic-addon1",1,"form-control","w-25","p-3"],["task",""],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-warning",3,"click"],["class","list-group ",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","w-50","p-3","mx-auto","my-2"],["type","button",1,"btn","btn-danger","btn-space","mx-2",3,"click"],["type","button",1,"btn","btn-warning","mx-2",3,"click"]],template:function(e,t){if(1&e){const r=l.EpF();l.TgZ(0,"nav",0)(1,"div",1)(2,"span",2)(3,"h2"),l._uU(4),l.qZA()()()(),l._UZ(5,"br"),l.TgZ(6,"div",3)(7,"span",4),l._uU(8,"Add Task Here :"),l.qZA(),l._UZ(9,"input",5,6),l.TgZ(11,"button",7),l.NdJ("click",function(){l.CHM(r);const a=l.MAs(10);return l.KtG(t.addtask(a))}),l._uU(12,"Add Task"),l.qZA(),l.TgZ(13,"button",8),l.NdJ("click",function(){return t.deleteAll()}),l._uU(14,"Delete All Tasks"),l.qZA()(),l.YNc(15,D$,10,1,"ul",9),l.TgZ(16,"div")(17,"footer"),l._uU(18," Thanks for using application. Visit again ! "),l.qZA()()}2&e&&(l.xp6(4),l.Oqu(t.title),l.xp6(11),l.Q6J("ngForOf",t.list))},dependencies:[Zn,GS],styles:["footer[_ngcontent-%COMP%]{background-color:#c9e5b2;padding:20px;position:absolute;left:0;bottom:0;width:100%;text-align:center;color:#086228}"]});class ly{}ly.\u0275fac=function(e){return new(e||ly)},ly.\u0275mod=l.oAB({type:ly,bootstrap:[Hb]}),ly.\u0275inj=l.cJS({imports:[Fd,K_,w$,Kn.hO.initializeApp({apiKey:"AIzaSyAx9ljBESL0-OSKs3mBPbvVqU_TM3IhwjQ",authDomain:"todoapp-93cc2.firebaseapp.com",projectId:"todoapp-93cc2",storageBucket:"todoapp-93cc2.appspot.com",messagingSenderId:"280749937757",appId:"1:280749937757:web:da1b65254fc3e1f45a29b4"}),Bk]}),Mg().bootstrapModule(ly).catch(n=>console.error(n))},9751:(vt,Se,P)=>{P.d(Se,{y:()=>fe});var l=P(930),K=P(727),R=P(8822),oe=P(9635),ie=P(2416),re=P(576),ve=P(2806);let fe=(()=>{class q{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Ze=new q;return Ze.source=this,Ze.operator=Oe,Ze}subscribe(Oe,Ze,yt){const pe=function $(q){return q&&q instanceof l.Lv||function G(q){return q&&(0,re.m)(q.next)&&(0,re.m)(q.error)&&(0,re.m)(q.complete)}(q)&&(0,K.Nn)(q)}(Oe)?Oe:new l.Hp(Oe,Ze,yt);return(0,ve.x)(()=>{const{operator:Re,source:xe}=this;pe.add(Re?Re.call(pe,xe):xe?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Ze){Oe.error(Ze)}}forEach(Oe,Ze){return new(Ze=he(Ze))((yt,pe)=>{const Re=new l.Hp({next:xe=>{try{Oe(xe)}catch(je){pe(je),Re.unsubscribe()}},error:pe,complete:yt});this.subscribe(Re)})}_subscribe(Oe){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Oe)}[R.L](){return this}pipe(...Oe){return(0,oe.U)(Oe)(this)}toPromise(Oe){return new(Oe=he(Oe))((Ze,yt)=>{let pe;this.subscribe(Re=>pe=Re,Re=>yt(Re),()=>Ze(pe))})}}return q.create=We=>new q(We),q})();function he(q){var We;return null!==(We=q??ie.v.Promise)&&void 0!==We?We:Promise}},7579:(vt,Se,P)=>{P.d(Se,{x:()=>ve});var l=P(9751),K=P(727);const oe=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=P(8737),re=P(2806);let ve=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const q=new fe(this,this);return q.operator=$,q}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next($)}})}error($){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:q}=this;for(;q.length;)q.shift().error($)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:q,isStopped:We,observers:Oe}=this;return q||We?K.Lc:(this.currentObservers=null,Oe.push($),new K.w0(()=>{this.currentObservers=null,(0,ie.P)(Oe,$)}))}_checkFinalizedStatuses($){const{hasError:q,thrownError:We,isStopped:Oe}=this;q?$.error(We):Oe&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return he.create=(G,$)=>new fe(G,$),he})();class fe extends ve{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===q||q.call($,G)}error(G){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===q||q.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,q;return null!==(q=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==q?q:K.Lc}}},930:(vt,Se,P)=>{P.d(Se,{Hp:()=>yt,Lv:()=>q});var l=P(576),K=P(727),R=P(2416),oe=P(7849),ie=P(5032);const re=he("C",void 0,void 0);function he(Ae,_e,Pe){return{kind:Ae,value:_e,error:Pe}}var G=P(3410),$=P(2806);class q extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=je}static create(_e,Pe,$e){return new yt(_e,Pe,$e)}next(_e){this.isStopped?xe(function fe(Ae){return he("N",Ae,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?xe(function ve(Ae){return he("E",void 0,Ae)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?xe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Oe(Ae,_e){return We.call(Ae,_e)}class Ze{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(_e)}catch($e){pe($e)}}error(_e){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(_e)}catch($e){pe($e)}else pe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Pe){pe(Pe)}}}class yt extends q{constructor(_e,Pe,$e){let Ve;if(super(),(0,l.m)(_e)||!_e)Ve={next:_e??void 0,error:Pe??void 0,complete:$e??void 0};else{let U;this&&R.v.useDeprecatedNextContext?(U=Object.create(_e),U.unsubscribe=()=>this.unsubscribe(),Ve={next:_e.next&&Oe(_e.next,U),error:_e.error&&Oe(_e.error,U),complete:_e.complete&&Oe(_e.complete,U)}):Ve=_e}this.destination=new Ze(Ve)}}function pe(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function xe(Ae,_e){const{onStoppedNotification:Pe}=R.v;Pe&&G.z.setTimeout(()=>Pe(Ae,_e))}const je={closed:!0,next:ie.Z,error:function Re(Ae){throw Ae},complete:ie.Z}},727:(vt,Se,P)=>{P.d(Se,{Lc:()=>re,w0:()=>ie,Nn:()=>ve});var l=P(576);const R=(0,P(3888).d)(he=>function($){he(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((q,We)=>`${We+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=P(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Oe of $)Oe.remove(this);else $.remove(this);const{initialTeardown:q}=this;if((0,l.m)(q))try{q()}catch(Oe){G=Oe instanceof R?Oe.errors:[Oe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Oe of We)try{fe(Oe)}catch(Ze){G=G??[],Ze instanceof R?G=[...G,...Ze.errors]:G.push(Ze)}}if(G)throw new R(G)}}add(G){var $;if(G&&G!==this)if(this.closed)fe(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,oe.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,oe.P)($,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const re=ie.EMPTY;function ve(he){return he instanceof ie||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function fe(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(vt,Se,P)=>{P.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,P)=>{P.d(Se,{E:()=>K});const K=new(P(9751).y)(ie=>ie.complete())},8996:(vt,Se,P)=>{P.d(Se,{D:()=>_e});var l=P(8421),K=P(5363),R=P(9468),re=P(9751),fe=P(2202),he=P(576),G=P(9672);function q(Pe,$e){if(!Pe)throw new Error("Iterable cannot be null");return new re.y(Ve=>{(0,G.f)(Ve,$e,()=>{const U=Pe[Symbol.asyncIterator]();(0,G.f)(Ve,$e,()=>{U.next().then(Ee=>{Ee.done?Ve.complete():Ve.next(Ee.value)})},0,!0)})})}var We=P(3670),Oe=P(8239),Ze=P(1144),yt=P(6495),pe=P(2206),Re=P(4532),xe=P(3260);function _e(Pe,$e){return $e?function Ae(Pe,$e){if(null!=Pe){if((0,We.c)(Pe))return function oe(Pe,$e){return(0,l.Xf)(Pe).pipe((0,R.R)($e),(0,K.Q)($e))}(Pe,$e);if((0,Ze.z)(Pe))return function ve(Pe,$e){return new re.y(Ve=>{let U=0;return $e.schedule(function(){U===Pe.length?Ve.complete():(Ve.next(Pe[U++]),Ve.closed||this.schedule())})})}(Pe,$e);if((0,Oe.t)(Pe))return function ie(Pe,$e){return(0,l.Xf)(Pe).pipe((0,R.R)($e),(0,K.Q)($e))}(Pe,$e);if((0,pe.D)(Pe))return q(Pe,$e);if((0,yt.T)(Pe))return function $(Pe,$e){return new re.y(Ve=>{let U;return(0,G.f)(Ve,$e,()=>{U=Pe[fe.h](),(0,G.f)(Ve,$e,()=>{let Ee,Ge;try{({value:Ee,done:Ge}=U.next())}catch(Ye){return void Ve.error(Ye)}Ge?Ve.complete():Ve.next(Ee)},0,!0)}),()=>(0,he.m)(U?.return)&&U.return()})}(Pe,$e);if((0,xe.L)(Pe))return function je(Pe,$e){return q((0,xe.Q)(Pe),$e)}(Pe,$e)}throw(0,Re.z)(Pe)}(Pe,$e):(0,l.Xf)(Pe)}},8421:(vt,Se,P)=>{P.d(Se,{Xf:()=>We});var l=P(655),K=P(1144),R=P(8239),oe=P(9751),ie=P(3670),re=P(2206),ve=P(4532),fe=P(6495),he=P(3260),G=P(576),$=P(7849),q=P(8822);function We(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,ie.c)(Ae))return function Oe(Ae){return new oe.y(_e=>{const Pe=Ae[q.L]();if((0,G.m)(Pe.subscribe))return Pe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,K.z)(Ae))return function Ze(Ae){return new oe.y(_e=>{for(let Pe=0;Pe<Ae.length&&!_e.closed;Pe++)_e.next(Ae[Pe]);_e.complete()})}(Ae);if((0,R.t)(Ae))return function yt(Ae){return new oe.y(_e=>{Ae.then(Pe=>{_e.closed||(_e.next(Pe),_e.complete())},Pe=>_e.error(Pe)).then(null,$.h)})}(Ae);if((0,re.D)(Ae))return Re(Ae);if((0,fe.T)(Ae))return function pe(Ae){return new oe.y(_e=>{for(const Pe of Ae)if(_e.next(Pe),_e.closed)return;_e.complete()})}(Ae);if((0,he.L)(Ae))return function xe(Ae){return Re((0,he.Q)(Ae))}(Ae)}throw(0,ve.z)(Ae)}function Re(Ae){return new oe.y(_e=>{(function je(Ae,_e){var Pe,$e,Ve,U;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,l.KL)(Ae);!($e=yield Pe.next()).done;)if(_e.next($e.value),_e.closed)return}catch(Ee){Ve={error:Ee}}finally{try{$e&&!$e.done&&(U=Pe.return)&&(yield U.call(Pe))}finally{if(Ve)throw Ve.error}}_e.complete()})})(Ae,_e).catch(Pe=>_e.error(Pe))})}},6451:(vt,Se,P)=>{P.d(Se,{T:()=>re});var l=P(8189),K=P(8421),R=P(515),oe=P(3269),ie=P(8996);function re(...ve){const fe=(0,oe.yG)(ve),he=(0,oe._6)(ve,1/0),G=ve;return G.length?1===G.length?(0,K.Xf)(G[0]):(0,l.J)(he)((0,ie.D)(G,fe)):R.E}},5403:(vt,Se,P)=>{P.d(Se,{x:()=>K});var l=P(930);function K(oe,ie,re,ve,fe){return new R(oe,ie,re,ve,fe)}class R extends l.Lv{constructor(ie,re,ve,fe,he,G){super(ie),this.onFinalize=he,this.shouldUnsubscribe=G,this._next=re?function($){try{re($)}catch(q){ie.error(q)}}:super._next,this._error=fe?function($){try{fe($)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch($){ie.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(vt,Se,P)=>{P.d(Se,{U:()=>R});var l=P(4482),K=P(5403);function R(oe,ie){return(0,l.e)((re,ve)=>{let fe=0;re.subscribe((0,K.x)(ve,he=>{ve.next(oe.call(ie,he,fe++))}))})}},8189:(vt,Se,P)=>{P.d(Se,{J:()=>R});var l=P(5577),K=P(4671);function R(oe=1/0){return(0,l.z)(K.y,oe)}},5577:(vt,Se,P)=>{P.d(Se,{z:()=>fe});var l=P(4004),K=P(8421),R=P(4482),oe=P(9672),ie=P(5403),ve=P(576);function fe(he,G,$=1/0){return(0,ve.m)(G)?fe((q,We)=>(0,l.U)((Oe,Ze)=>G(q,Oe,We,Ze))((0,K.Xf)(he(q,We))),$):("number"==typeof G&&($=G),(0,R.e)((q,We)=>function re(he,G,$,q,We,Oe,Ze,yt){const pe=[];let Re=0,xe=0,je=!1;const Ae=()=>{je&&!pe.length&&!Re&&G.complete()},_e=$e=>Re<q?Pe($e):pe.push($e),Pe=$e=>{Oe&&G.next($e),Re++;let Ve=!1;(0,K.Xf)($($e,xe++)).subscribe((0,ie.x)(G,U=>{We?.(U),Oe?_e(U):G.next(U)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Re--;pe.length&&Re<q;){const U=pe.shift();Ze?(0,oe.f)(G,Ze,()=>Pe(U)):Pe(U)}Ae()}catch(U){G.error(U)}}))};return he.subscribe((0,ie.x)(G,_e,()=>{je=!0,Ae()})),()=>{yt?.()}}(q,We,he,$)))}},5363:(vt,Se,P)=>{P.d(Se,{Q:()=>oe});var l=P(9672),K=P(4482),R=P(5403);function oe(ie,re=0){return(0,K.e)((ve,fe)=>{ve.subscribe((0,R.x)(fe,he=>(0,l.f)(fe,ie,()=>fe.next(he),re),()=>(0,l.f)(fe,ie,()=>fe.complete(),re),he=>(0,l.f)(fe,ie,()=>fe.error(he),re)))})}},3099:(vt,Se,P)=>{P.d(Se,{B:()=>ie});var l=P(8421),K=P(7579),R=P(930),oe=P(4482);function ie(ve={}){const{connector:fe=(()=>new K.x),resetOnError:he=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ve;return q=>{let We,Oe,Ze,yt=0,pe=!1,Re=!1;const xe=()=>{Oe?.unsubscribe(),Oe=void 0},je=()=>{xe(),We=Ze=void 0,pe=Re=!1},Ae=()=>{const _e=We;je(),_e?.unsubscribe()};return(0,oe.e)((_e,Pe)=>{yt++,!Re&&!pe&&xe();const $e=Ze=Ze??fe();Pe.add(()=>{yt--,0===yt&&!Re&&!pe&&(Oe=re(Ae,$))}),$e.subscribe(Pe),!We&&yt>0&&(We=new R.Hp({next:Ve=>$e.next(Ve),error:Ve=>{Re=!0,xe(),Oe=re(je,he,Ve),$e.error(Ve)},complete:()=>{pe=!0,xe(),Oe=re(je,G),$e.complete()}}),(0,l.Xf)(_e).subscribe(We))})(q)}}function re(ve,fe,...he){if(!0===fe)return void ve();if(!1===fe)return;const G=new R.Hp({next:()=>{G.unsubscribe(),ve()}});return fe(...he).subscribe(G)}},9468:(vt,Se,P)=>{P.d(Se,{R:()=>K});var l=P(4482);function K(R,oe=0){return(0,l.e)((ie,re)=>{re.add(R.schedule(()=>ie.subscribe(re),oe))})}},8505:(vt,Se,P)=>{P.d(Se,{b:()=>ie});var l=P(576),K=P(4482),R=P(5403),oe=P(4671);function ie(re,ve,fe){const he=(0,l.m)(re)||ve||fe?{next:re,error:ve,complete:fe}:re;return he?(0,K.e)((G,$)=>{var q;null===(q=he.subscribe)||void 0===q||q.call(he);let We=!0;G.subscribe((0,R.x)($,Oe=>{var Ze;null===(Ze=he.next)||void 0===Ze||Ze.call(he,Oe),$.next(Oe)},()=>{var Oe;We=!1,null===(Oe=he.complete)||void 0===Oe||Oe.call(he),$.complete()},Oe=>{var Ze;We=!1,null===(Ze=he.error)||void 0===Ze||Ze.call(he,Oe),$.error(Oe)},()=>{var Oe,Ze;We&&(null===(Oe=he.unsubscribe)||void 0===Oe||Oe.call(he)),null===(Ze=he.finalize)||void 0===Ze||Ze.call(he)}))}):oe.y}},4408:(vt,Se,P)=>{P.d(Se,{o:()=>ie});var l=P(727);class K extends l.w0{constructor(ve,fe){super()}schedule(ve,fe=0){return this}}const R={setInterval(re,ve,...fe){const{delegate:he}=R;return he?.setInterval?he.setInterval(re,ve,...fe):setInterval(re,ve,...fe)},clearInterval(re){const{delegate:ve}=R;return(ve?.clearInterval||clearInterval)(re)},delegate:void 0};var oe=P(8737);class ie extends K{constructor(ve,fe){super(ve,fe),this.scheduler=ve,this.work=fe,this.pending=!1}schedule(ve,fe=0){var he;if(this.closed)return this;this.state=ve;const G=this.id,$=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId($,G,fe)),this.pending=!0,this.delay=fe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId($,this.id,fe),this}requestAsyncId(ve,fe,he=0){return R.setInterval(ve.flush.bind(ve,this),he)}recycleAsyncId(ve,fe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return fe;null!=fe&&R.clearInterval(fe)}execute(ve,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ve,fe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,fe){let G,he=!1;try{this.work(ve)}catch($){he=!0,G=$||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ve,scheduler:fe}=this,{actions:he}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(he,this),null!=ve&&(this.id=this.recycleAsyncId(fe,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,P)=>{P.d(Se,{v:()=>R});var l=P(6063);class K{constructor(ie,re=K.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,ve){return new this.schedulerActionCtor(this,ie).schedule(ve,re)}}K.now=l.l.now;class R extends K{constructor(ie,re=K.now){super(ie,re),this.actions=[],this._active=!1}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let ve;this._active=!0;do{if(ve=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,ve){for(;ie=re.shift();)ie.unsubscribe();throw ve}}}},4986:(vt,Se,P)=>{P.d(Se,{P:()=>oe,z:()=>R});var l=P(4408);const R=new(P(7565).v)(l.o),oe=R},6063:(vt,Se,P)=>{P.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,P)=>{P.d(Se,{z:()=>l});const l={setTimeout(K,R,...oe){const{delegate:ie}=l;return ie?.setTimeout?ie.setTimeout(K,R,...oe):setTimeout(K,R,...oe)},clearTimeout(K){const{delegate:R}=l;return(R?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(vt,Se,P)=>{P.d(Se,{h:()=>K});const K=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,P)=>{P.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Se,P)=>{P.d(Se,{_6:()=>re,jO:()=>oe,yG:()=>ie});var l=P(576),K=P(3532);function R(ve){return ve[ve.length-1]}function oe(ve){return(0,l.m)(R(ve))?ve.pop():void 0}function ie(ve){return(0,K.K)(R(ve))?ve.pop():void 0}function re(ve,fe){return"number"==typeof R(ve)?ve.pop():fe}},8737:(vt,Se,P)=>{function l(K,R){if(K){const oe=K.indexOf(R);0<=oe&&K.splice(oe,1)}}P.d(Se,{P:()=>l})},3888:(vt,Se,P)=>{function l(K){const oe=K(ie=>{Error.call(ie),ie.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(Se,{d:()=>l})},2806:(vt,Se,P)=>{P.d(Se,{O:()=>oe,x:()=>R});var l=P(2416);let K=null;function R(ie){if(l.v.useDeprecatedSynchronousErrorHandling){const re=!K;if(re&&(K={errorThrown:!1,error:null}),ie(),re){const{errorThrown:ve,error:fe}=K;if(K=null,ve)throw fe}}else ie()}function oe(ie){l.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ie)}},9672:(vt,Se,P)=>{function l(K,R,oe,ie=0,re=!1){const ve=R.schedule(function(){oe(),re?K.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(K.add(ve),!re)return ve}P.d(Se,{f:()=>l})},4671:(vt,Se,P)=>{function l(K){return K}P.d(Se,{y:()=>l})},1144:(vt,Se,P)=>{P.d(Se,{z:()=>l});const l=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(vt,Se,P)=>{P.d(Se,{D:()=>K});var l=P(576);function K(R){return Symbol.asyncIterator&&(0,l.m)(R?.[Symbol.asyncIterator])}},576:(vt,Se,P)=>{function l(K){return"function"==typeof K}P.d(Se,{m:()=>l})},3670:(vt,Se,P)=>{P.d(Se,{c:()=>R});var l=P(8822),K=P(576);function R(oe){return(0,K.m)(oe[l.L])}},6495:(vt,Se,P)=>{P.d(Se,{T:()=>R});var l=P(2202),K=P(576);function R(oe){return(0,K.m)(oe?.[l.h])}},8239:(vt,Se,P)=>{P.d(Se,{t:()=>K});var l=P(576);function K(R){return(0,l.m)(R?.then)}},3260:(vt,Se,P)=>{P.d(Se,{L:()=>oe,Q:()=>R});var l=P(655),K=P(576);function R(ie){return(0,l.FC)(this,arguments,function*(){const ve=ie.getReader();try{for(;;){const{value:fe,done:he}=yield(0,l.qq)(ve.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{ve.releaseLock()}})}function oe(ie){return(0,K.m)(ie?.getReader)}},3532:(vt,Se,P)=>{P.d(Se,{K:()=>K});var l=P(576);function K(R){return R&&(0,l.m)(R.schedule)}},4482:(vt,Se,P)=>{P.d(Se,{A:()=>K,e:()=>R});var l=P(576);function K(oe){return(0,l.m)(oe?.lift)}function R(oe){return ie=>{if(K(ie))return ie.lift(function(re){try{return oe(re,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Se,P)=>{function l(){}P.d(Se,{Z:()=>l})},9635:(vt,Se,P)=>{P.d(Se,{U:()=>R,z:()=>K});var l=P(4671);function K(...oe){return R(oe)}function R(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(re){return oe.reduce((ve,fe)=>fe(ve),re)}}},7849:(vt,Se,P)=>{P.d(Se,{h:()=>R});var l=P(2416),K=P(3410);function R(oe){K.z.setTimeout(()=>{const{onUnhandledError:ie}=l.v;if(!ie)throw oe;ie(oe)})}},4532:(vt,Se,P)=>{function l(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>l})},655:(vt,Se,P)=>{function oe(ue,ge){var De={};for(var ke in ue)Object.prototype.hasOwnProperty.call(ue,ke)&&ge.indexOf(ke)<0&&(De[ke]=ue[ke]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ke=Object.getOwnPropertySymbols(ue);Ue<ke.length;Ue++)ge.indexOf(ke[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ue,ke[Ue])&&(De[ke[Ue]]=ue[ke[Ue]])}return De}function q(ue,ge,De,ke){return new(De||(De=Promise))(function(ze,it){function Je(sn){try{Mt(ke.next(sn))}catch(lt){it(lt)}}function hn(sn){try{Mt(ke.throw(sn))}catch(lt){it(lt)}}function Mt(sn){sn.done?ze(sn.value):function Ue(ze){return ze instanceof De?ze:new De(function(it){it(ze)})}(sn.value).then(Je,hn)}Mt((ke=ke.apply(ue,ge||[])).next())})}function Ae(ue){return this instanceof Ae?(this.v=ue,this):new Ae(ue)}function _e(ue,ge,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ke=De.apply(ue,ge||[]),ze=[];return Ue={},it("next"),it("throw"),it("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function it(Bt){ke[Bt]&&(Ue[Bt]=function(Nn){return new Promise(function(Pn,Dn){ze.push([Bt,Nn,Pn,Dn])>1||Je(Bt,Nn)})})}function Je(Bt,Nn){try{!function hn(Bt){Bt.value instanceof Ae?Promise.resolve(Bt.value.v).then(Mt,sn):lt(ze[0][2],Bt)}(ke[Bt](Nn))}catch(Pn){lt(ze[0][3],Pn)}}function Mt(Bt){Je("next",Bt)}function sn(Bt){Je("throw",Bt)}function lt(Bt,Nn){Bt(Nn),ze.shift(),ze.length&&Je(ze[0][0],ze[0][1])}}function $e(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ge=ue[Symbol.asyncIterator];return ge?ge.call(ue):(ue=function yt(ue){var ge="function"==typeof Symbol&&Symbol.iterator,De=ge&&ue[ge],ke=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&ke>=ue.length&&(ue=void 0),{value:ue&&ue[ke++],done:!ue}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},ke("next"),ke("throw"),ke("return"),De[Symbol.asyncIterator]=function(){return this},De);function ke(ze){De[ze]=ue[ze]&&function(it){return new Promise(function(Je,hn){!function Ue(ze,it,Je,hn){Promise.resolve(hn).then(function(Mt){ze({value:Mt,done:Je})},it)}(Je,hn,(it=ue[ze](it)).done,it.value)})}}}P.d(Se,{FC:()=>_e,KL:()=>$e,_T:()=>oe,mG:()=>q,qq:()=>Ae})},4650:(vt,Se,P)=>{P.d(Se,{$8M:()=>Ld,$WT:()=>rr,$Z:()=>bl,AFp:()=>I_,ALo:()=>D0,AaK:()=>fe,BQk:()=>xm,CHM:()=>ac,CRH:()=>p_,CZH:()=>E_,CqO:()=>iv,D6c:()=>O1,EJc:()=>MT,EpF:()=>Kw,F$t:()=>Lh,F4k:()=>ed,FYo:()=>Ry,FiY:()=>Cn,Gf:()=>f_,GfV:()=>lm,Gpc:()=>$,Hsn:()=>uv,Ikx:()=>Hm,JOm:()=>Vi,KtG:()=>Cd,LFG:()=>Qe,LMc:()=>fd,Lbi:()=>DA,Lck:()=>Yh,MAs:()=>kh,MGl:()=>pp,MMx:()=>n_,MT6:()=>hD,NdJ:()=>sv,OlP:()=>_n,Oqu:()=>jm,P3R:()=>rw,PXZ:()=>LT,Q6J:()=>Xc,QGY:()=>rv,Qsj:()=>ph,QtT:()=>e0,R0b:()=>Qs,RDi:()=>Es,Rgc:()=>Jh,SBq:()=>yi,SDv:()=>Op,Sil:()=>xT,Suo:()=>WD,TTD:()=>Du,TgZ:()=>dp,Tol:()=>mv,Udp:()=>pv,VKq:()=>BD,W1O:()=>qD,WLB:()=>a_,X6Q:()=>L_,XFs:()=>me,Xpm:()=>Ea,Xts:()=>Zf,Y36:()=>Fn,YKP:()=>a0,YNc:()=>Ww,Yjl:()=>Ta,Yz7:()=>lt,Z0I:()=>Dn,ZZ4:()=>ob,_Bn:()=>Pp,_UZ:()=>nv,_Vd:()=>fh,_c5:()=>YT,_uU:()=>wv,aQg:()=>ab,c2e:()=>NT,cJS:()=>Nn,cg1:()=>ou,dDg:()=>g1,dqk:()=>Ot,eFA:()=>du,ekj:()=>gv,eoX:()=>Vl,f3M:()=>ft,g9A:()=>ST,h0i:()=>Pl,hGG:()=>ub,hij:()=>$m,iGM:()=>zD,ifc:()=>en,ip1:()=>a1,jDz:()=>r_,kEZ:()=>u_,kL8:()=>rd,lG2:()=>Ia,lcZ:()=>jD,lqb:()=>fa,lri:()=>S_,n5z:()=>bc,oAB:()=>jn,oxw:()=>Rm,pQV:()=>Rp,q4F:()=>fw,qLn:()=>Qf,qOj:()=>Im,qZA:()=>hp,rWj:()=>A_,s9C:()=>km,sBO:()=>E1,s_b:()=>l_,soG:()=>T_,tb:()=>Dr,tp0:()=>C,uIk:()=>Mm,vHH:()=>pe,vpe:()=>Ks,wAp:()=>Ft,xp6:()=>yh,ynx:()=>fp,z2F:()=>F_,zSh:()=>sm,zs3:()=>ml});var l=P(7579),K=P(727),R=P(9751),oe=P(6451),ie=P(3099);function re(s){for(let o in s)if(s[o]===re)return o;throw Error("Could not find renamed property on target object.")}function ve(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=re({__forward_ref__:re});function $(s){return s.__forward_ref__=$,s.toString=function(){return fe(this())},s}function q(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}function Oe(s){return s&&!!s.\u0275providers}const yt="https://g.co/ng/security#xss";class pe extends Error{constructor(o,u){super(function Re(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function xe(s){return"string"==typeof s?s:null==s?"":String(s)}function $e(s,o){throw new pe(-201,!1)}function Je(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function lt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Nn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pn(s){return Mn(s,J)||Mn(s,se)}function Dn(s){return null!==Pn(s)}function Mn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jr(s){return s&&(s.hasOwnProperty(Y)||s.hasOwnProperty(Ce))?s[Y]:null}const J=re({\u0275prov:re}),Y=re({\u0275inj:re}),se=re({ngInjectableDef:re}),Ce=re({ngInjectorDef:re});var me=(()=>((me=me||{})[me.Default=0]="Default",me[me.Host=1]="Host",me[me.Self=2]="Self",me[me.SkipSelf=4]="SkipSelf",me[me.Optional=8]="Optional",me))();let st;function Pt(s){const o=st;return st=s,o}function $t(s,o,u){const d=Pn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&me.Optional?null:void 0!==o?o:void $e(fe(s))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),on={},vn="__NG_DI_FLAG__",fn="ngTempTokenPath",eo=/\n/gm,Ri="__source";let an;function $r(s){const o=an;return an=s,o}function Xi(s,o=me.Default){if(void 0===an)throw new pe(-203,!1);return null===an?$t(s,void 0,o):an.get(s,o&me.Optional?null:void 0,o)}function Qe(s,o=me.Default){return(function gn(){return st}()||Xi)(q(s),o)}function ft(s,o=me.Default){return Qe(s,Lt(o))}function Lt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ut(s){const o=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let h,g=me.Default;for(let v=0;v<d.length;v++){const D=d[v],E=j(D);"number"==typeof E?-1===E?h=D.token:g|=E:h=D}o.push(Qe(h,g))}else o.push(Qe(d))}return o}function zt(s,o){return s[vn]=o,s.prototype[vn]=o,s}function j(s){return s[vn]}function we(s){return{toString:s}.toString()}var te=(()=>((te=te||{})[te.OnPush=0]="OnPush",te[te.Default=1]="Default",te))(),en=(()=>{return(s=en||(en={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",en;var s})();const Un={},xt=[],Ir=re({\u0275cmp:re}),Kt=re({\u0275dir:re}),ur=re({\u0275pipe:re}),Uo=re({\u0275mod:re}),Gr=re({\u0275fac:re}),Da=re({__NG_ELEMENT_ID__:re});let pf=0;function Ea(s){return we(()=>{const u=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===te.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||xt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||en.Emulated,id:"c"+pf++,styles:s.styles||xt,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,v=s.features;return h.inputs=Zl(s.inputs,d),h.outputs=Zl(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(ql).filter(_d):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Xn).filter(_d):null,h})}function ql(s){return un(s)||lr(s)}function _d(s){return null!==s}function jn(s){return we(()=>({type:s.type,bootstrap:s.bootstrap||xt,declarations:s.declarations||xt,imports:s.imports||xt,exports:s.exports||xt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Zl(s,o){if(null==s)return Un;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,o&&(o[h]=g)}return u}const Ia=Ea;function Ta(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function un(s){return s[Ir]||null}function lr(s){return s[Kt]||null}function Xn(s){return s[ur]||null}function rr(s){const o=un(s)||lr(s)||Xn(s);return null!==o&&o.standalone}function Hr(s,o){const u=s[Uo]||null;if(!u&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return u}function li(s){return Array.isArray(s)&&"object"==typeof s[1]}function Pi(s){return Array.isArray(s)&&!0===s[1]}function Ca(s){return 0!=(4&s.flags)}function Fi(s){return s.componentOffset>-1}function Ql(s){return 1==(1&s.flags)}function ci(s){return null!==s.template}function Sa(s){return 0!=(256&s[2])}function io(s,o){return s.hasOwnProperty(Gr)?s[Gr]:null}class so{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Du(){return Wo}function Wo(s){return s.type.prototype.ngOnChanges&&(s.setInput=qo),Eu}function Eu(){const s=Na(this),o=s?.current;if(o){const u=s.previous;if(u===Un)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function qo(s,o,u,d){const h=this.declaredInputs[u],g=Na(s)||function Id(s,o){return s[oo]=o}(s,{previous:Un,current:null}),v=g.current||(g.current={}),D=g.previous,E=D[h];v[h]=new so(E&&E.currentValue,o,D===Un),s[d]=o}Du.ngInherit=!0;const oo="__ngSimpleChanges__";function Na(s){return s[oo]||null}function er(s){for(;Array.isArray(s);)s=s[0];return s}function ao(s,o){return er(o[s])}function sr(s,o){return er(o[s.index])}function Ko(s,o){return s.data[o]}function uo(s,o){return s[o]}function Tr(s,o){const u=o[s];return li(u)?u:u[0]}function Qo(s){return 64==(64&s[2])}function fs(s,o){return null==o?null:s[o]}function xa(s){s[18]=0}function Ra(s,o){s[5]+=o;let u=s,d=s[3];for(;null!==d&&(1===o&&1===u[5]||-1===o&&0===u[5]);)d[5]+=o,u=d,d=d[3]}const jt={lFrame:dy(null),bindingsEnabled:!0};function Au(){return jt.bindingsEnabled}function be(){return jt.lFrame.lView}function ln(){return jt.lFrame.tView}function ac(s){return jt.lFrame.contextLView=s,s[8]}function Cd(s){return jt.lFrame.contextLView=null,s}function xr(){let s=ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function ka(){return jt.lFrame.currentTNode}function Nu(){const s=jt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function hi(s,o){const u=jt.lFrame;u.currentTNode=s,u.isParent=o}function Mu(){return jt.lFrame.isParent}function Ou(){jt.lFrame.isParent=!1}function hr(){const s=jt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function fi(){return jt.lFrame.bindingIndex}function lo(){return jt.lFrame.bindingIndex++}function ns(s){const o=jt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Pa(s){jt.lFrame.inI18n=s}function Nd(s,o){const u=jt.lFrame;u.bindingIndex=u.bindingRootIndex=s,cc(o)}function cc(s){jt.lFrame.currentDirectiveIndex=s}function Md(){return jt.lFrame.currentQueryIndex}function dc(s){jt.lFrame.currentQueryIndex=s}function Od(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function yf(s,o,u){if(u&me.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&me.Host||(h=Od(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=jt.lFrame=vf();return d.currentTNode=o,d.lView=s,!0}function Ru(s){const o=vf(),u=s[1];jt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function vf(){const s=jt.lFrame,o=null===s?null:s.child;return null===o?dy(s):o}function dy(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Cg(){const s=jt.lFrame;return jt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hc=Cg;function Sg(){const s=Cg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ri(){return jt.lFrame.selectedIndex}function Jo(s){jt.lFrame.selectedIndex=s}function xn(){const s=jt.lFrame;return Ko(s.tView,s.selectedIndex)}function Fa(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-u,E),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(u,O)}}function co(s,o,u){ho(s,o,3,u)}function ku(s,o,u,d){(3&s[2])===u&&ho(s,o,u,d)}function rs(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function ho(s,o,u,d){const g=d??-1,v=o.length-1;let D=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=d&&D>=d)break}else o[E]<0&&(s[18]+=65536),(D<g||-1==g)&&(wf(s,u,o,E),s[18]=(4294901760&s[18])+E+2),E++}function wf(s,o,u,d){const h=u[d]<0,g=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class La{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Gn(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],v=u[d++],D=u[d++];s.setAttribute(o,v,D,g)}else{const g=h,v=u[++d];ea(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function Fs(s){return 3===s||4===s||6===s}function ea(s){return 64===s.charCodeAt(0)}function ms(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||ta(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function ta(s,o,u,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function mc(s){return-1!==s}function Va(s){return 32767&s}function Lu(s,o){let u=function Fu(s){return s>>16}(s),d=o;for(;u>0;)d=d[15],u--;return d}let Ls=!0;function Ba(s){const o=Ls;return Ls=s,o}let Ua=0;const gi={};function go(s,o){const u=Bu(s,o);if(-1!==u)return u;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,mo(d.data,s),mo(o,null),mo(d.blueprint,null));const h=Uu(s,o),g=s.injectorIndex;if(mc(h)){const v=Va(h),D=Lu(h,o),E=D[1].data;for(let S=0;S<8;S++)o[g+S]=D[v+S]|E[v+S]}return o[g+8]=h,g}function mo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Uu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=Fd(h),null===d)return-1;if(u++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ju(s,o,u){!function Vu(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Da)&&(d=u[Da]),null==d&&(d=u[Da]=Ua++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function _o(s,o,u){if(u&me.Optional||void 0!==s)return s;$e()}function $u(s,o,u,d){if(u&me.Optional&&void 0===d&&(d=null),!(u&(me.Self|me.Host))){const h=s[9],g=Pt(void 0);try{return h?h.get(o,d,u&me.Optional):$t(o,d,u&me.Optional)}finally{Pt(g)}}return _o(d,0,u)}function Gu(s,o,u,d=me.Default,h){if(null!==s){if(1024&o[2]){const v=function wc(s,o,u,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=_s(g,v,u,d|me.Self,gi);if(D!==gi)return D;let E=g.parent;if(!E){const S=v[21];if(S){const O=S.get(u,gi,d);if(O!==gi)return O}E=Fd(v),v=v[15]}g=E}return h}(s,o,u,d,gi);if(v!==gi)return v}const g=_s(s,o,u,d,gi);if(g!==gi)return g}return $u(o,u,d,h)}function _s(s,o,u,d,h){const g=function yc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Da)?s[Da]:void 0;return"number"==typeof o?o>=0?255&o:Mg:o}(u);if("function"==typeof g){if(!yf(o,s,d))return d&me.Host?_o(h,0,d):$u(o,u,d,h);try{const v=g(d);if(null!=v||d&me.Optional)return v;$e()}finally{hc()}}else if("number"==typeof g){let v=null,D=Bu(s,o),E=-1,S=d&me.Host?o[16][6]:null;for((-1===D||d&me.SkipSelf)&&(E=-1===D?Uu(s,o):o[D+8],-1!==E&&ss(d,!1)?(v=o[1],D=Va(E),o=Lu(E,o)):D=-1);-1!==D;){const O=o[1];if(vc(g,D,O.data)){const F=_c(D,o,u,v,d,S);if(F!==gi)return F}E=o[D+8],-1!==E&&ss(d,o[1].data[D+8]===S)&&vc(g,D,o)?(v=O,D=Va(E),o=Lu(E,o)):D=-1}}return h}function _c(s,o,u,d,h,g){const v=o[1],D=v.data[s+8],O=ia(D,v,u,null==d?Fi(D)&&Ls:d!=v&&0!=(3&D.type),h&me.Host&&g===D);return null!==O?is(o,v,O,D):gi}function ia(s,o,u,d,h){const g=s.providerIndexes,v=o.data,D=1048575&g,E=s.directiveStart,O=g>>20,H=h?D+O:s.directiveEnd;for(let ee=d?D:D+O;ee<H;ee++){const Ie=v[ee];if(ee<E&&u===Ie||ee>=E&&Ie.type===u)return ee}if(h){const ee=v[E];if(ee&&ci(ee)&&ee.type===u)return E}return null}function is(s,o,u,d){let h=s[u];const g=o.data;if(function pi(s){return s instanceof La}(h)){const v=h;v.resolving&&function Ae(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new pe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function je(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():xe(s)}(g[u]));const D=Ba(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Pt(v.injectImpl):null;yf(s,d,me.Default);try{h=s[u]=v.factory(void 0,g,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Ng(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Wo(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==E&&Pt(E),Ba(D),v.resolving=!1,hc()}}return h}function vc(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function ss(s,o){return!(s&me.Self||s&me.Host&&o)}class Ai{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return Gu(this._tNode,this._lView,o,Lt(d),u)}}function Mg(){return new Ai(xr(),be())}function bc(s){return we(()=>{const o=s.prototype.constructor,u=o[Gr]||Hu(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Gr]||Hu(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Hu(s){return We(s)?()=>{const o=Hu(q(s));return o&&o()}:io(s)}function Fd(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function Ld(s){return function Pd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Fs(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(xr(),s)}const zu="__parameters__";function $a(s,o,u){return we(()=>{const d=function Vd(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return D.annotation=v,D;function D(E,S,O){const F=E.hasOwnProperty(zu)?E[zu]:Object.defineProperty(E,zu,{value:[]})[zu];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),E}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class _n{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=lt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function as(s,o){s.forEach(u=>Array.isArray(u)?as(u,o):o(u))}function Zu(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Ga(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function sa(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function qr(s,o,u){let d=Kn(s,o);return d>=0?s[1|d]=u:(d=~d,function If(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Ku(s,o){const u=Kn(s,o);if(u>=0)return s[1|u]}function Kn(s,o){return function kr(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<u];if(o===v)return g<<u;v>o?h=g:d=g+1}return~(h<<u)}(s,o,1)}const Cn=zt($a("Optional"),8),C=zt($a("SkipSelf"),4);var Vi=(()=>((Vi=Vi||{})[Vi.Important=1]="Important",Vi[Vi.DashCase=2]="DashCase",Vi))();const _y=/^>|^->|<!--|-->|--!>|<!-$/g,yy=/(<|>)/;const Ha=new Map;let Pg=0;const Oc="__ngContext__";function Zr(s,o){li(o)?(s[Oc]=o[20],function Fg(s){Ha.set(s[20],s)}(o)):s[Oc]=o}let oa;function Rc(s,o){return oa(s,o)}function vo(s){const o=s[3];return Pi(o)?o[3]:o}function rl(s){return Ff(s[13])}function Pf(s){return Ff(s[4])}function Ff(s){for(;null!==s&&!Pi(s);)s=s[4];return s}function za(s,o,u,d,h){if(null!=d){let g,v=!1;Pi(d)?g=d:li(d)&&(v=!0,d=d[0]);const D=er(d);0===s&&null!==u?null==h?qa(o,u,D):bo(o,u,D,h||null,!0):1===s&&null!==u?bo(o,u,D,h||null,!0):2===s?Ka(o,D,v):3===s&&o.destroyNode(D),null!=g&&function Kg(s,o,u,d,h){const g=u[7];g!==er(u)&&za(o,s,d,g,h);for(let D=10;D<u.length;D++){const E=u[D];Ds(E[1],E,s,o,d,g)}}(o,s,g,u,h)}}function kc(s,o){return s.createText(o)}function Lf(s,o,u){s.setValue(o,u)}function jg(s,o){return s.createComment(function Sf(s){return s.replace(_y,o=>o.replace(yy,"\u200b$1\u200b"))}(o))}function Wa(s,o,u){return s.createElement(o,u)}function Pc(s,o){const u=s[9],d=u.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Ra(h,-1)),u.splice(d,1)}function jf(s,o){if(s.length<=10)return;const u=10+o,d=s[u];if(d){const h=d[17];null!==h&&h!==s&&Pc(h,d),o>0&&(s[u-1][4]=d[4]);const g=Ga(s,10+o);!function Vf(s,o){Ds(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function $f(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&Ds(s,o,u,3,null,null),function Cr(s){let o=s[13];if(!o)return Gf(s[1],s);for(;o;){let u=null;if(li(o))u=o[13];else{const d=o[10];d&&(u=d)}if(!u){for(;o&&!o[4]&&o!==s;)li(o)&&Gf(o[1],o),o=o[3];null===o&&(o=s),li(o)&&Gf(o[1],o),u=o&&o[4]}o=u}}(o)}}function Gf(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Gg(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof La)){const g=u[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=h[g[v]],E=g[v+1];try{E.call(D)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function $g(s,o){const u=s.cleanup,d=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=u[g+1]];u[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Pi(o[3])){u!==o[3]&&Pc(u,o);const d=o[19];null!==d&&d.detachView(s)}!function Nf(s){Ha.delete(s[20])}(o)}}function Jd(s,o,u){return Hg(s,o.parent,u)}function Hg(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[0];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===en.None||g===en.Emulated)return null}return sr(d,u)}}function bo(s,o,u,d,h){s.insertBefore(o,u,d,h)}function qa(s,o,u){s.appendChild(o,u)}function zg(s,o,u,d,h){null!==d?bo(s,o,u,d,h):qa(s,o,u)}function il(s,o){return s.parentNode(o)}function Zg(s,o,u){return Lc(s,o,u)}function Za(s,o,u){return 40&s.type?sr(s,u):null}let sl,aa,Vc,ca,Lc=Za;function Xd(s,o){Lc=s,sl=o}function Ya(s,o,u,d){const h=Jd(s,d,o),g=o[11],D=Zg(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(u))for(let E=0;E<u.length;E++)zg(g,h,u[E],D,!1);else zg(g,h,u,D,!1);void 0!==sl&&sl(g,d,o,u,h)}function ol(s,o){if(null!==o){const u=o.type;if(3&u)return sr(o,s);if(4&u)return pr(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return ol(s,d);{const h=s[o.index];return Pi(h)?pr(-1,h):er(h)}}if(32&u)return Rc(o,s)()||er(s[o.index]);{const d=Yg(s,o);return null!==d?Array.isArray(d)?d[0]:ol(vo(s[16]),d):ol(s,o.next)}}return null}function Yg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function pr(s,o){const u=10+s+1;if(u<o.length){const d=o[u],h=d[1].firstChild;if(null!==h)return ol(d,h)}return o[7]}function Ka(s,o,u){const d=il(s,o);d&&function Fc(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function eh(s,o,u,d,h,g,v){for(;null!=u;){const D=d[u.index],E=u.type;if(v&&0===o&&(D&&Zr(er(D),d),u.flags|=2),32!=(32&u.flags))if(8&E)eh(s,o,u.child,d,h,g,!1),za(o,s,h,D,g);else if(32&E){const S=Rc(u,d);let O;for(;O=S();)za(o,s,h,O,g);za(o,s,h,D,g)}else 16&E?Qa(s,o,d,u,h,g):za(o,s,h,D,g);u=v?u.projectionNext:u.next}}function Ds(s,o,u,d,h,g){eh(u,d,s.firstChild,o,h,g,!1)}function Qa(s,o,u,d,h,g){const v=u[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)za(o,s,h,E[S],g);else eh(s,o,E,v[3],h,g,!0)}function Qn(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function nh(s,o,u){const{mergedAttrs:d,classes:h,styles:g}=u;null!==d&&Gn(s,o,d),null!==h&&Qn(s,o,h),null!==g&&function Qg(s,o,u){s.setAttribute(o,"style",u)}(s,o,g)}function ua(s){return function ul(){if(void 0===aa&&(aa=null,Ot.trustedTypes))try{aa=Ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return aa}()?.createHTML(s)||s}function Es(s){Vc=s}function sh(s){return function da(){if(void 0===ca&&(ca=null,Ot.trustedTypes))try{ca=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ca}()?.createScriptURL(s)||s}class Bc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}function b(s){return s instanceof Bc?s.changingThisBreaksApplicationSecurity:s}function A(s,o){const u=function x(s){return s instanceof Bc&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${yt})`)}return u===o}class gr{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ua(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Is{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ua(o),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ua(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const $s=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ha(s){return(s=String(s)).match($s)?s:"unsafe:"+s}function Bi(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Xa(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const An=Bi("area,br,col,hr,img,wbr"),ll=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eu=Bi("rp,rt"),Uc=Xa(An,Xa(ll,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(eu,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(eu,ll)),qf=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oh=Xa(qf,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Sr=(()=>((Sr=Sr||{})[Sr.NONE=0]="NONE",Sr[Sr.HTML=1]="HTML",Sr[Sr.STYLE=2]="STYLE",Sr[Sr.SCRIPT=3]="SCRIPT",Sr[Sr.URL=4]="URL",Sr[Sr.RESOURCE_URL=5]="RESOURCE_URL",Sr))();function tm(s){const o=hl();return o?o.sanitize(Sr.URL,s)||"":A(s,"URL")?b(s):ha(xe(s))}function Dy(s){const o=hl();if(o)return sh(o.sanitize(Sr.RESOURCE_URL,s)||"");if(A(s,"ResourceURL"))return sh(b(s));throw new pe(904,!1)}function rw(s,o,u){return function qE(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Dy:tm}(o,u)(s)}function hl(){const s=be();return s&&s[12]}const Zf=new _n("ENVIRONMENT_INITIALIZER"),Ty=new _n("INJECTOR",-1),ah=new _n("INJECTOR_DEF_TYPES");class uh{get(o,u=on){if(u===on){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return u}}function mr(...s){return{\u0275providers:Cy(0,s),\u0275fromNgModule:!0}}function Cy(s,...o){const u=[],d=new Set;let h;return as(o,g=>{const v=g;Sy(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&iw(h,u),u}function iw(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];rm(h,g=>{o.push(g)})}}function Sy(s,o,u,d){if(!(s=q(s)))return!1;let h=null,g=Jr(s);const v=!g&&un(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(g=Jr(E),!g)return!1;h=E}const D=d.has(h);if(v){if(D)return!1;if(d.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of E)Sy(S,o,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let S;d.add(h);try{as(g.imports,O=>{Sy(O,o,u,d)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&iw(S,o)}if(!D){const S=io(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:xt},{provide:ah,useValue:h,multi:!0},{provide:Zf,useValue:()=>Qe(h),multi:!0})}const E=g.providers;null==E||D||rm(E,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function rm(s,o){for(let u of s)Oe(u)&&(u=u.\u0275providers),Array.isArray(u)?rm(u,o):o(u)}const sw=re({provide:String,useValue:re});function im(s){return null!==s&&"object"==typeof s&&sw in s}function Ui(s){return"function"==typeof s}const sm=new _n("Set Injector scope."),lh={},Kf={};let om;function ch(){return void 0===om&&(om=new uh),om}class fa{}class Ny extends fa{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,am(o,v=>this.processProvider(v)),this.records.set(Ty,$c(void 0,this)),h.has("environment")&&this.records.set(fa,$c(void 0,this));const g=this.records.get(sm);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ah.multi,xt,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=$r(this),d=Pt(void 0);try{return o()}finally{$r(u),Pt(d)}}get(o,u=on,d=me.Default){this.assertNotDestroyed(),d=Lt(d);const h=$r(this),g=Pt(void 0);try{if(!(d&me.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function Oy(s){return"function"==typeof s||"object"==typeof s&&s instanceof _n}(o)&&Pn(o);D=E&&this.injectableDefInScope(E)?$c(dh(o),lh):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&me.Self?ch():this.parent).get(o,u=d&me.Optional&&u===on?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[fn]=v[fn]||[]).unshift(fe(o)),h)throw v;return function V(s,o,u,d){const h=s[fn];throw o[Ri]&&h.unshift(o[Ri]),s.message=function W(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):fe(D)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(eo,"\n  ")}`}("\n"+s.message,h,u,d),s.ngTokenPath=h,s[fn]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Pt(g),$r(h)}}resolveInjectorInitializers(){const o=$r(this),u=Pt(void 0);try{const d=this.get(Zf.multi,xt,me.Self);for(const h of d)h()}finally{$r(o),Pt(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let u=Ui(o=q(o))?o:q(o&&o.provide);const d=function aw(s){return im(s)?$c(void 0,s.useValue):$c(hh(s),lh)}(o);if(Ui(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=$c(void 0,lh,!0),h.factory=()=>Ut(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===lh&&(u.value=Kf,u.value=u.factory()),"object"==typeof u.value&&u.value&&function My(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function dh(s){const o=Pn(s),u=null!==o?o.factory:io(s);if(null!==u)return u;if(s instanceof _n)throw new pe(204,!1);if(s instanceof Function)return function ZE(s){const o=s.length;if(o>0)throw sa(o,"?"),new pe(204,!1);const u=function Or(s){const o=s&&(s[J]||s[se]);if(o){const u=function Ji(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new pe(204,!1)}function hh(s,o,u){let d;if(Ui(s)){const h=q(s);return io(h)||dh(h)}if(im(s))d=()=>q(s.useValue);else if(function Ay(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ut(s.deps||[]));else if(function Yf(s){return!(!s||!s.useExisting)}(s))d=()=>Qe(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function uw(s){return!!s.deps}(s))return io(h)||dh(h);d=()=>new h(...Ut(s.deps))}return d}function $c(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function am(s,o){for(const u of s)Array.isArray(u)?am(u,o):u&&Oe(u)?am(u.\u0275providers,o):o(u)}class um{}class xy{}class cw{resolveComponentFactory(o){throw function lw(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let fh=(()=>{class s{}return s.NULL=new cw,s})();function dw(){return tu(xr(),be())}function tu(s,o){return new yi(sr(s,o))}let yi=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=dw,s})();function hw(s){return s instanceof yi?s.nativeElement:s}class Ry{}let ph=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function KE(){const s=be(),u=Tr(xr().index,s);return(li(u)?u:s)[11]}(),s})(),QE=(()=>{class s{}return s.\u0275prov=lt({token:s,providedIn:"root",factory:()=>null}),s})();class lm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const fw=new lm("15.1.3"),ky={};function gh(s){return s.ngOriginalError}class Qf{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&gh(o);for(;u&&gh(u);)u=gh(u);return u||null}}function ji(s){return s instanceof Function?s():s}function Le(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const Lr="ng-template";function gw(s,o,u){let d=0;for(;d<s.length;){let h=s[d++];if(u&&"class"===h){if(h=s[d],-1!==Le(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function mw(s){return 4===s.type&&s.value!==Lr}function eI(s,o,u){return o===(4!==s.type||u?s.value:Lr)}function tI(s,o,u){let d=4;const h=s.attrs||[],g=function nA(s){for(let o=0;o<s.length;o++)if(Fs(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!eI(s,E,u)||""===E&&1===o.length){if(wo(d))return!1;v=!0}}else{const S=8&d?E:o[++D];if(8&d&&null!==s.attrs){if(!gw(s.attrs,S,u)){if(wo(d))return!1;v=!0}continue}const F=nI(8&d?"class":E,h,mw(s),u);if(-1===F){if(wo(d))return!1;v=!0;continue}if(""!==S){let H;H=F>g?"":h[F+1].toLowerCase();const ee=8&d?H:null;if(ee&&-1!==Le(ee,S,0)||2&d&&S!==H){if(wo(d))return!1;v=!0}}}}else{if(!v&&!wo(d)&&!wo(E))return!1;if(v&&wo(E))continue;v=!1,d=E|1&d}}return wo(d)||v}function wo(s){return 0==(1&s)}function nI(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function iI(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function Ly(s,o,u=!1){for(let d=0;d<o.length;d++)if(tI(s,o[d],u))return!0;return!1}function _w(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Ht(s,o){return s?":not("+o.trim()+")":o}function _h(s){let o=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const D=s[++u];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!wo(v)&&(o+=Ht(g,h),h=""),d=v,g=g||!wo(d);u++}return""!==h&&(o+=Ht(g,h)),o}const Be={};function yh(s){dn(ln(),be(),ri()+s,!1)}function dn(s,o,u,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&co(o,g,u)}else{const g=s.preOrderHooks;null!==g&&ku(o,g,0,u)}Jo(u)}function vh(s,o=null,u=null,d){const h=By(s,o,u,d);return h.resolveInjectorInitializers(),h}function By(s,o=null,u=null,d,h=new Set){const g=[u||xt,mr(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Ny(g,o||ch(),d||null,h)}let ml=(()=>{class s{static create(u,d){if(Array.isArray(u))return vh({name:""},d,u,"");{const h=u.name??"";return vh({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=on,s.NULL=new uh,s.\u0275prov=lt({token:s,providedIn:"any",factory:()=>Qe(Ty)}),s.__NG_ELEMENT_ID__=-1,s})();function Fn(s,o=me.Default){const u=be();return null===u?Qe(s,o):Gu(xr(),u,q(s),o)}function bl(){throw new Error("invalid")}function $y(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const v=s.data[g];dc(u[d]),v.contentQueries(2,o[g],g)}}}function zc(s,o,u,d,h,g,v,D,E,S,O){const F=o.blueprint.slice();return F[0]=h,F[2]=76|d,(null!==O||s&&1024&s[2])&&(F[2]|=1024),xa(F),F[3]=F[15]=s,F[8]=u,F[10]=v||s&&s[10],F[11]=D||s&&s[11],F[12]=E||s&&s[12]||null,F[9]=S||s&&s[9]||null,F[6]=g,F[20]=function Af(){return Pg++}(),F[21]=O,F[16]=2==o.type?s[16]:F,F}function Hs(s,o,u,d,h){let g=s.data[o];if(null===g)g=zs(s,o,u,d,h),function Ad(){return jt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const v=Nu();g.injectorIndex=null===v?-1:v.injectorIndex}return hi(g,!0),g}function zs(s,o,u,d,h){const g=ka(),v=Mu(),E=s.data[o]=function Cw(s,o,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==g&&(v?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E)),E}function nu(s,o,u,d){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function pa(s,o,u){Ru(o);try{const d=s.viewQuery;null!==d&&Ln(1,d,u);const h=s.template;null!==h&&Wc(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$y(s,o),s.staticViewQueries&&Ln(2,s.viewQuery,u);const g=s.components;null!==g&&function wl(s,o){for(let u=0;u<o.length;u++)kn(s,o[u])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Sg()}}function rp(s,o,u,d){const h=o[2];if(128!=(128&h)){Ru(o);try{xa(o),function Ps(s){return jt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Wc(s,o,u,2,d);const v=3==(3&h);if(v){const S=s.preOrderCheckHooks;null!==S&&co(o,S,null)}else{const S=s.preOrderHooks;null!==S&&ku(o,S,0,null),rs(o,0)}if(function yr(s){for(let o=rl(s);null!==o;o=Pf(o)){if(!o[2])continue;const u=o[9];for(let d=0;d<u.length;d++){const h=u[d];512&h[2]||Ra(h[3],1),h[2]|=512}}}(o),function mI(s){for(let o=rl(s);null!==o;o=Pf(o))for(let u=10;u<o.length;u++){const d=o[u],h=d[1];Qo(d)&&rp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&$y(s,o),v){const S=s.contentCheckHooks;null!==S&&co(o,S)}else{const S=s.contentHooks;null!==S&&ku(o,S,1),rs(o,1)}!function jy(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Jo(~h);else{const g=h,v=u[++d],D=u[++d];Nd(v,g),D(2,o[g])}}}finally{Jo(-1)}}(s,o);const D=s.components;null!==D&&function np(s,o){for(let u=0;u<o.length;u++)vm(s,o[u])}(o,D);const E=s.viewQuery;if(null!==E&&Ln(2,E,d),v){const S=s.viewCheckHooks;null!==S&&co(o,S)}else{const S=s.viewHooks;null!==S&&ku(o,S,2),rs(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ra(o[3],-1))}finally{Sg()}}}function Wc(s,o,u,d,h){const g=ri(),v=2&d;try{Jo(-1),v&&o.length>22&&dn(s,o,22,!1),u(d,h)}finally{Jo(g)}}function ip(s,o,u){if(Ca(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function ru(s,o,u){Au()&&(function zy(s,o,u,d){const h=u.directiveStart,g=u.directiveEnd;Fi(u)&&function kw(s,o,u){const d=sr(o,s),h=Dh(u),g=s[10],v=iu(s,zc(s,h,null,u.onPush?32:16,d,o,g,g.createRenderer(d,u),null,null,null));s[o.index]=v}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||go(u,o),Zr(d,o);const v=u.initialInputs;for(let D=h;D<g;D++){const E=s.data[D],S=is(o,s,D,u);Zr(S,o),null!==v&&pI(0,D-h,S,E,0,v),ci(E)&&(Tr(u.index,o)[8]=is(o,s,D,u))}}(s,o,u,sr(u,o)),64==(64&u.flags)&&Wy(s,o,u))}function sp(s,o,u=sr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],D=-1===v?u(o,s):s[v];s[h++]=D}}}function Dh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gm(s,o,u,d,h,g,v,D,E,S){const O=22+d,F=O+h,H=function Tw(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Be);return u}(O,F),ee="function"==typeof S?S():S;return H[1]={type:s,blueprint:H,template:u,queries:null,viewQuery:D,declTNode:o,data:H.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function Eh(s,o,u,d){const h=bm(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Dl(s).push(d,h.length-1))}function Sw(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const g=s[h];null===d?Aw(u,o,h,g):d.hasOwnProperty(h)&&Aw(u,o,d[h],g)}return u}function Aw(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Vr(s,o,u,d,h,g,v,D){const E=sr(o,u);let O,S=o.inputs;!D&&null!=S&&(O=S[d])?(Ch(s,u,O,d,h),Fi(o)&&Gy(u,o.index)):3&o.type&&(d=function Mw(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(E,d,h))}function Gy(s,o){const u=Tr(o,s);16&u[2]||(u[2]|=32)}function nn(s,o,u,d){let h=!1;if(Au()){const g=null===d?null:{"":-1},v=function xw(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];if(Ly(o,v.selectors,!1))if(d||(d=[]),ci(v))if(null!==v.findHostDirectiveDefs){const D=[];h=h||new Map,v.findHostDirectiveDefs(v,D,h),d.unshift(...D,v),_m(s,o,D.length)}else d.unshift(v),_m(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,u);let D,E;null===v?D=E=null:[D,E]=v,null!==D&&(h=!0,wn(s,o,u,D,g,E)),g&&function Rw(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new pe(-301,!1);d.push(o[h],g)}}}(u,d,g)}return u.mergedAttrs=ms(u.mergedAttrs,u.attrs),h}function wn(s,o,u,d,h,g){for(let S=0;S<d.length;S++)ju(go(u,o),s,d[S].type);!function hI(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let v=!1,D=!1,E=nu(s,o,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];u.mergedAttrs=ms(u.mergedAttrs,O.hostAttrs),fI(s,u,o,E,O),dI(E,O,h),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const F=O.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),v=!0),!D&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),D=!0),E++}!function Nw(s,o,u){const h=o.directiveEnd,g=s.data,v=o.attrs,D=[];let E=null,S=null;for(let O=o.directiveStart;O<h;O++){const F=g[O],H=u?u.get(F):null,Ie=H?H.outputs:null;E=Sw(F.inputs,O,E,H?H.inputs:null),S=Sw(F.outputs,O,S,Ie);const Ne=null===E||null===v||mw(o)?null:gI(E,O,v);D.push(Ne)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=D,o.inputs=E,o.outputs=S}(s,u,g)}function Wy(s,o,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,v=function lc(){return jt.lFrame.currentDirectiveIndex}();try{Jo(g);for(let D=d;D<h;D++){const E=s.data[D],S=o[D];cc(D),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&qy(E,S)}}finally{Jo(-1),cc(v)}}function qy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function _m(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function dI(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;ci(o)&&(u[""]=s)}}function fI(s,o,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=io(h.type)),v=new La(g,ci(h),Fn);s.blueprint[d]=v,u[d]=v,function Ih(s,o,u,d,h){const g=h.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const D=~o.index;(function Hy(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=D&&v.push(D),v.push(u,d,g)}}(s,o,d,nu(s,u,h.hostVars,Be),h)}function ym(s,o,u,d,h,g,v){if(null==g)s.removeAttribute(o,h,u);else{const D=null==v?xe(g):v(g,d||"",h);s.setAttribute(o,h,D,u)}}function pI(s,o,u,d,h,g){const v=g[o];if(null!==v){const D=d.setInput;for(let E=0;E<v.length;){const S=v[E++],O=v[E++],F=v[E++];null!==D?d.setInput(u,F,S,O):u[O]=F}}}function gI(s,o,u){let d=null,h=0;for(;h<u.length;){const g=u[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const v=s[g];for(let D=0;D<v.length;D+=2)if(v[D]===o){d.push(g,v[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function qc(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function vm(s,o){const u=Tr(o,s);if(Qo(u)){const d=u[1];48&u[2]?rp(d,u,d.template,u[8]):u[5]>0&&Yr(u)}}function Yr(s){for(let d=rl(s);null!==d;d=Pf(d))for(let h=10;h<d.length;h++){const g=d[h];if(Qo(g))if(512&g[2]){const v=g[1];rp(v,g,v.template,g[8])}else g[5]>0&&Yr(g)}const u=s[1].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Tr(u[d],s);Qo(h)&&h[5]>0&&Yr(h)}}function kn(s,o){const u=Tr(o,s),d=u[1];(function Pw(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),pa(d,u,u[8])}function iu(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ni(s){for(;s;){s[2]|=32;const o=vo(s);if(Sa(s)&&!o)return s;s=o}return null}function Br(s,o,u,d=!0){const h=o[10];h.begin&&h.begin();try{rp(s,o,s.template,u)}catch(v){throw d&&op(o,v),v}finally{h.end&&h.end()}}function Ln(s,o,u){dc(0),o(s,u)}function bm(s){return s[7]||(s[7]=[])}function Dl(s){return s.cleanup||(s.cleanup=[])}function op(s,o){const u=s[9],d=u?u.get(Qf,null):null;d&&d.handleError(o)}function Ch(s,o,u,d,h){for(let g=0;g<u.length;){const v=u[g++],D=u[g++],E=o[v],S=s.data[v];null!==S.setInput?S.setInput(E,h,d,D):E[D]=h}}function ap(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?h=he(h,D):2==g&&(d=he(d,D+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function Ws(s,o,u,d,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&d.push(er(g)),Pi(g))for(let D=10;D<g.length;D++){const E=g[D],S=E[1].firstChild;null!==S&&Ws(E[1],E,S,d)}const v=u.type;if(8&v)Ws(s,o,u.child,d);else if(32&v){const D=Rc(u,o);let E;for(;E=D();)d.push(E)}else if(16&v){const D=Yg(o,u);if(Array.isArray(D))d.push(...D);else{const E=vo(o[16]);Ws(E[1],E,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Sh{get rootNodes(){const o=this._lView,u=o[1];return Ws(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Pi(o)){const u=o[8],d=u?u.indexOf(this):-1;d>-1&&(jf(o,d),Ga(u,d))}this._attachedToViewContainer=!1}$f(this._lView[1],this._lView)}onDestroy(o){Eh(this._lView[1],this._lView,null,o)}markForCheck(){Ni(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Br(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fr(s,o){Ds(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class Ah extends Sh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Br(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Zy extends fh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=un(o);return new Do(u,this.ngModule)}}function wm(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Yy{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=Lt(d);const h=this.injector.get(o,ky,d);return h!==ky||u===ky?h:this.parentInjector.get(o,u,d)}}class Do extends xy{get inputs(){return wm(this.componentDef.inputs)}get outputs(){return wm(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function yw(s){return s.map(_h).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let g=(h=h||this.ngModule)instanceof fa?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Yy(o,g):o,D=v.get(Ry,null);if(null===D)throw new pe(407,!1);const E=v.get(QE,null),S=D.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=d?function mm(s,o,u){return s.selectRootElement(o,u===en.ShadowDom)}(S,d,this.componentDef.encapsulation):Wa(S,O,function Dm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),H=this.componentDef.onPush?288:272,ee=gm(0,null,null,1,0,null,null,null,null,null),Ie=zc(null,ee,null,H,null,null,D,S,E,v,null);let Ne,nt;Ru(Ie);try{const _t=this.componentDef;let St,Te=null;_t.findHostDirectiveDefs?(St=[],Te=new Map,_t.findHostDirectiveDefs(_t,St,Te),St.push(_t)):St=[_t];const Zt=function Em(s,o){const u=s[1];return s[22]=o,Hs(u,22,2,"#host",null)}(Ie,F),nr=function up(s,o,u,d,h,g,v,D){const E=h[1];!function Lw(s,o,u,d){for(const h of s)o.mergedAttrs=ms(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(ap(o,o.mergedAttrs,!0),null!==u&&nh(d,u,o))}(d,s,o,v);const S=g.createRenderer(o,u),O=zc(h,Dh(u),null,u.onPush?32:16,h[s.index],s,g,S,D||null,null,null);return E.firstCreatePass&&_m(E,s,d.length-1),iu(h,O),h[s.index]=O}(Zt,F,_t,St,Ie,D,S);nt=Ko(ee,22),F&&function lp(s,o,u,d){if(d)Gn(s,u,["ng-version",fw.full]);else{const{attrs:h,classes:g}=function tr(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&u.push(g);else{if(!wo(h))break;h=g}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&Gn(s,u,h),g&&g.length>0&&Qn(s,u,g.join(" "))}}(S,_t,F,d),void 0!==u&&function Vw(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=u[h];d.push(null!=g?Array.from(g):null)}}(nt,this.ngContentSelectors,u),Ne=function Ky(s,o,u,d,h,g){const v=xr(),D=h[1],E=sr(v,h);wn(D,h,v,u,null,d);for(let O=0;O<u.length;O++)Zr(is(h,D,v.directiveStart+O,v),h);Wy(D,h,v),E&&Zr(E,h);const S=is(h,D,v.directiveStart+v.componentOffset,v);if(s[8]=h[8]=S,null!==g)for(const O of g)O(S,o);return ip(D,v,s),S}(nr,_t,St,Te,Ie,[Bw]),pa(ee,Ie,null)}finally{Sg()}return new $i(this.componentType,Ne,tu(nt,Ie),Ie,nt)}}class $i extends um{constructor(o,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Ah(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Ch(g[1],g,h,o,u),Gy(g,this._tNode.index)}}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Bw(){const s=xr();Fa(be()[1],s)}function Im(s){let o=function Uw(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(ci(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new pe(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=Tm(s.inputs),v.declaredInputs=Tm(s.declaredInputs),v.outputs=Tm(s.outputs);const D=h.hostBindings;D&&vI(s,D);const E=h.viewQuery,S=h.contentQueries;if(E&&Cm(s,E),S&&yI(s,S),ve(s.inputs,h.inputs),ve(s.declaredInputs,h.declaredInputs),ve(s.outputs,h.outputs),ci(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(s),D===Im&&(u=!1)}}o=Object.getPrototypeOf(o)}!function jw(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=ms(h.hostAttrs,u=ms(u,h.hostAttrs))}}(d)}function Tm(s){return s===Un?{}:s===xt?[]:s}function Cm(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function yI(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{o(d,h,g),u(d,h,g)}:o}function vI(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}let Il=null;function Yc(){if(!Il){const s=Ot.Symbol;if(s&&s.iterator)Il=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const d=o[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Il=d)}}}return Il}function Vn(s){return!!Nm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Yc()in s)}function Nm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function us(s,o,u){return s[o]=u}function vi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function qs(s,o,u,d){const h=vi(s,o,u);return vi(s,o+1,d)||h}function Mm(s,o,u,d){const h=be();return vi(h,lo(),o)&&(ln(),function ga(s,o,u,d,h,g){const v=sr(s,o);ym(o[11],v,g,s.value,u,d,h)}(xn(),h,s,o,u,d)),Mm}function Eo(s,o,u,d){return vi(s,lo(),u)?o+xe(u)+d:Be}function Ww(s,o,u,d,h,g,v,D){const E=be(),S=ln(),O=s+22,F=S.firstCreatePass?function Qt(s,o,u,d,h,g,v,D,E){const S=o.consts,O=Hs(o,s,4,v||null,fs(S,D));nn(o,u,O,fs(S,E)),Fa(o,O);const F=O.tViews=gm(2,O,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,S,E,o,u,d,h,g,v):S.data[O];hi(F,!1);const H=E[11].createComment("");Ya(S,E,H,F),Zr(H,E),iu(E,E[O]=qc(H,E,H,F)),Ql(F)&&ru(S,E,F),null!=v&&sp(E,F,D)}function kh(s){return uo(function Sd(){return jt.lFrame.contextLView}(),22+s)}function Xc(s,o,u){const d=be();return vi(d,lo(),o)&&Vr(ln(),xn(),d,s,o,d[11],u,!1),Xc}function Ph(s,o,u,d,h){const v=h?"class":"style";Ch(s,u,o.inputs[v],v,d)}function dp(s,o,u,d){const h=be(),g=ln(),v=22+s,D=h[11],E=h[v]=Wa(D,o,function Ag(){return jt.lFrame.currentNamespace}()),S=g.firstCreatePass?function qw(s,o,u,d,h,g,v){const D=o.consts,S=Hs(o,s,2,h,fs(D,g));return nn(o,u,S,fs(D,v)),null!==S.attrs&&ap(S,S.attrs,!1),null!==S.mergedAttrs&&ap(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,h,0,o,u,d):g.data[v];return hi(S,!0),nh(D,E,S),32!=(32&S.flags)&&Ya(g,h,E,S),0===function Su(){return jt.lFrame.elementDepthCount}()&&Zr(E,h),function ic(){jt.lFrame.elementDepthCount++}(),Ql(S)&&(ru(g,h,S),ip(g,S,h)),null!==d&&sp(h,S),dp}function hp(){let s=xr();Mu()?Ou():(s=s.parent,hi(s,!1));const o=s;!function sc(){jt.lFrame.elementDepthCount--}();const u=ln();return u.firstCreatePass&&(Fa(u,s),Ca(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kd(s){return 0!=(8&s.flags)}(o)&&Ph(u,o,be(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pu(s){return 0!=(16&s.flags)}(o)&&Ph(u,o,be(),o.stylesWithoutHost,!1),hp}function nv(s,o,u,d){return dp(s,o,u,d),hp(),nv}function fp(s,o,u){const d=be(),h=ln(),g=s+22,v=h.firstCreatePass?function Zw(s,o,u,d,h){const g=o.consts,v=fs(g,d),D=Hs(o,s,8,"ng-container",v);return null!==v&&ap(D,v,!0),nn(o,u,D,fs(g,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(g,h,d,o,u):h.data[g];hi(v,!0);const D=d[g]=d[11].createComment("");return Ya(h,d,D,v),Zr(D,d),Ql(v)&&(ru(h,d,v),ip(h,v,d)),null!=u&&sp(d,v),fp}function xm(){let s=xr();const o=ln();return Mu()?Ou():(s=s.parent,hi(s,!1)),o.firstCreatePass&&(Fa(o,s),Ca(s)&&o.queries.elementEnd(s)),xm}function Kw(){return be()}function rv(s){return!!s&&"function"==typeof s.then}function ed(s){return!!s&&"function"==typeof s.subscribe}const iv=ed;function sv(s,o,u,d){const h=be(),g=ln(),v=xr();return function av(s,o,u,d,h,g,v){const D=Ql(d),S=s.firstCreatePass&&Dl(s),O=o[8],F=bm(o);let H=!0;if(3&d.type||v){const Ne=sr(d,o),nt=v?v(Ne):Ne,_t=F.length,St=v?Zt=>v(er(Zt[d.index])):d.index;let Te=null;if(!v&&D&&(Te=function ov(s,o,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===d){const D=o[7],E=h[g+2];return D.length>E?D[E]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=g,Te.__ngLastListenerFn__=g,H=!1;else{g=To(d,o,O,g,!1);const Zt=u.listen(nt,h,g);F.push(g,Zt),S&&S.push(h,St,_t,_t+1)}}else g=To(d,o,O,g,!1);const ee=d.outputs;let Ie;if(H&&null!==ee&&(Ie=ee[h])){const Ne=Ie.length;if(Ne)for(let nt=0;nt<Ne;nt+=2){const nr=o[Ie[nt]][Ie[nt+1]].subscribe(g),Nr=F.length;F.push(g,nr),S&&S.push(h,d.index,Nr,-(Nr+1))}}}(g,h,h[11],v,s,o,d),sv}function Fh(s,o,u,d){try{return!1!==u(d)}catch(h){return op(s,h),!1}}function To(s,o,u,d,h){return function g(v){if(v===Function)return d;Ni(s.componentOffset>-1?Tr(s.index,o):o);let E=Fh(o,0,d,v),S=g.__ngNextListenerFn__;for(;S;)E=Fh(o,0,S,v)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Rm(s=1){return function hy(s){return(jt.lFrame.contextLView=function xd(s,o){for(;s>0;)o=o[15],s--;return o}(s,jt.lFrame.contextLView))[8]}(s)}function Qw(s,o){let u=null;const d=function rI(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Ly(s,g,!0):_w(d,g))return h}else u=h}return u}function Lh(s){const o=be()[16][6];if(!o.projection){const d=o.projection=sa(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?Qw(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function uv(s,o=0,u){const d=be(),h=ln(),g=Hs(h,22+s,16,null,u||null);null===g.projection&&(g.projection=o),Ou(),32!=(32&g.flags)&&function th(s,o,u){Qa(o[11],0,o,u,Jd(s,u,o),Zg(u.parent||o[6],u,o))}(h,d,g)}function km(s,o,u){return pp(s,"",o,"",u),km}function pp(s,o,u,d,h){const g=be(),v=Eo(g,o,u,d);return v!==Be&&Vr(ln(),xn(),g,s,v,g[11],h,!1),pp}function Lm(s,o){return s<<17|o<<2}function su(s){return s>>17&32767}function dv(s){return 2|s}function Ys(s){return(131068&s)>>2}function Cl(s,o){return-131069&s|o<<2}function hv(s){return 1|s}function Co(s,o,u,d,h){const g=s[u+1],v=null===o;let D=d?su(g):Ys(g),E=!1;for(;0!==D&&(!1===E||v);){const O=s[D+1];rD(s[D],o)&&(E=!0,s[D+1]=d?hv(O):dv(O)),D=d?su(O):Ys(O)}E&&(s[u+1]=d?dv(g):hv(g))}function rD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Kn(s,o)>=0}const br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fv(s){return s.substring(br.key,br.keyEnd)}function iD(s,o){const u=br.textEnd;return u===o?-1:(o=br.keyEnd=function MI(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,br.key=o,u),Bh(s,o,u))}function Bh(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function pv(s,o,u){return No(s,o,u,!1),pv}function gv(s,o){return No(s,o,null,!0),gv}function mv(s){Ms(qr,Ao,s,!0)}function Ao(s,o){for(let u=function AI(s){return function oD(s){br.key=0,br.keyEnd=0,br.value=0,br.valueEnd=0,br.textEnd=s.length}(s),iD(s,Bh(s,0,br.textEnd))}(o);u>=0;u=iD(o,u))qr(s,fv(o),!0)}function No(s,o,u,d){const h=be(),g=ln(),v=ns(2);g.firstUpdatePass&&Vm(g,s,v,d),o!==Be&&vi(h,v,o)&&Nl(g,g.data[ri()],h,h[11],s,h[v+1]=function bv(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(b(s)))),s}(o,u),d,v)}function Ms(s,o,u,d){const h=ln(),g=ns(2);h.firstUpdatePass&&Vm(h,null,g,d);const v=be();if(u!==Be&&vi(v,g,u)){const D=h.data[ri()];if(Um(D,d)&&!Kr(h,g)){let E=d?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(u=he(E,u||"")),Ph(h,D,v,u,d)}else!function td(s,o,u,d,h,g,v,D){h===Be&&(h=xt);let E=0,S=0,O=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==O||null!==F;){const H=E<h.length?h[E+1]:void 0,ee=S<g.length?g[S+1]:void 0;let Ne,Ie=null;O===F?(E+=2,S+=2,H!==ee&&(Ie=F,Ne=ee)):null===F||null!==O&&O<F?(E+=2,Ie=O):(S+=2,Ie=F,Ne=ee),null!==Ie&&Nl(s,o,u,d,Ie,Ne,v,D),O=E<h.length?h[E]:null,F=S<g.length?g[S]:null}}(h,D,v,v[11],v[g+1],v[g+1]=function Bm(s,o,u){if(null==u||""===u)return xt;const d=[],h=b(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,g)}}function Kr(s,o){return o>=s.expandoStartIndex}function Vm(s,o,u,d){const h=s.data;if(null===h[u+1]){const g=h[ri()],v=Kr(s,u);Um(g,d)&&null===o&&!v&&(o=!1),o=function _v(s,o,u,d){const h=function ps(s){const o=jt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Uh(u=vv(null,s,o,u,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=vv(h,s,o,u,d),null===g){let E=function yv(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Ys(d))return s[su(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=vv(null,s,o,E[1],d),E=Uh(E,o.attrs,d),function Sl(s,o,u,d){s[su(u?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else g=function lD(s,o,u){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Uh(d,s[g].hostAttrs,u);return Uh(d,o.attrs,u)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,d),function CI(s,o,u,d,h,g){let v=g?o.classBindings:o.styleBindings,D=su(v),E=Ys(v);s[d]=u;let O,S=!1;if(Array.isArray(u)?(O=u[1],(null===O||Kn(u,O)>0)&&(S=!0)):O=u,h)if(0!==E){const H=su(s[D+1]);s[d+1]=Lm(H,D),0!==H&&(s[H+1]=Cl(s[H+1],d)),s[D+1]=function II(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=Lm(D,0),0!==D&&(s[D+1]=Cl(s[D+1],d)),D=d;else s[d+1]=Lm(E,0),0===D?D=d:s[E+1]=Cl(s[E+1],d),E=d;S&&(s[d+1]=dv(s[d+1])),Co(s,O,d,!0),Co(s,O,d,!1),function nD(s,o,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Kn(g,o)>=0&&(u[d+1]=hv(u[d+1]))}(o,O,s,d,g),v=Lm(D,E),g?o.classBindings=v:o.styleBindings=v}(h,g,o,u,v,d)}}function vv(s,o,u,d,h){let g=null;const v=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<v&&(g=o[D],d=Uh(d,g.hostAttrs,h),g!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function Uh(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qr(s,v,!!u||o[++g]))}return void 0===s?null:s}function Nl(s,o,u,d,h,g,v,D){if(!(3&o.type))return;const E=s.data,S=E[D+1],O=function tD(s){return 1==(1&s)}(S)?jh(E,o,u,h,Ys(S),v):void 0;gp(O)||(gp(g)||function EI(s){return 2==(2&s)}(S)&&(g=jh(E,null,u,h,D,v)),function al(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:Vi.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Vi.Important),s.setStyle(u,d,h,g))}}(d,v,ao(ri(),u),h,g))}function jh(s,o,u,d,h,g){const v=null===o;let D;for(;h>0;){const E=s[h],S=Array.isArray(E),O=S?E[1]:E,F=null===O;let H=u[h+1];H===Be&&(H=F?xt:void 0);let ee=F?Ku(H,d):O===d?H:void 0;if(S&&!gp(ee)&&(ee=Ku(E,d)),gp(ee)&&(D=ee,v))return D;const Ie=s[h+1];h=v?su(Ie):Ys(Ie)}if(null!==o){let E=g?o.residualClasses:o.residualStyles;null!=E&&(D=Ku(E,d))}return D}function gp(s){return void 0!==s}function Um(s,o){return 0!=(s.flags&(o?8:16))}function wv(s,o=""){const u=be(),d=ln(),h=s+22,g=d.firstCreatePass?Hs(d,h,1,o,null):d.data[h],v=u[h]=kc(u[11],o);Ya(d,u,v,g),hi(g,!1)}function jm(s){return $m("",s,""),jm}function $m(s,o,u){const d=be(),h=Eo(d,s,o,u);return h!==Be&&function ma(s,o,u){const d=ao(o,s);Lf(s[11],d,u)}(d,ri(),h),$m}function hD(s,o,u,d,h){Ms(qr,Ao,function Tl(s,o,u,d,h,g){const D=qs(s,fi(),u,h);return ns(2),D?o+xe(u)+d+xe(h)+g:Be}(be(),s,o,u,d,h),!0)}function Hm(s,o,u){const d=be();return vi(d,lo(),o)&&Vr(ln(),xn(),d,s,o,d[11],u,!0),Hm}const _a=void 0;var xl=["en",[["a","p"],["AM","PM"],_a],[["AM","PM"],_a,_a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_a,"{1} 'at' {0}",_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yD(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Mo={};function ou(s){const o=function BI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Rv(o);if(u)return u;const d=o.split("-")[0];if(u=Rv(d),u)return u;if("en"===d)return xl;throw new pe(701,!1)}function rd(s){return ou(s)[Ft.PluralCase]}function Rv(s){return s in Mo||(Mo[s]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[s]),Mo[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const UI=["zero","one","two","few","many"],zh="en-US",wp={marker:"element"},Wm={marker:"ICU"};var ar=(()=>((ar=ar||{})[ar.SHIFT=2]="SHIFT",ar[ar.APPEND_EAGERLY=1]="APPEND_EAGERLY",ar[ar.COMMENT=2]="COMMENT",ar))();let kv=zh;function Rl(s){(function it(s,o){null==s&&Je(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(kv=s.toLowerCase().replace(/_/g,"-"))}function Pv(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Za(s,0,u):er(u[h])}function Fv(s,o,u,d,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=d,D=null;if(3&o.type||(D=v,v=h),null!==v&&-1===o.componentOffset)for(let E=1;E<g.length;E++)bo(s,v,u[g[E]],D,!1)}}function vD(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];Lv(d)||$I(d,o)&&null===GI(d)&&Vv(d,o.index)}}function Lv(s){return!(64&s.type)}function $I(s,o){return Lv(o)||s.index>o.index}function GI(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Vv(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Xd(Pv,Fv),s.insertBeforeIndex=o)}function wr(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function WI(s,o,u){const d=zs(s,u,64,null,null);return vD(o,d),d}function qm(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Bv(s){return s>>>17}function bD(s){return(131070&s)>>>1}let Wh=0,sd=0;function Ym(s,o,u,d){const h=u[11];let v,g=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const S=o[++D];null===u[S]&&(u[S]=kc(h,E))}else if("number"==typeof E)switch(1&E){case 0:const S=Bv(E);let O,F;if(null===g&&(g=S,v=il(h,d)),S===g?(O=d,F=v):(O=null,F=er(u[S])),null!==F){const Ne=bD(E);bo(h,F,u[Ne],O,!1);const _t=wr(s,Ne);if(null!==_t&&"object"==typeof _t){const St=qm(_t,u);null!==St&&Ym(s,_t.create[St],u,u[_t.anchorIdx])}}break;case 1:const ee=o[++D],Ie=o[++D];ym(h,ao(E>>>1,u),null,null,ee,Ie,null)}else switch(E){case Wm:const S=o[++D],O=o[++D];null===u[O]&&Zr(u[O]=jg(h,S),u);break;case wp:const F=o[++D],H=o[++D];null===u[H]&&Zr(u[H]=Wa(h,F,null),u)}}}function Km(s,o,u,d,h){for(let g=0;g<u.length;g++){const v=u[g],D=u[++g];if(v&h){let E="";for(let S=g+1;S<=g+D;S++){const O=u[S];if("string"==typeof O)E+=O;else if("number"==typeof O)if(O<0)E+=xe(o[d-O]);else{const F=O>>>2;switch(3&O){case 1:const H=u[++S],ee=u[++S],Ie=s.data[F];"string"==typeof Ie?ym(o[11],o[F],null,Ie,H,E,ee):Vr(s,Ie,o,H,E,o[11],ee,!1);break;case 0:const Ne=o[F];null!==Ne&&Lf(o[11],Ne,E);break;case 2:ZI(s,wr(s,F),o,E);break;case 3:jv(s,wr(s,F),d,o)}}}}else{const E=u[g+1];if(E>0&&3==(3&E)){const O=wr(s,E>>>2);o[O.currentCaseLViewIndex]<0&&jv(s,O,d,o)}}g+=D}}function jv(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let g=Wh;h<0&&(h=d[o.currentCaseLViewIndex]=~h,g=-1),Km(s,d,o.update[h],u,g)}}function ZI(s,o,u,d){const h=function wD(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function jI(s,o){const u=rd(o)(parseInt(s,10)),d=UI[u];return void 0!==d?d:"other"}(o,function Dp(){return kv}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(qm(o,u)!==h&&($v(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[o.anchorIdx];v&&Ym(s,o.create[h],u,v)}}function $v(s,o,u){let d=qm(o,u);if(null!==d){const h=o.remove[d];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const D=ao(v,u);null!==D&&Ka(u[11],D)}else $v(s,wr(s,~v),u)}}}function Gv(){const s=[];let u,d,o=-1;function g(D,E){o=0;const S=qm(D,E);d=null!==S?D.remove[S]:xt}function v(){if(o<d.length){const D=d[o++];return D>0?u[D]:(s.push(o,d),g(u[1].data[~D],u),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(D,E){for(u=E;s.length;)s.pop();return g(D.value,E),v}}const au=/\ufffd(\d+):?\d*\ufffd/gi,Hv=/\ufffd(\d+)\ufffd/,Tp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ED=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ID=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,QI=/\uE500/g;function qv(s,o,u,d,h,g,v){const D=nu(s,d,1,null);let E=D<<ar.SHIFT,S=Nu();o===S&&(S=null),null===S&&(E|=ar.APPEND_EAGERLY),v&&(E|=ar.COMMENT,function Rf(s){void 0===oa&&(oa=s())}(Gv)),h.push(E,null===g?"":g);const O=zs(s,D,v?32:1,null===g?"":g,null);vD(u,O);const F=O.index;return hi(O,!1),null!==S&&o!==S&&function zI(s,o){let u=s.insertBeforeIndex;null===u?(Xd(Pv,Fv),u=s.insertBeforeIndex=[null,o]):(function Ye(s,o,u){s!=o&&Je(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(S,F),O}function TD(s,o,u,d,h,g,v){const D=v.match(au),E=qv(s,o,u,g,d,D?null:v,!1);D&&kl(h,v,E.index,null,0,null)}function kl(s,o,u,d,h,g){const v=s.length,D=v+1;s.push(null,null);const E=v+2,S=o.split(au);let O=0;for(let F=0;F<S.length;F++){const H=S[F];if(1&F){const ee=h+parseInt(H,10);s.push(-1-ee),O|=Sp(ee)}else""!==H&&s.push(H)}return s.push(u<<2|(d?1:0)),d&&s.push(d,g),s[v]=O,s[D]=s.length-E,O}function Sp(s){return 1<<Math.min(s,31)}function Qm(s){let o,g,u="",d=0,h=!1;for(;null!==(o=ED.exec(s));)h?o[0]===`\ufffd/*${g}\ufffd`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),g=o[1],h=!0);return u+=s.slice(d),u}function Qv(s,o,u,d,h,g){let v=0;const D={type:h.type,currentCaseLViewIndex:nu(s,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function Xm(s,o,u){s.push(Sp(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,g),function HI(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,g,D);const E=h.values;for(let S=0;S<E.length;S++){const O=E[S],F=[];for(let H=0;H<O.length;H++){const ee=O[H];if("string"!=typeof ee){const Ie=F.push(ee)-1;O[H]=`\x3c!--\ufffd${Ie}\ufffd--\x3e`}}v=XI(s,D,o,u,d,h.cases[S],O.join(""),F)|v}v&&function Ap(s,o,u){s.push(o,1,u<<2|3)}(u,v,g)}function JI(s){const o=[],u=[];let d=1,h=0;const g=Jm(s=s.replace(Tp,function(v,D,E){return d="select"===E?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<g.length;){let D=g[v++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=Jm(g[v++]);o.length>u.length&&u.push(E)}return{type:d,mainBinding:h,cases:o,values:u}}function Jm(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const D=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const E=s.substring(o,D);Tp.test(E)?d.push(JI(E)):d.push(E),o=D+1}}else{if(0==u.length){const E=s.substring(o,D);d.push(E),o=D+1}u.push("{")}}const v=s.substring(o);return d.push(v),d}function XI(s,o,u,d,h,g,v,D){const E=[],S=[],O=[];o.cases.push(g),o.create.push(E),o.remove.push(S),o.update.push(O);const H=function At(s){const o=new Is(s);return function js(){try{return!!(new window.DOMParser).parseFromString(ua(""),"text/html")}catch{return!1}}()?new gr(o):o}(function la(){return void 0!==Vc?Vc:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ee=function em(s){return"content"in s&&function zE(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(H)||H;return ee?CD(s,o,u,d,E,S,O,ee,h,D,0):0}function CD(s,o,u,d,h,g,v,D,E,S,O){let F=0,H=D.firstChild;for(;H;){const ee=nu(s,u,1,null);switch(H.nodeType){case Node.ELEMENT_NODE:const Ie=H,Ne=Ie.tagName.toLowerCase();if(Uc.hasOwnProperty(Ne)){Np(h,wp,Ne,E,ee),s.data[ee]=Ne;const Te=Ie.attributes;for(let Zt=0;Zt<Te.length;Zt++){const nr=Te.item(Zt),Nr=nr.name.toLowerCase();nr.value.match(au)?oh.hasOwnProperty(Nr)&&kl(v,nr.value,ee,nr.name,0,qf[Nr]?ha:null):ND(h,ee,nr)}F=CD(s,o,u,d,h,g,v,H,ee,S,O+1)|F,SD(g,ee,O)}break;case Node.TEXT_NODE:const nt=H.textContent||"",_t=nt.match(au);Np(h,null,_t?"":nt,E,ee),SD(g,ee,O),_t&&(F=kl(v,nt,ee,null,0,null)|F);break;case Node.COMMENT_NODE:const St=Hv.exec(H.textContent||"");if(St){const Zt=S[parseInt(St[1],10)];Np(h,Wm,"",E,ee),Qv(s,u,d,E,Zt,ee),AD(g,ee,O)}}H=H.nextSibling}return F}function SD(s,o,u){0===u&&s.push(o)}function AD(s,o,u){0===u&&(s.push(~o),s.push(o))}function Np(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function qI(s,o,u){return s|o<<17|u<<1}(0,d,h))}function ND(s,o,u){s.push(o<<1|1,u.name,u.value)}function od(s,o,u=-1){const d=ln(),h=be(),g=22+s,v=fs(d.consts,o),D=Nu();d.firstCreatePass&&function Wv(s,o,u,d,h,g){const v=Nu(),D=[],E=[],S=[[]];h=function Kv(s,o){if(function Yv(s){return-1===s}(o))return Qm(s);{const u=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Qm(s.substring(u,d))}}(h,g);const O=function zv(s){return s.replace(QI," ")}(h).split(ID);for(let F=0;F<O.length;F++){let H=O[F];if(1&F){const ee=47===H.charCodeAt(0),Ne=(H.charCodeAt(ee?1:0),22+Number.parseInt(H.substring(ee?2:1)));if(ee)S.shift(),hi(Nu(),!1);else{const nt=WI(s,S[0],Ne);S.unshift([]),hi(nt,!0)}}else{const ee=Jm(H);for(let Ie=0;Ie<ee.length;Ie++){let Ne=ee[Ie];if(1&Ie){const nt=Ne;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Qv(s,u,E,o,nt,qv(s,v,S[0],u,D,"",!0).index)}else""!==Ne&&TD(s,v,S[0],D,E,u,Ne)}}}s.data[d]={create:D,update:E}}(d,null===D?0:D.index,h,g,v,u);const E=d.data[g],O=Hg(d,D===h[6]?null:D,h);(function Zm(s,o,u,d){const h=s[11];for(let g=0;g<o.length;g++){const v=o[g++],D=o[g],S=(v&ar.APPEND_EAGERLY)===ar.APPEND_EAGERLY,O=v>>>ar.SHIFT;let F=s[O];null===F&&(F=s[O]=(v&ar.COMMENT)===ar.COMMENT?h.createComment(D):kc(h,D)),S&&null!==u&&bo(h,u,F,d,!1)}})(h,E.create,O,D&&8&D.type?h[D.index]:null),Pa(!0)}function Op(s,o,u){od(s,o,u),function e_(){Pa(!1)}()}function Rp(s){return function Uv(s){s&&(Wh|=1<<Math.min(sd,31)),sd++}(vi(be(),lo(),s)),Rp}function e0(s){!function Ip(s,o,u){if(sd>0){const d=s.data[u];Km(s,o,Array.isArray(d)?d:d.update,fi()-sd-1,Wh)}Wh=0,sd=0}(ln(),be(),s+22)}function Oo(s,o,u,d,h){if(s=q(s),Array.isArray(s))for(let g=0;g<s.length;g++)Oo(s[g],o,u,d,h);else{const g=ln(),v=be();let D=Ui(s)?s:q(s.provide),E=hh(s);const S=xr(),O=1048575&S.providerIndexes,F=S.directiveStart,H=S.providerIndexes>>20;if(Ui(s)||!s.multi){const ee=new La(E,h,Fn),Ie=kp(D,o,h?O:O+H,F);-1===Ie?(ju(go(S,v),g,D),t_(g,s,o.length),o.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ee),v.push(ee)):(u[Ie]=ee,v[Ie]=ee)}else{const ee=kp(D,o,O+H,F),Ie=kp(D,o,O,O+H),nt=Ie>=0&&u[Ie];if(h&&!nt||!h&&!(ee>=0&&u[ee])){ju(go(S,v),g,D);const _t=function o0(s,o,u,d,h){const g=new La(s,u,Fn);return g.multi=[],g.index=o,g.componentProviders=0,OD(g,h,d&&!u),g}(h?r0:sT,u.length,h,d,E);!h&&nt&&(u[Ie].providerFactory=_t),t_(g,s,o.length,0),o.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(_t),v.push(_t)}else t_(g,s,ee>-1?ee:Ie,OD(u[h?Ie:ee],E,!h&&d));!h&&d&&nt&&u[Ie].componentProviders++}}}function t_(s,o,u,d){const h=Ui(o),g=function ow(s){return!!s.useClass}(o);if(h||g){const E=(g?q(o.useClass):o).prototype.ngOnDestroy;if(E){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=S.indexOf(u);-1===O?S.push(u,[d,E]):S[O+1].push(d,E)}else S.push(u,E)}}}function OD(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function kp(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function sT(s,o,u,d){return s0(this.multi,[])}function r0(s,o,u,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=is(u,u[1],this.providerFactory.index,d);g=D.slice(0,v),s0(h,g);for(let E=v;E<D.length;E++)g.push(D[E])}else g=[],s0(h,g);return g}function s0(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Pp(s,o=[]){return u=>{u.providersResolver=(d,h)=>function n0(s,o,u){const d=ln();if(d.firstCreatePass){const h=ci(s);Oo(u,d.data,d.blueprint,h,!0),Oo(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Pl{}class a0{}function Yh(s,o){return new RD(s,o??null)}class RD extends Pl{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zy(this);const d=Hr(o);this._bootstrapComponents=ji(d.bootstrap),this._r3Injector=By(o,u,[{provide:Pl,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class u0 extends a0{constructor(o){super(),this.moduleType=o}create(o){return new RD(this.moduleType,o)}}class kD extends Pl{constructor(o,u,d){super(),this.componentFactoryResolver=new Zy(this),this.instance=null;const h=new Ny([...o,{provide:Pl,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],u||ch(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function n_(s,o,u=null){return new kD(s,o,u).injector}let oT=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Cy(0,u.type),h=d.length>0?n_([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=lt({token:s,providedIn:"environment",factory:()=>new s(Qe(fa))}),s})();function r_(s){s.getStandaloneInjector=o=>o.get(oT).getOrCreateStandaloneInjector(s)}function BD(s,o,u,d){return y0(be(),hr(),s,o,u,d)}function a_(s,o,u,d,h){return function UD(s,o,u,d,h,g,v){const D=o+u;return qs(s,D,h,g)?us(s,D+2,v?d.call(v,h,g):d(h,g)):Vp(s,D+2)}(be(),hr(),s,o,u,d,h)}function u_(s,o,u,d,h,g){return function v0(s,o,u,d,h,g,v,D){const E=o+u;return function Zs(s,o,u,d,h){const g=qs(s,o,u,d);return vi(s,o+2,h)||g}(s,E,h,g,v)?us(s,E+3,D?d.call(D,h,g,v):d(h,g,v)):Vp(s,E+3)}(be(),hr(),s,o,u,d,h,g)}function Vp(s,o){const u=s[o];return u===Be?void 0:u}function y0(s,o,u,d,h,g){const v=o+u;return vi(s,v,h)?us(s,v+1,g?d.call(g,h):d(h)):Vp(s,v+1)}function D0(s,o){const u=ln();let d;const h=s+22;u.firstCreatePass?(d=function cT(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=io(d.type)),v=Pt(Fn);try{const D=Ba(!1),E=g();return Ba(D),function Om(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,be(),h,E),E}finally{Pt(v)}}function jD(s,o,u){const d=s+22,h=be(),g=uo(h,d);return function Bp(s,o){return s[1].data[o].pure}(h,d)?y0(h,hr(),o,g.transform,u,g):g.transform(u)}function S0(s){return o=>{setTimeout(s,void 0,o)}}const Ks=class C0 extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,g=u||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),g=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(g=S0(g),h&&(h=S0(h)),v&&(v=S0(v)));const D=super.subscribe({next:h,error:g,complete:v});return o instanceof K.w0&&o.add(D),D}};function $D(){return this._results[Yc()]()}class Up{get changes(){return this._changes||(this._changes=new Ks)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Yc(),d=Up.prototype;d[u]||(d[u]=$D)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function ii(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Gd(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jh=(()=>{class s{}return s.__NG_ELEMENT_ID__=fT,s})();const hT=Jh,A0=class extends hT{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tViews,h=zc(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),pa(d,h,o),new Sh(h)}};function fT(){return Xh(xr(),be())}function Xh(s,o){return 4&s.type?new A0(o,s,tu(s,o)):null}let l_=(()=>{class s{}return s.__NG_ELEMENT_ID__=N0,s})();function N0(){return ad(xr(),be())}const pT=l_,c_=class extends pT{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){const o=Uu(this._hostTNode,this._hostLView);if(mc(o)){const u=Lu(o,this._hostLView),d=Va(o);return new Ai(u[1].data[d+8],u)}return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=d_(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(u||{},g);return this.insert(v,h),v}createComponent(o,u,d,h,g){const v=o&&!function qu(s){return"function"==typeof s}(o);let D;if(v)D=u;else{const F=u||{};D=F.index,d=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const E=v?o:new Do(un(o)),S=d||this.parentInjector;if(!g&&null==E.ngModule){const H=(v?S:this.parentInjector).get(fa,null);H&&(g=H)}const O=E.create(S,h,void 0,g);return this.insert(O.hostView,D),O}insert(o,u){const d=o._lView,h=d[1];if(function Tu(s){return Pi(s[3])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=d[3],H=new c_(F,F[6],F[3]);H.detach(H.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function Qd(s,o,u,d){const h=10+d,g=u.length;d>0&&(u[h-1][4]=o),d<g-10?(o[4]=u[h],Zu(u,10+d,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function Uf(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,v,g);const D=pr(g,v),E=d[11],S=il(E,v[7]);return null!==S&&function Bf(s,o,u,d,h,g){d[0]=h,d[6]=o,Ds(s,d,u,1,h,g)}(h,v[6],E,d,S,D),o.attachToViewContainerRef(),Zu(jp(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=d_(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=jf(this._lContainer,u);d&&(Ga(jp(this._lContainer),u),$f(d[1],d))}detach(o){const u=this._adjustIndex(o,-1),d=jf(this._lContainer,u);return d&&null!=Ga(jp(this._lContainer),u)?new Sh(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function d_(s){return s[8]}function jp(s){return s[8]||(s[8]=[])}function ad(s,o){let u;const d=o[s.index];if(Pi(d))u=d;else{let h;if(8&s.type)h=er(d);else{const g=o[11];h=g.createComment("");const v=sr(s,o);bo(g,il(g,v),h,function qg(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=u=qc(d,o,h,s),iu(o,u)}return new c_(u,s,o)}class h_{constructor(o){this.queryList=o,this.matches=null}clone(){return new h_(this.queryList)}setDirty(){this.queryList.setDirty()}}class $p{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new $p(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==k0(o,u).matches&&this.queries[u].setDirty()}}class GD{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class Gp{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Gp(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class xo{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new xo(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,u,M0(u,g)),this.matchTNodeWithReadOption(o,u,ia(u,o,g,!1,!1))}else d===Jh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ia(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===yi||h===l_||h===Jh&&4&u.type)this.addMatch(u.index,-2);else{const g=ia(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function M0(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function O0(s,o,u,d){return-1===u?function gT(s,o){return 11&s.type?tu(s,o):4&s.type?Xh(s,o):null}(o,s):-2===u?function mT(s,o,u){return u===yi?tu(o,s):u===Jh?Xh(o,s):u===l_?ad(o,s):void 0}(s,o,d):is(s,s[1],u,o)}function HD(s,o,u,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=u.matches,D=[];for(let E=0;E<v.length;E+=2){const S=v[E];D.push(S<0?null:O0(o,g[S],v[E+1],u.metadata.read))}h.matches=D}return h.matches}function Hp(s,o,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const v=HD(s,o,h,u);for(let D=0;D<g.length;D+=2){const E=g[D];if(E>0)d.push(v[D/2]);else{const S=g[D+1],O=o[-E];for(let F=10;F<O.length;F++){const H=O[F];H[17]===H[3]&&Hp(H[1],H,S,d)}if(null!==O[9]){const F=O[9];for(let H=0;H<F.length;H++){const ee=F[H];Hp(ee[1],ee,S,d)}}}}}return d}function zD(s){const o=be(),u=ln(),d=Md();dc(d+1);const h=k0(u,d);if(s.dirty&&function Oa(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Hp(u,o,d,[]):HD(u,o,h,d);s.reset(g,hw),s.notifyOnChanges()}return!0}return!1}function f_(s,o,u){const d=ln();d.firstCreatePass&&(x0(d,new GD(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),g_(d,be(),o)}function WD(s,o,u,d){const h=ln();if(h.firstCreatePass){const g=xr();x0(h,new GD(o,u,d),g.index),function R0(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}g_(h,be(),u)}function p_(){return function _T(s,o){return s[19].queries[o].queryList}(be(),Md())}function g_(s,o,u){const d=new Up(4==(4&u));Eh(s,o,d,d.destroy),null===o[19]&&(o[19]=new $p),o[19].queries.push(new h_(d))}function x0(s,o,u){null===s.queries&&(s.queries=new Gp),s.queries.track(new xo(o,u))}function k0(s,o){return s.queries.getByIndex(o)}function qD(s,o){return Xh(s,o)}function D_(...s){}const a1=new _n("Application Initializer");let E_=(()=>{class s{constructor(u){this.appInits=u,this.resolve=D_,this.reject=D_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(rv(g))u.push(g);else if(iv(g)){const v=new Promise((D,E)=>{g.subscribe({complete:D,error:E})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Qe(a1,8))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const I_=new _n("AppId",{providedIn:"root",factory:function u1(){return`${Bn()}${Bn()}${Bn()}`}});function Bn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ST=new _n("Platform Initializer"),DA=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dr=new _n("appBootstrapListener");let NT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const T_=new _n("LocaleId",{providedIn:"root",factory:()=>ft(T_,me.Optional|me.SkipSelf)||function l1(){return typeof $localize<"u"&&$localize.locale||zh}()}),MT=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class OT{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let xT=(()=>{class s{compileModuleSync(u){return new u0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=ji(Hr(u).declarations).reduce((v,D)=>{const E=un(D);return E&&v.push(new Do(E)),v},[]);return new OT(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kT=(()=>Promise.resolve(0))();function C_(s){typeof Zone>"u"?kT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ks(!1),this.onMicrotaskEmpty=new Ks(!1),this.onStable=new Ks(!1),this.onError=new Ks(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function d1(){let s=Ot.requestAnimationFrame,o=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function h1(s){const o=()=>{!function Kp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qp(s),s.isCheckStableRunning=!0,tf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,v,D)=>{try{return f1(s),u.invokeTask(h,g,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),p1(s)}},onInvoke:(u,d,h,g,v,D,E)=>{try{return f1(s),u.invoke(h,g,v,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),p1(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Qp(s),tf(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new pe(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,cd,D_,D_);try{return g.runTask(v,u,d)}finally{g.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const cd={};function tf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function f1(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function p1(s){s._nesting--,tf(s)}class PT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ks,this.onMicrotaskEmpty=new Ks,this.onStable=new Ks,this.onError=new Ks}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const S_=new _n(""),A_=new _n("");let N_,g1=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N_||(function m1(s){N_=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),C_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Qe(Qs),Qe(Vl),Qe(A_))},s.\u0275prov=lt({token:s,factory:s.\u0275fac}),s})(),Vl=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return N_?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ya=null;const M_=new _n("AllowMultipleToken"),K0=new _n("PlatformDestroyListeners");class LT{constructor(o,u){this.name=o,this.token=u}}function du(s,o,u=[]){const d=`Platform: ${o}`,h=new _n(d);return(g=[])=>{let v=v1();if(!v||v.injector.get(M_,!1)){const D=[...u,...g,{provide:h,useValue:!0}];s?s(D):function x_(s){if(ya&&!ya.get(M_,!1))throw new pe(400,!1);ya=s;const o=s.get(VT);(function R_(s){const o=s.get(ST,null);o&&o.forEach(u=>u())})(s)}(function y1(s=[],o){return ml.create({name:o,providers:[{provide:sm,useValue:"platform"},{provide:K0,useValue:new Set([()=>ya=null])},...s]})}(D,d))}return function Xp(s){const o=v1();if(!o)throw new pe(401,!1);return o}()}}function v1(){return ya?.get(VT)??null}let VT=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function b1(s,o){let u;return u="noop"===s?new PT:("zone.js"===s?void 0:s)||new Qs(o),u}(d?.ngZone,function P_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Qs,useValue:h}];return h.run(()=>{const v=ml.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(v),E=D.injector.get(Qf,null);if(!E)throw new pe(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{E.handleError(O)}});D.onDestroy(()=>{dd(this._modules,D),S.unsubscribe()})}),function tg(s,o,u){try{const d=u();return rv(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const S=D.injector.get(E_);return S.runInitializers(),S.donePromise.then(()=>(Rl(D.injector.get(T_,zh)||zh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=w1({},d);return function O_(s,o,u){const d=new u0(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(F_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new pe(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(K0,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Qe(ml))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function w1(s,o){return Array.isArray(o)?o.reduce(w1,s):{...s,...o}}let F_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new R.y(D=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),C_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{E.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(g,v.pipe((0,ie.B)()))}bootstrap(u,d){const h=u instanceof xy;if(!this._injector.get(E_).done)throw!h&&rr(u),new pe(405,false);let v;v=h?u:this._injector.get(fh).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const D=function Jp(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Pl),S=v.create(ml.NULL,[],d||v.selector,D),O=S.location.nativeElement,F=S.injector.get(S_,null);return F?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),dd(this.components,S),F?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;dd(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Dr,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>dd(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Qe(Qs),Qe(fa),Qe(Qf))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function dd(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function L_(){return!1}let E1=(()=>{class s{}return s.__NG_ELEMENT_ID__=I1,s})();function I1(s){return function T1(s,o,u){if(Fi(s)&&!u){const d=Tr(s.index,o);return new Sh(d,d)}return 47&s.type?new Sh(o[16],o):null}(xr(),be(),16==(16&s))}class S1{constructor(){}supports(o){return Vn(o)}create(o){return new ib(o)}}const rf=(s,o)=>o;class ib{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rf}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const v=!d||u&&u.currentIndex<sb(d,h,g)?u:d,D=sb(v,h,g),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const S=D-h,O=E-h;if(S!=O){for(let H=0;H<S;H++){const ee=H<g.length?g[H]:g[H]=0,Ie=ee+H;O<=Ie&&Ie<S&&(g[H]=ee+1)}g[v.previousIndex]=O-S}}D!==E&&o(v,D,E)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Vn(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,g,v,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,D),d=!0),u=u._next}else h=0,function Am(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Yc()]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,D=>{v=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,D,v,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new OA(u,d),g,h),o}_verifyReinsertion(o,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new A1),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A1),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class OA{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class A1{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new xA,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sb(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class pu{constructor(){}supports(o){return o instanceof Map||Nm(o)}create(){return new WT}}class WT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Nm(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new qT(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class qT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N1(){return new ob([new S1])}let ob=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||N1()),deps:[[s,new C,new Cn]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new pe(901,!1)}}return s.\u0275prov=lt({token:s,providedIn:"root",factory:N1}),s})();function M1(){return new ab([new pu])}let ab=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||M1()),deps:[[s,new C,new Cn]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new pe(901,!1)}}return s.\u0275prov=lt({token:s,providedIn:"root",factory:M1}),s})();const YT=du(null,"core",[]);let ub=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Qe(F_))},s.\u0275mod=jn({type:s}),s.\u0275inj=Nn({}),s})();function O1(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function fd(s,o){const u=un(s),d=o.elementInjector||ch();return new Do(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},1321:()=>{class it extends Error{constructor(Y){super(`No translation found for ${Bt(Y)}.`),this.parsedMessage=Y,this.type="MissingTranslationError"}}const Or=function(J,...Y){if(Or.translate){const Ce=Or.translate(J,Y);J=Ce[0],Y=Ce[1]}let se=Jr(J[0],J.raw[0]);for(let Ce=1;Ce<J.length;Ce++)se+=Y[Ce-1]+Jr(J[Ce],J.raw[Ce]);return se};function Jr(J,Y){return":"===Y.charAt(0)?J.substring(function ze(J,Y){for(let se=1,Ce=1;se<J.length;se++,Ce++)if("\\"===Y[Ce])Ce++;else if(":"===J[se])return se;throw new Error(`Unterminated $localize metadata block in "${Y}".`)}(J,Y)+1):J}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Or},3942:(vt,Se,P)=>{P.d(Se,{Z:()=>Ze});var l=P(2090),K=P(4859),R=P(9681),oe=P(1877);class ie{constructor(pe,Re){this._delegate=pe,this.firebase=Re,(0,R._addComponent)(pe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(pe,Re=R._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(pe);return!je.isInitialized()&&"EXPLICIT"===(null===(xe=je.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Re})}_removeServiceInstance(pe,Re=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Re)}_addComponent(pe){(0,R._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,R._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function he(){const yt=function fe(yt){const pe={},Re={__esModule:!0,initializeApp:function Ae(Ve,U={}){const Ee=R.initializeApp(Ve,U);if((0,l.r3)(pe,Ee.name))return pe[Ee.name];const Ge=new yt(Ee,Re);return pe[Ee.name]=Ge,Ge},app:je,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Pe(Ve){const U=Ve.name,Ee=U.replace("-compat","");if(R._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Ge=(Ye=je())=>{if("function"!=typeof Ye[Ee])throw ve.create("invalid-app-argument",{appName:U});return Ye[Ee]()};void 0!==Ve.serviceProps&&(0,l.ZB)(Ge,Ve.serviceProps),Re[Ee]=Ge,yt.prototype[Ee]=function(...Ye){return this._getService.bind(this,U).apply(this,Ve.multipleInstances?Ye:[])}}return"PUBLIC"===Ve.type?Re[Ee]:null},removeApp:function xe(Ve){delete pe[Ve]},useAsService:function $e(Ve,U){return"serverAuth"===U?null:U},modularAPIs:R}};function je(Ve){if(!(0,l.r3)(pe,Ve=Ve||R._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ve});return pe[Ve]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function _e(){return Object.keys(pe).map(Ve=>pe[Ve])}}),je.App=yt,Re}(ie);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(Re){(0,l.ZB)(yt,Re)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),yt}(),$=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=G;!function Oe(yt){(0,R.registerVersion)("@firebase/app-compat","0.2.3",yt)}()},9681:(vt,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>Ue,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Mt,_apps:()=>it,_clearComponents:()=>Nn,_components:()=>Je,_getProvider:()=>lt,_registerComponent:()=>sn,_removeServiceInstance:()=>Bt,deleteApp:()=>Y,getApp:()=>Jr,getApps:()=>J,initializeApp:()=>Ji,onLog:()=>me,registerVersion:()=>Ce,setLogLevel:()=>st});var l=P(5861),K=P(4859),R=P(1877),oe=P(2090),ie=P(8766);class re{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function ve(Qe){return"VERSION"===Qe.getComponent()?.type}(ft)){const Lt=ft.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(ft=>ft).join(" ")}}const fe="@firebase/app",G=new R.Yd("@firebase/app"),Ue="[DEFAULT]",ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},it=new Map,Je=new Map;function hn(Qe,Me){try{Qe.container.addComponent(Me)}catch(ft){G.debug(`Component ${Me.name} failed to register with FirebaseApp ${Qe.name}`,ft)}}function Mt(Qe,Me){Qe.container.addOrOverwriteComponent(Me)}function sn(Qe){const Me=Qe.name;if(Je.has(Me))return G.debug(`There were multiple attempts to register component ${Me}.`),!1;Je.set(Me,Qe);for(const ft of it.values())hn(ft,Qe);return!0}function lt(Qe,Me){const ft=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return ft&&ft.triggerHeartbeat(),Qe.container.getProvider(Me)}function Bt(Qe,Me,ft=Ue){lt(Qe,Me).clearInstance(ft)}function Nn(){Je.clear()}const Dn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mn{constructor(Me,ft,Lt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const Or="9.17.1";function Ji(Qe,Me={}){let ft=Qe;"object"!=typeof Me&&(Me={name:Me});const Lt=Object.assign({name:Ue,automaticDataCollectionEnabled:!1},Me),Ut=Lt.name;if("string"!=typeof Ut||!Ut)throw Dn.create("bad-app-name",{appName:String(Ut)});if(ft||(ft=(0,oe.aH)()),!ft)throw Dn.create("no-options");const zt=it.get(Ut);if(zt){if((0,oe.vZ)(ft,zt.options)&&(0,oe.vZ)(Lt,zt.config))return zt;throw Dn.create("duplicate-app",{appName:Ut})}const j=new K.H0(Ut);for(const W of Je.values())j.addComponent(W);const V=new Mn(ft,Lt,j);return it.set(Ut,V),V}function Jr(Qe=Ue){const Me=it.get(Qe);if(!Me&&Qe===Ue)return Ji();if(!Me)throw Dn.create("no-app",{appName:Qe});return Me}function J(){return Array.from(it.values())}function Y(Qe){return se.apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(Qe){const Me=Qe.name;it.has(Me)&&(it.delete(Me),yield Promise.all(Qe.container.getProviders().map(ft=>ft.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Ce(Qe,Me,ft){var Lt;let Ut=null!==(Lt=ze[Qe])&&void 0!==Lt?Lt:Qe;ft&&(Ut+=`-${ft}`);const zt=Ut.match(/\s|\//),j=Me.match(/\s|\//);if(zt||j){const V=[`Unable to register library "${Ut}" with version "${Me}":`];return zt&&V.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),zt&&j&&V.push("and"),j&&V.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void G.warn(V.join(" "))}sn(new K.wA(`${Ut}-version`,()=>({library:Ut,version:Me}),"VERSION"))}function me(Qe,Me){if(null!==Qe&&"function"!=typeof Qe)throw Dn.create("invalid-log-argument");(0,R.Am)(Qe,Me)}function st(Qe){(0,R.Ub)(Qe)}const $t="firebase-heartbeat-store";let En=null;function Ot(){return En||(En=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(Qe,Me)=>{0===Me&&Qe.createObjectStore($t)}}).catch(Qe=>{throw Dn.create("idb-open",{originalErrorMessage:Qe.message})})),En}function Nt(){return(Nt=(0,l.Z)(function*(Qe){try{return(yield Ot()).transaction($t).objectStore($t).get(vn(Qe))}catch(Me){if(Me instanceof oe.ZR)G.warn(Me.message);else{const ft=Dn.create("idb-get",{originalErrorMessage:Me?.message});G.warn(ft.message)}}})).apply(this,arguments)}function Xr(Qe,Me){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(Qe,Me){try{const Lt=(yield Ot()).transaction($t,"readwrite");return yield Lt.objectStore($t).put(Me,vn(Qe)),Lt.done}catch(ft){if(ft instanceof oe.ZR)G.warn(ft.message);else{const Lt=Dn.create("idb-set",{originalErrorMessage:ft?.message});G.warn(Lt.message)}}})).apply(this,arguments)}function vn(Qe){return`${Qe.name}!${Qe.options.appId}`}class eo{constructor(Me){this.container=Me,this._heartbeatsCache=null;const ft=this.container.getProvider("app").getImmediate();this._storage=new an(ft),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Me=this;return(0,l.Z)(function*(){const Lt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=pn();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Me._heartbeatsCache.heartbeats.some(zt=>zt.date===Ut))return Me._heartbeatsCache.heartbeats.push({date:Ut,agent:Lt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(zt=>{const j=new Date(zt.date).valueOf();return Date.now()-j<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,l.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const ft=pn(),{heartbeatsToSend:Lt,unsentEntries:Ut}=function Ri(Qe,Me=1024){const ft=[];let Lt=Qe.slice();for(const Ut of Qe){const zt=ft.find(j=>j.agent===Ut.agent);if(zt){if(zt.dates.push(Ut.date),$r(ft)>Me){zt.dates.pop();break}}else if(ft.push({agent:Ut.agent,dates:[Ut.date]}),$r(ft)>Me){ft.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:ft,unsentEntries:Lt}}(Me._heartbeatsCache.heartbeats),zt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Lt}));return Me._heartbeatsCache.lastSentHeartbeatDate=ft,Ut.length>0?(Me._heartbeatsCache.heartbeats=Ut,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),zt})()}}function pn(){return(new Date).toISOString().substring(0,10)}class an{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,l.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function It(Qe){return Nt.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var ft=this;return(0,l.Z)(function*(){var Lt;if(yield ft._canUseIndexedDBPromise){const zt=yield ft.read();return Xr(ft.app,{lastSentHeartbeatDate:null!==(Lt=Me.lastSentHeartbeatDate)&&void 0!==Lt?Lt:zt.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var ft=this;return(0,l.Z)(function*(){var Lt;if(yield ft._canUseIndexedDBPromise){const zt=yield ft.read();return Xr(ft.app,{lastSentHeartbeatDate:null!==(Lt=Me.lastSentHeartbeatDate)&&void 0!==Lt?Lt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Me.heartbeats]})}})()}}function $r(Qe){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Xi(Qe){sn(new K.wA("platform-logger",Me=>new re(Me),"PRIVATE")),sn(new K.wA("heartbeat",Me=>new eo(Me),"PRIVATE")),Ce(fe,"0.9.3",Qe),Ce(fe,"0.9.3","esm2017"),Ce("fire-js","")}("")},4859:(vt,Se,P)=>{P.d(Se,{H0:()=>fe,wA:()=>R});var l=P(5861),K=P(2090);class R{constructor(G,$,q){this.name=G,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const oe="[DEFAULT]";class ie{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const q=new K.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:$});We&&q.resolve(We)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const q=this.normalizeInstanceIdentifier(G?.identifier),We=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Oe){if(We)return null;throw Oe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ve(he){return"EAGER"===he.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,q]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier($);try{const Oe=this.getOrInitializeService({instanceIdentifier:We});q.resolve(Oe)}catch{}}}}clearInstance(G=oe){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...$.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=oe){return this.instances.has(G)}getOptions(G=oe){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:q,options:$});for(const[Oe,Ze]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Oe)&&Ze.resolve(We);return We}onInit(G,$){var q;const We=this.normalizeInstanceIdentifier($),Oe=null!==(q=this.onInitCallbacks.get(We))&&void 0!==q?q:new Set;Oe.add(G),this.onInitCallbacks.set(We,Oe);const Ze=this.instances.get(We);return Ze&&G(Ze,We),()=>{Oe.delete(G)}}invokeOnInitCallbacks(G,$){const q=this.onInitCallbacks.get($);if(q)for(const We of q)try{We(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let q=this.instances.get(G);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=G,he===oe?void 0:he),options:$}),this.instances.set(G,q),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,q)}catch{}var he;return q||null}normalizeInstanceIdentifier(G=oe){return this.component?this.component.multipleInstances?G:oe:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ie(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,P)=>{P.d(Se,{Am:()=>he,Ub:()=>fe,Yd:()=>ve,in:()=>K});const l=[];var K=(()=>{return(G=K||(K={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",K;var G})();const R={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,ie={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},re=(G,$,...q)=>{if($<G.logLevel)return;const We=(new Date).toISOString(),Oe=ie[$];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Oe](`[${We}]  ${G.name}:`,...q)};class ve{constructor($){this.name=$,this._logLevel=oe,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in K))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?R[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...$),this._logHandler(this,K.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...$),this._logHandler(this,K.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,K.INFO,...$),this._logHandler(this,K.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,K.WARN,...$),this._logHandler(this,K.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...$),this._logHandler(this,K.ERROR,...$)}}function fe(G){l.forEach($=>{$.setLogLevel(G)})}function he(G,$){for(const q of l){let We=null;$&&$.level&&(We=R[$.level]),q.userLogHandler=null===G?null:(Oe,Ze,...yt)=>{const pe=yt.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Ze>=(We??Oe.logLevel)&&G({level:K[Ze].toLowerCase(),message:pe,args:yt,type:Oe.name})}}}},259:(vt,Se,P)=>{P.d(Se,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.17.1","app")},9260:(vt,Se,P)=>{P.d(Se,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.17.1","app-compat")},407:(vt,Se,P)=>{P.r(Se);var l=P(5861),K=P(3942),R=P(2090),oe=P(9681),ie=P(1877),re=P(655),ve=P(4859);const Ze=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ie.Yd("@firebase/auth");function je(y,...f){xe.logLevel<=ie.in.ERROR&&xe.error(`Auth (${oe.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw Ve(y,...f)}function _e(y,...f){return Ve(y,...f)}function Pe(y,f,m){const b=Object.assign(Object.assign({},yt()),{[f]:m});return new R.LL("auth","Firebase",b).create(f,{appName:y.name})}function $e(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(y,"argument-error"),Pe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return pe.create(y,...f)}function U(y,f,...m){if(!y)throw Ve(f,...m)}function Ee(y){const f="INTERNAL ASSERTION FAILED: "+y;throw je(f),new Error(f)}function Ge(y,f){y||Ee(f)}const Ye=new Map;function Et(y){Ge(y instanceof Function,"Expected a class definition");let f=Ye.get(y);return f?(Ge(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Ye.set(y,f),f)}function ge(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function De(){return"http:"===ke()||"https:"===ke()}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class it{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ge(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(y,f){Ge(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class hn{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new it(3e4,6e4);function lt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Bt(y,f,m,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(y,f,m,b,A={}){return Pn(y,A,(0,l.Z)(function*(){let x={},z={};b&&("GET"===f?z=b:x={body:JSON.stringify(b)});const de=(0,R.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),qe=yield y._getAdditionalHeaders();return qe["Content-Type"]="application/json",y.languageCode&&(qe["X-Firebase-Locale"]=y.languageCode),hn.fetch()(Ji(y,y.config.apiHost,m,de),Object.assign({method:f,headers:qe,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Pn(y,f,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Mt),f);try{const A=new Jr(y),x=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const z=yield x.json();if("needConfirmation"in z)throw J(y,"account-exists-with-different-credential",z);if(x.ok&&!("errorMessage"in z))return z;{const de=x.ok?z.errorMessage:z.error.message,[qe,pt]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw J(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===qe)throw J(y,"email-already-in-use",z);if("USER_DISABLED"===qe)throw J(y,"user-disabled",z);const Vt=b[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw Pe(y,Vt,pt);Ae(y,Vt)}}catch(A){if(A instanceof R.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Mn(y,f,m,b){return Or.apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(y,f,m,b,A={}){const x=yield Bt(y,f,m,b,A);return"mfaPendingCredential"in x&&Ae(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Ji(y,f,m,b){const A=`${f}${m}?${b}`;return y.config.emulator?Je(y.config,A):`${y.config.apiScheme}://${A}`}class Jr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function J(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const A=_e(y,f,b);return A.customData._tokenResponse=m,A}function se(){return(se=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Ce(y,f){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function st(y,f){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Pt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ot(){return(Ot=(0,l.Z)(function*(y,f=!1){const m=(0,R.m9)(y),b=yield m.getIdToken(f),A=Nt(b);U(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,z=x?.sign_in_provider;return{claims:A,token:b,authTime:Pt(It(A.auth_time)),issuedAtTime:Pt(It(A.iat)),expirationTime:Pt(It(A.exp)),signInProvider:z||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function It(y){return 1e3*Number(y)}function Nt(y){const[f,m,b]=y.split(".");if(void 0===f||void 0===m||void 0===b)return je("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,R.tV)(m);return A?JSON.parse(A):(je("Failed to decode base64 JWT payload"),null)}catch(A){return je("Caught error parsing JWT payload as JSON",A?.toString()),null}}function on(y,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof R.ZR&&fn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function fn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class qn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class eo{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pt(this.lastLoginAt),this.creationTime=Pt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),A=yield on(y,st(m,{idToken:b}));U(A?.users.length,m,"internal-error");const x=A.users[0];y._notifyReloadListener(x);const z=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?Qe(x.providerUserInfo):[],de=Xi(y.providerData,z),Vt=!!y.isAnonymous&&!(y.email&&x.passwordHash||de?.length),At={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:de,metadata:new eo(x.createdAt,x.lastLoginAt),isAnonymous:Vt};Object.assign(y,At)})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(y){const f=(0,R.m9)(y);yield pn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Xi(y,f){return[...y.filter(b=>!f.some(A=>A.providerId===b.providerId)),...f]}function Qe(y){return y.map(f=>{var{providerId:m}=f,b=(0,re._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function ft(){return(ft=(0,l.Z)(function*(y,f){const m=yield Pn(y,{},(0,l.Z)(function*(){const b=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:x}=y.config,z=Ji(y,A,"/v1/token",`key=${x}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",hn.fetch()(z,{method:"POST",headers:de,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Xr(y){const f=Nt(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,l.Z)(function*(){return U(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:z}=yield function Me(y,f){return ft.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(A,x,Number(z))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:A,expirationTime:x}=m,z=new Lt;return b&&(U("string"==typeof b,"internal-error",{appName:f}),z.refreshToken=b),A&&(U("string"==typeof A,"internal-error",{appName:f}),z.accessToken=A),x&&(U("number"==typeof x,"internal-error",{appName:f}),z.expirationTime=x),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function Ut(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class zt{constructor(f){var{uid:m,auth:b,stsTokenManager:A}=f,x=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new eo(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const b=yield on(m,m.stsTokenManager.getToken(m.auth,f));return U(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function En(y){return Ot.apply(this,arguments)}(this,f)}reload(){return function an(y){return $r.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new zt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,l.Z)(function*(){let A=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield pn(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield on(f,function Y(y,f){return se.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,A,x,z,de,qe,pt,Vt;const At=null!==(b=m.displayName)&&void 0!==b?b:void 0,gr=null!==(A=m.email)&&void 0!==A?A:void 0,Is=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,js=null!==(z=m.photoURL)&&void 0!==z?z:void 0,$s=null!==(de=m.tenantId)&&void 0!==de?de:void 0,ha=null!==(qe=m._redirectEventId)&&void 0!==qe?qe:void 0,Bi=null!==(pt=m.createdAt)&&void 0!==pt?pt:void 0,Xa=null!==(Vt=m.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:An,emailVerified:ll,isAnonymous:eu,providerData:cl,stsTokenManager:vy}=m;U(An&&vy,f,"internal-error");const by=Lt.fromJSON(this.name,vy);U("string"==typeof An,f,"internal-error"),Ut(At,f.name),Ut(gr,f.name),U("boolean"==typeof ll,f,"internal-error"),U("boolean"==typeof eu,f,"internal-error"),Ut(Is,f.name),Ut(js,f.name),Ut($s,f.name),Ut(ha,f.name),Ut(Bi,f.name),Ut(Xa,f.name);const Uc=new zt({uid:An,auth:f,email:gr,emailVerified:ll,displayName:At,isAnonymous:eu,photoURL:js,phoneNumber:Is,tenantId:$s,stsTokenManager:by,createdAt:Bi,lastLoginAt:Xa});return cl&&Array.isArray(cl)&&(Uc.providerData=cl.map(qf=>Object.assign({},qf))),ha&&(Uc._redirectEventId=ha),Uc}static _fromIdTokenResponse(f,m,b=!1){return(0,l.Z)(function*(){const A=new Lt;A.updateFromServerResponse(m);const x=new zt({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:b});return yield pn(x),x})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var A=this;return(0,l.Z)(function*(){A.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const A=b.storage[m];return void 0===A?null:A})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function W(y,f,m){return`firebase:${y}:${f}:${m}`}class we{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:A,name:x}=this.auth;this.fullUserKey=W(this.userKey,A.apiKey,x),this.fullPersistenceKey=W("persistence",A.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?zt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new we(Et(V),f,b);const A=(yield Promise.all(m.map(function(){var pt=(0,l.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let x=A[0]||Et(V);const z=W(b,f.config.apiKey,f.name);let de=null;for(const pt of m)try{const Vt=yield pt._get(z);if(Vt){const At=zt._fromJSON(f,Vt);pt!==x&&(de=At),x=pt;break}}catch{}const qe=A.filter(pt=>pt._shouldAllowMigration);return x._shouldAllowMigration&&qe.length?(x=qe[0],de&&(yield x._set(z,de.toJSON())),yield Promise.all(m.map(function(){var pt=(0,l.Z)(function*(Vt){if(Vt!==x)try{yield Vt._remove(z)}catch{}});return function(Vt){return pt.apply(this,arguments)}}())),new we(x,f,b)):new we(x,f,b)})()}}function te(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Un(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(bt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ir(f))return"Blackberry";if(Kt(f))return"Webos";if(Wt(f))return"Safari";if((f.includes("chrome/")||en(f))&&!f.includes("edge/"))return"Chrome";if(xt(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function bt(y=(0,R.z$)()){return/firefox\//i.test(y)}function Wt(y=(0,R.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function en(y=(0,R.z$)()){return/crios\//i.test(y)}function Un(y=(0,R.z$)()){return/iemobile/i.test(y)}function xt(y=(0,R.z$)()){return/android/i.test(y)}function Ir(y=(0,R.z$)()){return/blackberry/i.test(y)}function Kt(y=(0,R.z$)()){return/webos/i.test(y)}function ur(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function pf(y=(0,R.z$)()){return ur(y)||xt(y)||Kt(y)||Ir(y)||/windows phone/i.test(y)||Un(y)}function bu(y,f=[]){let m;switch(y){case"Browser":m=te((0,R.z$)());break;case"Worker":m=`${te((0,R.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${oe.SDK_VERSION}/${b}`}class ql{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=x=>new Promise((z,de)=>{try{z(f(x))}catch(qe){de(qe)}});b.onAbort=m,this.queue.push(b);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const A of m.queue)yield A(f),A.onAbort&&b.push(A.onAbort)}catch(A){b.reverse();for(const x of b)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class _d{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yd(this),this.idTokenSubscription=new yd(this),this.beforeStateQueue=new ql(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Et(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,x;if(!b._deleted&&(b.persistenceManager=yield we.create(b,f),!b._deleted)){if(null!==(A=b._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var b;const A=yield m.assertedPersistence.getCurrentUser();let x=A,z=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,qe=x?._redirectEventId,pt=yield m.tryRedirectSignIn(f);(!de||de===qe)&&pt?.user&&(x=pt.user,z=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(z)try{yield m.beforeStateQueue.runMiddleware(x)}catch(de){x=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){try{yield pn(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const b=f?(0,R.m9)(f):null;return b&&U(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return f&&U(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Et(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,l.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Et(f)||m._popupRedirectResolver;U(b,m,"argument-error"),m.redirectPersistenceManager=yield we.create(m,[Et(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var b,A;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,A){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return U(z,this,"internal-error"),z.then(()=>x(this.currentUser)),"function"==typeof m?f.addObserver(m,b,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=bu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(b["X-Firebase-Client"]=A),b})()}}function jn(y){return(0,R.m9)(y)}class yd{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ia(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function un(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Xn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ee("not implemented")}_getIdTokenResponse(f){return Ee("not implemented")}_linkToIdToken(f,m){return Ee("not implemented")}_getReauthenticationResolver(f){return Ee("not implemented")}}function rr(y,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:resetPassword",lt(y,f))})).apply(this,arguments)}function Ti(y,f){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gt(y,f){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",lt(y,f))})).apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithPassword",lt(y,f))})).apply(this,arguments)}function ir(y,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendOobCode",lt(y,f))})).apply(this,arguments)}function $n(y,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(y,f){return ir(y,f)})).apply(this,arguments)}function cr(y,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(y,f){return ir(y,f)})).apply(this,arguments)}function Yl(y,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(y,f){return ir(y,f)})).apply(this,arguments)}function Kl(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(y,f){return ir(y,f)})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",lt(y,f))})).apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithEmailLink",lt(y,f))})).apply(this,arguments)}class ds extends Xn{constructor(f,m,b,A=null){super("password",b),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new ds(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new ds(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function ei(y,f){return cs.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function zr(y,f){return $o.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Ti(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function to(y,f){return Ci.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function dr(y,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithIdp",lt(y,f))})).apply(this,arguments)}class Si extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Si(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:A}=m,x=(0,re._T)(m,["providerId","signInMethod"]);if(!b||!A)return null;const z=new Si(b,A);return z.idToken=x.idToken||void 0,z.accessToken=x.accessToken||void 0,z.secret=x.secret,z.nonce=x.nonce,z.pendingToken=x.pendingToken||null,z}_getIdTokenResponse(f){return dr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,R.xO)(m)}return f}}function vd(y,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:sendVerificationCode",lt(y,f))})).apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",lt(y,f))})).apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(y,f){const m=yield Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",lt(y,f));if(m.temporaryProof)throw J(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const li={USER_NOT_FOUND:"user-not-found"};function Ca(){return(Ca=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithPhoneNumber",lt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),li)})).apply(this,arguments)}class Fi extends Xn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Fi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Fi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function no(y,f){return ti.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Wr(y,f){return bd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Pi(y,f){return Ca.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:x}=f;return b||m||A||x?new Fi({verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:x}):null}}class Sa{constructor(f){var m,b,A,x,z,de;const qe=(0,R.zd)((0,R.pd)(f)),pt=null!==(m=qe.apiKey)&&void 0!==m?m:null,Vt=null!==(b=qe.oobCode)&&void 0!==b?b:null,At=function Ql(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=qe.mode)&&void 0!==A?A:null);U(pt&&Vt&&At,"argument-error"),this.apiKey=pt,this.operation=At,this.code=Vt,this.continueUrl=null!==(x=qe.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(z=qe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(de=qe.tenantId)&&void 0!==de?de:null}static parseLink(f){const m=function ci(y){const f=(0,R.zd)((0,R.pd)(y)).link,m=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,b=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(b?(0,R.zd)((0,R.pd)(b)).link:null)||b||m||f||y}(f);try{return new Sa(m)}catch{return null}}}let Jl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return ds._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const A=Sa.parseLink(b);return U(A,"argument-error"),ds._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class hs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ho extends hs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Aa extends Ho{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),Si._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Si._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Aa.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Aa.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:x,nonce:z,providerId:de}=f;if(!b&&!A&&!m&&!x||!de)return null;try{return new Aa(de)._credential({idToken:m,accessToken:b,nonce:z,pendingToken:x})}catch{return null}}}let Xl=(()=>{class y extends Ho{constructor(){super("facebook.com")}static credential(m){return Si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),mf=(()=>{class y extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:A}=m;if(!b&&!A)return null;try{return y.credential(b,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),wd=(()=>{class y extends Ho{constructor(){super("github.com")}static credential(m){return Si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zo extends Xn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return dr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,dr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,dr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:A,pendingToken:x}=m;return b&&A&&x&&b===A?new zo(b,x):null}static _create(f,m){return new zo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ts extends hs{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ts.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ts.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=zo.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return zo._create(b,m)}catch{return null}}}let Tg=(()=>{class y extends Ho{constructor(){super("twitter.com")}static credential(m,b){return Si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=m;if(!b||!A)return null;try{return y.credential(b,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ec(y,f){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signUp",lt(y,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,A=!1){return(0,l.Z)(function*(){const x=yield zt._fromIdTokenResponse(f,b,A),z=nc(b);return new ni({user:x,providerId:z,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const A=nc(b);return new ni({user:f,providerId:A,_tokenResponse:b,operationType:m})})()}}function nc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ed(){return(Ed=(0,l.Z)(function*(y){var f;const m=jn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new ni({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ec(m,{returnSecureToken:!0}),A=yield ni._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class wu extends R.ZR{constructor(f,m,b,A){var x;super(m.code,m.message),this.operationType=b,this.user=A,Object.setPrototypeOf(this,wu.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,A){return new wu(f,m,b,A)}}function io(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?wu._fromErrorAndOperation(y,x,f,b):x})}function so(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Wo(){return(Wo=(0,l.Z)(function*(y,f){const m=(0,R.m9)(y);yield oo(!0,m,f);const{providerUserInfo:b}=yield Ce(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=so(b||[]);return m.providerData=m.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Eu(y,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(y,f,m=!1){const b=yield on(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ni._forOperation(y,"link",b)})).apply(this,arguments)}function oo(y,f,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(y,f,m){yield pn(f);const A=!1===y?"provider-already-linked":"no-such-provider";U(so(f.providerData).has(m)===y,f.auth,A)})).apply(this,arguments)}function Id(y,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(y,f,m=!1){const{auth:b}=y,A="reauthenticate";try{const x=yield on(y,io(b,A,f,y),m);U(x.idToken,b,"internal-error");const z=Nt(x.idToken);U(z,b,"internal-error");const{sub:de}=z;return U(y.uid===de,b,"user-mismatch"),ni._forOperation(y,A,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ae(b,"user-mismatch"),x}})).apply(this,arguments)}function Yo(y,f){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(y,f,m=!1){const b="signIn",A=yield io(y,b,f),x=yield ni._fromIdTokenResponse(y,b,A);return m||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Yn(y,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,l.Z)(function*(y,f){return Yo(jn(y),f)})).apply(this,arguments)}function er(y,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(y,f){const m=(0,R.m9)(y);return yield oo(!1,m,f.providerId),Eu(m,f)})).apply(this,arguments)}function ao(y,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(y,f){return Id((0,R.m9)(y),f)})).apply(this,arguments)}function rc(y,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(y,f){return Mn(y,"POST","/v1/accounts:signInWithCustomToken",lt(y,f))})).apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(y,f){const m=jn(y),b=yield rc(m,{token:f,returnSecureToken:!0}),A=yield ni._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Oa{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Qo._fromServerResponse(f,m):Ae(f,"internal-error")}}class Qo extends Oa{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Qo(m)}}function Tu(y,f,m){var b;U((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function xa(){return(xa=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:f};m&&Tu(b,A,m),yield cr(b,A)})).apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(y,f,m){yield rr((0,R.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(y,f){yield Gt((0,R.m9)(y),{oobCode:f})})).apply(this,arguments)}function Su(y,f){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(y,f){const m=(0,R.m9)(y),b=yield rr(m,{oobCode:f}),A=b.requestType;switch(U(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(b.mfaInfo,m,"internal-error");default:U(b.email,m,"internal-error")}let x=null;return b.mfaInfo&&(x=Oa._fromServerResponse(jn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(y,f){const{data:m}=yield Su((0,R.m9)(y),f);return m.email})).apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(y,f,m){const b=jn(y),A=yield ec(b,{returnSecureToken:!0,email:f,password:m}),x=yield ni._fromIdTokenResponse(b,"signIn",A);return yield b._updateCurrentUser(x.user),x})).apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};U(m.handleCodeInApp,b,"argument-error"),m&&Tu(b,A,m),yield Yl(b,A)})).apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y),A=Jl.credentialWithLink(f,m||ge());return U(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Yn(b,A)})).apply(this,arguments)}function Nu(y,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:createAuthUri",lt(y,f))})).apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(y,f){const b={identifier:f,continueUri:De()?ge():"http://localhost"},{signinMethods:A}=yield Nu((0,R.m9)(y),b);return A||[]})).apply(this,arguments)}function uc(){return(uc=(0,l.Z)(function*(y,f){const m=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Tu(m.auth,A,f);const{email:x}=yield $n(m.auth,A);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Tu(b.auth,x,m);const{email:z}=yield Kl(b.auth,x);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function fi(y,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(y,f){return Bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,R.m9)(y),x={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},z=yield on(b,fi(b.auth,x));b.displayName=z.displayName||null,b.photoURL=z.photoUrl||null;const de=b.providerData.find(({providerId:qe})=>"password"===qe);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(z)})).apply(this,arguments)}function Nd(y,f,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(y,f,m){const{auth:b}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),m&&(x.password=m);const z=yield on(y,Ti(b,x));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class ps{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Md extends ps{constructor(f,m,b,A){super(f,m,b),this.username=A}}class dc extends ps{constructor(f,m){super(f,"facebook.com",m)}}class Od extends Md{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class yf extends ps{constructor(f,m){super(f,"google.com",m)}}class Ru extends Md{constructor(f,m,b){super(f,"twitter.com",m,b)}}function vf(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function cc(y){var f,m;if(!y)return null;const{providerId:b}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const z=null===(m=null===(f=Nt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new ps(x,"anonymous"!==z&&"custom"!==z?z:null)}if(!b)return null;switch(b){case"facebook.com":return new dc(x,A);case"github.com":return new Od(x,A);case"google.com":return new yf(x,A);case"twitter.com":return new Ru(x,A,y.screenName||null);case"custom":case"anonymous":return new ps(x,null);default:return new ps(x,b,A)}}(m)}class Xo{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new Xo("enroll",f,m)}static _fromMfaPendingCredential(f){return new Xo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Xo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Xo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class fc{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=jn(f),A=m.customData._serverResponse,x=(A.mfaInfo||[]).map(de=>Oa._fromServerResponse(b,de));U(A.mfaPendingCredential,b,"internal-error");const z=Xo._fromMfaPendingCredential(A.mfaPendingCredential);return new fc(z,x,function(){var de=(0,l.Z)(function*(qe){const pt=yield qe._process(b,z);delete A.mfaInfo,delete A.mfaPendingCredential;const Vt=Object.assign(Object.assign({},A),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(m.operationType){case"signIn":const At=yield ni._fromIdTokenResponse(b,m.operationType,Vt);return yield b._updateCurrentUser(At.user),At;case"reauthenticate":return U(m.user,b,"internal-error"),ni._forOperation(m.user,m.operationType,Vt);default:Ae(b,"internal-error")}});return function(qe){return de.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function bf(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:start",lt(y,f))}class Fa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Oa._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Fa(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Xo._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,l.Z)(function*(){const A=f,x=yield b.getSession(),z=yield on(b.user,A._process(b.user.auth,x,m));return yield b.user._updateTokensIfNecessary(z),b.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){const b="string"==typeof f?f:f.uid,A=yield m.user.getIdToken();try{const x=yield on(m.user,function Ng(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(y,f))}(m.user.auth,{idToken:A,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==b),yield m.user._updateTokensIfNecessary(x),yield m.user.reload()}catch(x){throw x}})()}}const co=new WeakMap,rs="__sak";class ho{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const pc=(()=>{class y extends ho{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wf(){const y=(0,R.z$)();return Wt(y)||ur(y)}()&&function Ea(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pf(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),x=this.localCache[b];A!==x&&m(b,x,A)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((de,qe,pt)=>{this.notifyListeners(de,pt)});const A=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!b)return}const x=()=>{const de=this.storage.getItem(A);!b&&this.localCache[A]===de||this.notifyListeners(A,de)},z=this.storage.getItem(A);!function Da(){return(0,R.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const x of Array.from(A))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var A=()=>super._set,x=this;return(0,l.Z)(function*(){yield A().call(x,m,b),x.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,A=this;return(0,l.Z)(function*(){const x=yield b().call(A,m);return A.localCache[m]=JSON.stringify(x),x})()}_remove(m){var b=()=>super._remove,A=this;return(0,l.Z)(function*(){yield b().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),fo=(()=>{class y extends ho{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Pu=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(x=>x.isListeningto(m));if(b)return b;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const A=m,{eventId:x,eventType:z,data:de}=A.data,qe=b.handlersMap[z];if(!qe?.size)return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:z});const pt=Array.from(qe).map(function(){var At=(0,l.Z)(function*(gr){return gr(A.origin,de)});return function(gr){return At.apply(this,arguments)}}()),Vt=yield function kd(y){return Promise.all(y.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(pt);A.ports[0].postMessage({status:"done",eventId:x,eventType:z,response:Vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function po(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class gc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var A=this;return(0,l.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let z,de;return new Promise((qe,pt)=>{const Vt=po("",20);x.port1.start();const At=setTimeout(()=>{pt(new Error("unsupported_event"))},b);de={messageChannel:x,onMessage(gr){const Is=gr;if(Is.data.eventId===Vt)switch(Is.data.status){case"ack":clearTimeout(At),z=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),qe(Is.data.response);break;default:clearTimeout(At),clearTimeout(z),pt(new Error("invalid_response"))}}},A.handlers.add(de),x.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:f,eventId:Vt,data:m},[x.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function Gn(){return window}function ea(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function ta(){return(ta=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fu="firebaseLocalStorageDb",Ls="firebaseLocalStorage",Ba="fbase_key";class Vs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function na(y,f){return y.transaction([Ls],f?"readwrite":"readonly").objectStore(Ls)}function Ua(){const y=indexedDB.open(Fu,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Ls,{keyPath:Ba})}catch(A){m(A)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Ls)?f(b):(b.close(),yield function ra(){const y=indexedDB.deleteDatabase(Fu);return new Vs(y).toPromise()}(),f(yield Ua()))}))})}function gi(y,f,m){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,l.Z)(function*(y,f,m){const b=na(y,!0).put({[Ba]:f,value:m});return new Vs(b).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(y,f){const m=na(y,!1).get(f),b=yield new Vs(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Bu(y,f){const m=na(y,!0).delete(f);return new Vs(m).toPromise()}const _o=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Ua()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const x=yield b._openDb();return yield m(x)}catch(x){if(A++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return ea()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Pu._getInstance(function Va(){return ea()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(A,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(A,x){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,A;if(m.activeServiceWorker=yield function ms(){return ta.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gc(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(b=x[0])&&void 0!==b&&b.fulfilled&&null!==(A=x[0])&&void 0!==A&&A.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function mc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ua();return yield gi(m,rs,"1"),yield Bu(m,rs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(x=>gi(x,m,b)),A.localCache[m]=b,A.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const A=yield b._withRetries(x=>function go(y,f){return mo.apply(this,arguments)}(x,m));return b.localCache[m]=A,A})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(A=>Bu(A,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(z=>{const de=na(z,!1).getAll();return new Vs(de).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:z,value:de}of b)x.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(de)&&(m.notifyListeners(z,de),A.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!x.has(z)&&(m.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const x of Array.from(A))x(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function $u(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:start",lt(y,f))}function _c(){return(_c=(0,l.Z)(function*(y){return(yield Bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=A=>{const x=_e("internal-error");x.customData=A,m(x)},b.type="text/javascript",b.charset="UTF-8",function ia(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function yc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ai=1e12;class Mg{constructor(f){this.auth=f,this.counter=Ai,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new bc(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ai;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ai))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ai))||void 0===b||b.execute(),""})()}}class bc{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hu(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wc=yc("rcb"),Fd=new it(3e4,6e4);class Bs{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Gn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function zu(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Gn().grecaptcha):new Promise((b,A)=>{const x=Gn().setTimeout(()=>{A(_e(f,"network-request-failed"))},Fd.get());Gn()[wc]=()=>{Gn().clearTimeout(x),delete Gn()[wc];const de=Gn().grecaptcha;if(!de)return void A(_e(f,"internal-error"));const qe=de.render;de.render=(pt,Vt)=>{const At=qe(pt,Vt);return this.counter++,At},this.hostLanguage=m,b(de)},is(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:wc,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),A(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Gn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ja{load(f){return(0,l.Z)(function*(){return new Mg(f)})()}clearedOneInstance(){}}const Dc="recaptcha",Vd={theme:"light",type:"image"};class $a{constructor(f,m=Object.assign({},Vd),b){this.parameters=m,this.type=Dc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(b),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ja:new Bs,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(x=>{const z=de=>{de&&(f.tokenChangeListeners.delete(z),x(de))};f.tokenChangeListeners.add(z),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Gn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){U(De()&&!ea(),f.auth,"internal-error"),yield function fy(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function _s(y){return _c.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Df{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Fi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function os(){return(os=(0,l.Z)(function*(y,f,m){const b=jn(y),A=yield jd(b,f,(0,R.m9)(m));return new Df(A,x=>Yn(b,x))})).apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y);yield oo(!1,b,"phone");const A=yield jd(b.auth,f,(0,R.m9)(m));return new Df(A,x=>er(b,x))})).apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y),A=yield jd(b.auth,f,(0,R.m9)(m));return new Df(A,x=>ao(b,x))})).apply(this,arguments)}function jd(y,f,m){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,l.Z)(function*(y,f,m){var b;const A=yield m.verify();try{let x;if(U("string"==typeof A,y,"argument-error"),U(m.type===Dc,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const z=x.session;if("phoneNumber"in x)return U("enroll"===z.type,y,"internal-error"),(yield bf(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===z.type,y,"internal-error");const de=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return U(de,y,"missing-multi-factor-info"),(yield $u(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield vd(y,{phoneNumber:x.phoneNumber,recaptchaToken:A});return z}}finally{m._reset()}})).apply(this,arguments)}function $d(){return($d=(0,l.Z)(function*(y,f){yield Eu((0,R.m9)(y),f)})).apply(this,arguments)}let Tc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=jn(m)}verifyPhoneNumber(m,b){return jd(this.auth,m,(0,R.m9)(b))}static credential(m,b){return Fi._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:A}=m;return b&&A?Fi._fromTokenResponse(b,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Rn(y,f){return f?Et(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Wu extends Xn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return dr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return dr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return dr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function qu(y){return Yo(y.auth,new Wu(y),y.bypassAuthState)}function Gd(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Id(m,new Wu(y),y.bypassAuthState)}function ii(y){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Eu(m,new Wu(y),y.bypassAuthState)})).apply(this,arguments)}class Zu{constructor(f,m,b,A,x=!1){this.auth=f,this.resolver=b,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(b,A){f.pendingPromise={resolve:b,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(b,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:x,tenantId:z,error:de,type:qe}=f;if(de)return void m.reject(de);const pt={auth:m.auth,requestUri:b,sessionId:A,tenantId:z||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(qe)(pt))}catch(Vt){m.reject(Vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return qu;case"linkViaPopup":case"linkViaRedirect":return ii;case"reauthViaPopup":case"reauthViaRedirect":return Gd;default:Ae(this.auth,"internal-error")}}resolve(f){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ga=new it(2e3,1e4);function Yu(){return(Yu=(0,l.Z)(function*(y,f,m){const b=jn(y);$e(y,f,hs);const A=Rn(b,m);return new Ku(b,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function If(){return(If=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y);$e(b.auth,f,hs);const A=Rn(b.auth,m);return new Ku(b.auth,"reauthViaPopup",f,A,b).executeNotNull()})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y);$e(b.auth,f,hs);const A=Rn(b.auth,m);return new Ku(b.auth,"linkViaPopup",f,A,b).executeNotNull()})).apply(this,arguments)}let Ku=(()=>{class y extends Zu{constructor(m,b,A,x,z){super(m,b,x,z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return U(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ge(1===m.filter.length,"Popup operations only handle one event");const b=po();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,A;this.pollId=null!==(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ga.get())};m()}}return y.currentPopupAction=null,y})();const yo=new Map;class kr extends Zu{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=yo.get(m.auth._key());if(!b){try{const x=(yield function In(y,f){return Pr.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(x)}catch(A){b=()=>Promise.reject(A)}yo.set(m.auth._key(),b)}return m.bypassAuthState||yo.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const A=yield b.auth._redirectUserForId(f.eventId);if(A)return b.user=A,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Pr(){return(Pr=(0,l.Z)(function*(y,f){const m=Hn(f),b=ys(y);if(!(yield b._isAvailable()))return!1;const A="true"===(yield b._get(m));return yield b._remove(m),A})).apply(this,arguments)}function wt(y,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(y,f){return ys(y)._set(Hn(f),"true")})).apply(this,arguments)}function Hd(y,f){yo.set(y._key(),f)}function ys(y){return Et(y._redirectPersistence)}function Hn(y){return W("pendingRedirect",y.config.apiKey,y.name)}function I(){return(I=(0,l.Z)(function*(y,f,m){const b=jn(y);$e(y,f,hs),yield b._initializationPromise;const A=Rn(b,m);return yield wt(A,b),A._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y);$e(b.auth,f,hs),yield b.auth._initializationPromise;const A=Rn(b.auth,m);yield wt(A,b.auth);const x=yield Rt(b);return A._openRedirect(b.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(y,f,m){const b=(0,R.m9)(y);$e(b.auth,f,hs),yield b.auth._initializationPromise;const A=Rn(b.auth,m);yield oo(!1,b,f.providerId),yield wt(A,b.auth);const x=yield Rt(b);return A._openRedirect(b.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(y,f){return yield jn(y)._initializationPromise,Dt(y,f,!1)})).apply(this,arguments)}function Dt(y,f){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(y,f,m=!1){const b=jn(y),A=Rn(b,f),z=yield new kr(b,A,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield b._persistUserIfCurrent(z.user),yield b._setRedirectUser(null,f)),z})).apply(this,arguments)}function Rt(y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(y){const f=po(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Xt{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function dt(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return si(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!si(f)){const A=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cc(f))}saveEventToCache(f){this.cachedEventUids.add(Cc(f)),this.lastProcessedEventTime=Date.now()}}function Cc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function si({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Li(y){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(y,f={}){return Bt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zd=/^https?/;function xg(){return(xg=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Li(y);for(const m of f)try{if(Wd(m))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Wd(y){const f=ge(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===b}if(!zd.test(m))return!1;if(Sc.test(y))return b===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const Yb=new it(3e4,6e4);function Rg(){const y=Gn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let or=null;function Tf(y){return or=or||function py(y){return new Promise((f,m)=>{var b,A,x;function z(){Rg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Rg(),m(_e(y,"network-request-failed"))},timeout:Yb.get()})}if(null!==(A=null===(b=Gn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(x=Gn().gapi)||void 0===x||!x.load){const de=yc("iframefcb");return Gn()[de]=()=>{gapi.load?z():m(_e(y,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${de}`).catch(qe=>m(qe))}z()}}).catch(f=>{throw or=null,f})}(y),or}const oi=new it(5e3,15e3),gy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function my(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Je(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:oe.SDK_VERSION},A=kg.get(y.config.apiHost);A&&(b.eid=A);const x=y._getFrameworks();return x.length&&(b.fw=x.join(",")),`${m}?${(0,R.xO)(b).slice(1)}`}function Cf(){return Cf=(0,l.Z)(function*(y){const f=yield Tf(y),m=Gn().gapi;return U(m,y,"internal-error"),f.open({where:document.body,url:my(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gy,dontclear:!0},b=>new Promise(function(){var A=(0,l.Z)(function*(x,z){yield b.restyle({setHideOnLeave:!1});const de=_e(y,"network-request-failed"),qe=Gn().setTimeout(()=>{z(de)},oi.get());function pt(){Gn().clearTimeout(qe),x(b)}b.ping(pt).then(pt,()=>{z(de)})});return function(x,z){return A.apply(this,arguments)}}()))}),Cf.apply(this,arguments)}const Ac={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vi{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ha(y,f,m,b,A,x){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:oe.SDK_VERSION,eventId:A};if(f instanceof hs){f.setDefaultLanguage(y.languageCode),z.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[qe,pt]of Object.entries(x||{}))z[qe]=pt}if(f instanceof Ho){const qe=f.getScopes().filter(pt=>""!==pt);qe.length>0&&(z.scopes=qe.join(","))}y.tenantId&&(z.tid=y.tenantId);const de=z;for(const qe of Object.keys(de))void 0===de[qe]&&delete de[qe];return`${function Pg({config:y}){return y.emulator?Je(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(de).slice(1)}`}const Af="webStorageSupport",el=class Fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=Dt,this._overrideRedirectResult=Hd}_openPopup(f,m,b,A){var x=this;return(0,l.Z)(function*(){var z;Ge(null===(z=x.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const de=Ha(f,m,b,ge(),A);return function _y(y,f,m,b=500,A=600){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const qe=Object.assign(Object.assign({},Ac),{width:b.toString(),height:A.toString(),top:x,left:z}),pt=(0,R.z$)().toLowerCase();m&&(de=en(pt)?"_blank":m),bt(pt)&&(f=f||"http://localhost",qe.scrollbars="yes");const Vt=Object.entries(qe).reduce((gr,[Is,js])=>`${gr}${Is}=${js},`,"");if(function Gr(y=(0,R.z$)()){var f;return ur(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(pt)&&"_self"!==de)return function yy(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",de),new Vi(null);const At=window.open(f||"",de,Vt);U(At,y,"popup-blocked");try{At.focus()}catch{}return new Vi(At)}(f,de,po())})()}_openRedirect(f,m,b,A){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(f),function Fs(y){Gn().location.href=y}(Ha(f,m,b,ge(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:x}=this.eventManagers[m];return A?Promise.resolve(A):(Ge(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const b=yield function mi(y){return Cf.apply(this,arguments)}(f),A=new Xt(f);return b.register("authEvent",x=>(U(x?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=b,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Af,{type:Af},A=>{var x;const z=null===(x=A?.[0])||void 0===x?void 0:x[Af];void 0!==z&&m(!!z),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ju(y){return xg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return pf()||Wt()||ur()}};class Nf{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ee("unexpected MultiFactorSessionType")}}}class Mc extends Nf{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Mc(f)}_finalizeEnroll(f,m,b){return function Ag(y,f){return Bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",lt(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Gu(y,f){return Bt(y,"POST","/v2/accounts/mfaSignIn:finalize",lt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ai=(()=>{class y{constructor(){}static assertion(m){return Mc._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Yd="@firebase/auth";class Oc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ws(){return window}function Kd(){return(Kd=(0,l.Z)(function*(y,f,m){var b;const{BuildInfo:A}=ws();Ge(f.sessionId,"AuthEvent did not contain a session ID");const x=yield Ug(f.sessionId),z={};return ur()?z.ibi=A.packageName:xt()?z.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=x,Ha(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,z)})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(y){const{BuildInfo:f}=ws(),m={};ur()?m.iosBundleId=f.packageName:xt()?m.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Li(y,m)})).apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,f,m){const{cordova:b}=ws();let A=()=>{};try{yield new Promise((x,z)=>{let de=null;function qe(){var At;x();const gr=null===(At=b.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof gr&&gr(),"function"==typeof m?.close&&m.close()}function pt(){de||(de=window.setTimeout(()=>{z(_e(y,"redirect-cancelled-by-user"))},2e3))}function Vt(){"visible"===document?.visibilityState&&pt()}f.addPassiveListener(qe),document.addEventListener("resume",pt,!1),xt()&&document.addEventListener("visibilitychange",Vt,!1),A=()=>{f.removePassiveListener(qe),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",Vt,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function Ug(y){return rl.apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(y){const f=Pf(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pf(y){if(Ge(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,R.Pz)("authIdTokenMaxAge"),function xc(y){(0,oe._registerComponent)(new ve.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:x,authDomain:z}=b.options;return((de,qe)=>{U(x&&!x.includes(":"),"invalid-api-key",{appName:de.name}),U(!z?.includes(":"),"argument-error",{appName:de.name});const pt={apiKey:x,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bu(y)},Vt=new _d(de,qe,pt);return function ue(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Et);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(Vt,m),Vt})(b,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ve.wA("auth-internal",f=>{const m=jn(f.getProvider("auth").getImmediate());return new Oc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Yd,"0.21.3",function Zr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(Yd,"0.21.3","esm2017")}("Browser");class za extends Xt{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function jg(y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(y){const f=yield fr()._get(Cr(y));return f&&(yield fr()._remove(Cr(y))),f})).apply(this,arguments)}function Bf(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function fr(){return Et(pc)}function Cr(y){return W("authEvent",y.config.apiKey,y.name)}function Pc(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,R.zd)(m.join("?"))}const Gf=class $f{constructor(){this._redirectPersistence=fo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dt,this._overrideRedirectResult=Hd}_initialize(f){var m=this;return(0,l.Z)(function*(){const b=f._key();let A=m.eventManagers.get(b);return A||(A=new za(f),m.eventManagers.set(b,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,A){var x=this;return(0,l.Z)(function*(){!function kf(y){var f,m,b,A,x,z,de,qe,pt,Vt;const At=ws();U("function"==typeof(null===(f=At?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=At?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(x=null===(A=null===(b=At?.cordova)||void 0===b?void 0:b.plugins)||void 0===A?void 0:A.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(qe=null===(de=null===(z=At?.cordova)||void 0===z?void 0:z.plugins)||void 0===de?void 0:de.browsertab)||void 0===qe?void 0:qe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Vt=null===(pt=At?.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===Vt?void 0:Vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield x._initialize(f);yield z.initialized(),z.resetRedirect(),function Qu(){yo.clear()}(),yield x._originValidation(f);const de=function kc(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Bf(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(f,b,A);yield function Lf(y,f){return fr()._set(Cr(y),f)}(f,de);const qe=yield function xf(y,f,m){return Kd.apply(this,arguments)}(f,de,m),pt=yield function Rc(y){const{cordova:f}=ws();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let A=null;b?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function Uo(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(qe);return function Rf(y,f,m){return vo.apply(this,arguments)}(f,z,pt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Bg(y){return oa.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:A,BuildInfo:x}=ws(),z=setTimeout((0,l.Z)(function*(){yield jg(f),m.onEvent($g())}),500),de=function(){var Vt=(0,l.Z)(function*(At){clearTimeout(z);const gr=yield jg(f);let Is=null;gr&&At?.url&&(Is=function Vf(y,f){var m,b;const A=function Uf(y){const f=Pc(y),m=f.link?decodeURIComponent(f.link):void 0,b=Pc(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Pc(A).link||A||b||m||y}(f);if(A.includes("/__/auth/callback")){const x=Pc(A),z=x.firebaseError?function Qd(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,de=null===(b=null===(m=z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],qe=de?_e(de):null;return qe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(gr,At.url)),m.onEvent(Is||$g())});return function(gr){return Vt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,de);const qe=A,pt=`${x.packageName.toLowerCase()}://`;ws().handleOpenURL=function(){var Vt=(0,l.Z)(function*(At){if(At.toLowerCase().startsWith(pt)&&de({url:At}),"function"==typeof qe)try{qe(At)}catch(gr){console.error(gr)}});return function(At){return Vt.apply(this,arguments)}}()}};function $g(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function qa(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Fc(y=(0,R.z$)()){return!("file:"!==qa()&&"ionic:"!==qa()&&"capacitor:"!==qa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Za(){try{const y=self.localStorage,f=po();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Zg(y=(0,R.z$)()){return function il(){return(0,R.w1)()&&11===document?.documentMode}()||function qg(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return Lc()&&(0,R.hl)()}return!1}function Lc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sl(){return(function zg(){return"http:"===qa()||"https:"===qa()}()||(0,R.ru)()||Fc())&&!function Wg(){return(0,R.b$)()||(0,R.UG)()}()&&Za()&&!Lc()}function Xd(){return Fc()&&typeof document<"u"}function ol(){return(ol=(0,l.Z)(function*(){return!!Xd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const pr={LOCAL:"local",NONE:"none",SESSION:"session"},Ka=U,eh="persistence";function th(y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(y){yield y._initializationPromise;const f=al(),m=W(eh,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function al(){var y;try{return(null===(y=function Yg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Qg=U;class Qn{constructor(){this.browserResolver=Et(el),this.cordovaResolver=Et(Gf),this.underlyingResolver=null,this._redirectPersistence=fo,this._completeRedirectFn=Dt,this._overrideRedirectResult=Hd}_initialize(f){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,A){var x=this;return(0,l.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,m,b,A)})()}_openRedirect(f,m,b,A){var x=this;return(0,l.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,m,b,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Xd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Ya(){return ol.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function nh(y){return y.unwrap()}function ul(y){return rh(y)}function rh(y){const{_tokenResponse:f}=y instanceof R.ZR?y.customData:y;if(!f)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Tc.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=mf;break;case"facebook.com":b=Xl;break;case"github.com":b=wd;break;case"twitter.com":b=Tg;break;default:const{oauthIdToken:A,oauthAccessToken:x,oauthTokenSecret:z,pendingToken:de,nonce:qe}=f;return x||z||A||de?de?m.startsWith("saml.")?zo._create(m,de):Si._fromParams({providerId:m,signInMethod:m,pendingToken:de,idToken:A,accessToken:x}):new Aa(m).credential({idToken:A,accessToken:x,rawNonce:qe}):null}return y instanceof R.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function _i(y,f){return f.catch(m=>{throw m instanceof R.ZR&&function ua(y,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Vc(y,function Rr(y,f){var m;const b=(0,R.m9)(y),A=f;return U(f.customData.operationType,b,"argument-error"),U(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),fc._fromError(b,A)}(y,f));else if(b){const A=rh(f),x=f;A&&(x.credential=A,x.tenantId=b.tenantId||void 0,x.email=b.email||void 0,x.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:ul(m),additionalUserInfo:vf(m),user:Es.getOrCreate(A)}})}function Hf(y,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>_i(y,m.confirm(b))}})).apply(this,arguments)}class Vc{constructor(f,m){this.resolver=m,this.auth=function aa(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return _i(nh(this.auth),this.resolver.resolveSignIn(f))}}class Es{constructor(f){this._delegate=f,this.multiFactor=function ku(y){const f=(0,R.m9)(y);return co.has(f)||co.set(f,Fa._fromUser(f)),co.get(f)}(f)}static getOrCreate(f){return Es.USER_MAP.has(f)||Es.USER_MAP.set(f,new Es(f)),Es.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,l.Z)(function*(){return _i(m.auth,er(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,l.Z)(function*(){return Hf(b.auth,function Og(y,f,m){return Bd.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,l.Z)(function*(){return _i(m.auth,function Zb(y,f,m){return qr.apply(this,arguments)}(m._delegate,f,Qn))})()}linkWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield th(jn(m.auth)),function Z(y,f,m){return function ne(y,f,m){return Fe.apply(this,arguments)}(y,f,m)}(m._delegate,f,Qn)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,l.Z)(function*(){return _i(m.auth,ao(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Hf(this.auth,function Ud(y,f,m){return Ec.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return _i(this.auth,function qb(y,f,m){return If.apply(this,arguments)}(this._delegate,f,Qn))}reauthenticateWithRedirect(f){var m=this;return(0,l.Z)(function*(){return yield th(jn(m.auth)),function C(y,f,m){return function M(y,f,m){return L.apply(this,arguments)}(y,f,m)}(m._delegate,f,Qn)})()}sendEmailVerification(f){return function Sd(y,f){return uc.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,l.Z)(function*(){return yield function Du(y,f){return Wo.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Ad(y,f){return Nd((0,R.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Pa(y,f){return Nd((0,R.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ic(y,f){return $d.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function lo(y,f){return ns.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function xu(y,f,m){return hr.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Es.USER_MAP=new WeakMap;const la=U;let ca=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;la(A,"invalid-api-key",{appName:m.name}),la(A,"invalid-api-key",{appName:m.name});const x=typeof window<"u"?Qn:void 0;this._delegate=b.initialize({options:{persistence:zf(A,m.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Es.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Zl(y,f,m){const b=jn(y);U(b._canInitEmulator,b,"emulator-config-failed"),U(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const A=!!m?.disableWarnings,x=Ia(f),{host:z,port:de}=function Ta(y){const f=Ia(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const x=A[1];return{host:x,port:un(b.substr(x.length+1))}}{const[x,z]=b.split(":");return{host:x,port:un(z)}}}(f);b.config.emulator={url:`${x}//${z}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:z,port:de,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function lr(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Cu(y,f){return Td.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Su(this._delegate,m)}confirmPasswordReset(m,b){return function Ra(y,f,m){return jt.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var A=this;return(0,l.Z)(function*(){return _i(A._delegate,function _f(y,f,m){return oc.apply(this,arguments)}(A._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Mu(y,f){return Ou.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Cd(y,f){return"EMAIL_SIGNIN"===Sa.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){la(sl(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Ke(y,f){return Tt.apply(this,arguments)}(m._delegate,Qn);return b?_i(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Gg(y,f){jn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,A){const{next:x,error:z,complete:de}=da(m,b,A);return this._delegate.onAuthStateChanged(x,z,de)}onIdTokenChanged(m,b,A){const{next:x,error:z,complete:de}=da(m,b,A);return this._delegate.onIdTokenChanged(x,z,de)}sendSignInLinkToEmail(m,b){return function ln(y,f,m){return ac.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function fs(y,f,m){return xa.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let A;switch(function Ds(y,f){Ka(Object.values(pr).includes(f),y,"invalid-persistence-type"),(0,R.b$)()?Ka(f!==pr.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Ka(f===pr.NONE,y,"unsupported-persistence-type"):Lc()?Ka(f===pr.NONE||f===pr.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Ka(f===pr.NONE||Za(),y,"unsupported-persistence-type")}(b._delegate,m),m){case pr.SESSION:A=fo;break;case pr.LOCAL:A=(yield Et(_o)._isAvailable())?_o:pc;break;case pr.NONE:A=V;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return _i(this._delegate,function Dd(y){return Ed.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return _i(this._delegate,Yn(this._delegate,m))}signInWithCustomToken(m){return _i(this._delegate,function uo(y,f){return Tr.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return _i(this._delegate,function be(y,f,m){return Yn((0,R.m9)(y),Jl.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return _i(this._delegate,function xr(y,f,m){return ka.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Hf(this._delegate,function _n(y,f,m){return os.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return la(sl(),b._delegate,"operation-not-supported-in-this-environment"),_i(b._delegate,function sa(y,f,m){return Yu.apply(this,arguments)}(b._delegate,m,Qn))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return la(sl(),b._delegate,"operation-not-supported-in-this-environment"),yield th(b._delegate),function vs(y,f,m){return function Cn(y,f,m){return I.apply(this,arguments)}(y,f,m)}(b._delegate,m,Qn)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function sc(y,f){return Au.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=pr,y})();function da(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const A=b;return{next:z=>A(z&&Es.getOrCreate(z)),error:f,complete:m}}function zf(y,f){const m=function Kg(y,f){const m=al();if(!m)return[];const b=W(eh,y,f);switch(m.getItem(b)){case pr.NONE:return[V];case pr.LOCAL:return[_o,fo];case pr.SESSION:return[fo];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(_o)&&m.push(_o),typeof window<"u")for(const b of[pc,fo])m.includes(b)||m.push(b);return m.includes(V)||m.push(V),m}class ih{constructor(){this.providerId="phone",this._delegate=new Tc(nh(K.Z.auth()))}static credential(f,m){return Tc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}ih.PHONE_SIGN_IN_METHOD=Tc.PHONE_SIGN_IN_METHOD,ih.PROVIDER_ID=Tc.PROVIDER_ID;const sh=U;class Bc{constructor(f,m,b=K.Z.app()){var A;sh(null===(A=b.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new $a(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jg(y){y.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new ca(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jl,FacebookAuthProvider:Xl,GithubAuthProvider:wd,GoogleAuthProvider:mf,OAuthProvider:Aa,SAMLAuthProvider:ts,PhoneAuthProvider:ih,PhoneMultiFactorGenerator:ai,RecaptchaVerifier:Bc,TwitterAuthProvider:Tg,Auth:ca,AuthCredential:Xn,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.3")}(K.Z)},8766:(vt,Se,P)=>{P.d(Se,{Lj:()=>Ae,X3:()=>je});var l=P(5861);let R,oe;const ve=new WeakMap,fe=new WeakMap,he=new WeakMap,G=new WeakMap,$=new WeakMap;let Oe={get(U,Ee,Ge){if(U instanceof IDBTransaction){if("done"===Ee)return fe.get(U);if("objectStoreNames"===Ee)return U.objectStoreNames||he.get(U);if("store"===Ee)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Re(U[Ee])},set:(U,Ee,Ge)=>(U[Ee]=Ge,!0),has:(U,Ee)=>U instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in U};function pe(U){return"function"==typeof U?function yt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...Ee){return U.apply(xe(this),Ee),Re(ve.get(this))}:function(...Ee){return Re(U.apply(xe(this),Ee))}:function(Ee,...Ge){const Ye=U.call(xe(this),Ee,...Ge);return he.set(Ye,Ee.sort?Ee.sort():[Ee]),Re(Ye)}}(U):(U instanceof IDBTransaction&&function We(U){if(fe.has(U))return;const Ee=new Promise((Ge,Ye)=>{const Et=()=>{U.removeEventListener("complete",ut),U.removeEventListener("error",ue),U.removeEventListener("abort",ue)},ut=()=>{Ge(),Et()},ue=()=>{Ye(U.error||new DOMException("AbortError","AbortError")),Et()};U.addEventListener("complete",ut),U.addEventListener("error",ue),U.addEventListener("abort",ue)});fe.set(U,Ee)}(U),((U,Ee)=>Ee.some(Ge=>U instanceof Ge))(U,function ie(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Oe):U)}function Re(U){if(U instanceof IDBRequest)return function q(U){const Ee=new Promise((Ge,Ye)=>{const Et=()=>{U.removeEventListener("success",ut),U.removeEventListener("error",ue)},ut=()=>{Ge(Re(U.result)),Et()},ue=()=>{Ye(U.error),Et()};U.addEventListener("success",ut),U.addEventListener("error",ue)});return Ee.then(Ge=>{Ge instanceof IDBCursor&&ve.set(Ge,U)}).catch(()=>{}),$.set(Ee,U),Ee}(U);if(G.has(U))return G.get(U);const Ee=pe(U);return Ee!==U&&(G.set(U,Ee),$.set(Ee,U)),Ee}const xe=U=>$.get(U);function je(U,Ee,{blocked:Ge,upgrade:Ye,blocking:Et,terminated:ut}={}){const ue=indexedDB.open(U,Ee),ge=Re(ue);return Ye&&ue.addEventListener("upgradeneeded",De=>{Ye(Re(ue.result),De.oldVersion,De.newVersion,Re(ue.transaction))}),Ge&&ue.addEventListener("blocked",()=>Ge()),ge.then(De=>{ut&&De.addEventListener("close",()=>ut()),Et&&De.addEventListener("versionchange",()=>Et())}).catch(()=>{}),ge}function Ae(U,{blocked:Ee}={}){const Ge=indexedDB.deleteDatabase(U);return Ee&&Ge.addEventListener("blocked",()=>Ee()),Re(Ge).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],$e=new Map;function Ve(U,Ee){if(!(U instanceof IDBDatabase)||Ee in U||"string"!=typeof Ee)return;if($e.get(Ee))return $e.get(Ee);const Ge=Ee.replace(/FromIndex$/,""),Ye=Ee!==Ge,Et=Pe.includes(Ge);if(!(Ge in(Ye?IDBIndex:IDBObjectStore).prototype)||!Et&&!_e.includes(Ge))return;const ut=function(){var ue=(0,l.Z)(function*(ge,...De){const ke=this.transaction(ge,Et?"readwrite":"readonly");let Ue=ke.store;return Ye&&(Ue=Ue.index(De.shift())),(yield Promise.all([Ue[Ge](...De),Et&&ke.done]))[0]});return function(De){return ue.apply(this,arguments)}}();return $e.set(Ee,ut),ut}!function Ze(U){Oe=U(Oe)}(U=>({...U,get:(Ee,Ge,Ye)=>Ve(Ee,Ge)||U.get(Ee,Ge,Ye),has:(Ee,Ge)=>!!Ve(Ee,Ge)||U.has(Ee,Ge)}))},5861:(vt,Se,P)=>{function l(R,oe,ie,re,ve,fe,he){try{var G=R[fe](he),$=G.value}catch(q){return void ie(q)}G.done?oe($):Promise.resolve($).then(re,ve)}function K(R){return function(){var oe=this,ie=arguments;return new Promise(function(re,ve){var fe=R.apply(oe,ie);function he($){l(fe,re,ve,he,G,"next",$)}function G($){l(fe,re,ve,he,G,"throw",$)}he(void 0)})}}P.d(Se,{Z:()=>K})}},vt=>{var Se=l=>vt(vt.s=l);Se(1321),Se(9867)}]);